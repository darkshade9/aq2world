<html><head><title>Hidden and Dangerous: npc_sniper</title><base href="http://www.gamedesign.net/" /><style type="text/css">
@import url(misc/print.css);
</style></head><body><h1 id="1013" name="1013" class="book-h1">Hidden and Dangerous: npc_sniper</h1><p style="text-align: justify;"><img src="content/half-life2/tutorials/npc_sniper/sniper.gif" style="float: left; padding: 10px;" width="256" height="253" alt="Sniper" title="Sniper" />One of the cooler enemies in Half-Life 2 was the npc_sniper. Your invisible foe, firing well aimed leaded death from the other end of a blue laser. Getting these guys into the game is fairly simply, but getting them to work well takes a few more entities then just a npc_sniper.</p>
<p style="text-align: justify;">The first thing to do is make your sniper's nest. The nest should be fairly high up, but close enough to the ground to make shoving a grenade down his throat easy. Make it (at least) about 80 units tall and 48 units wide/deep. Cutting out the window from a texture works well for making a room large enough, and as a plus, it actually looks like he is inside a window. Now, do not put a light source in the room, snipers are not meant to be seen, and they look pretty bad if they are. Between shots their &quot;idle&quot; animation is the same as their ragdoll, so unless you want a sniper that plays &quot;airplane&quot; between shots, keep it dark.</p>
<p style="text-align: justify;">The next step is to place the sniper in the nest. Using the entity tool (Shift-E), simply place a <span style="font-weight: bold;">npc_sniper</span> in the nest, away from the walls and close to the opening. Rotate the sniper to face out the window. Now, the sniper has a few keyvalues that you may find useful:</p>
<ul>
<li><span style="font-weight: bold;">Squad Name:</span> If this is set to the same as some troops on the ground, and the Wake Squad attribute is set on all of them, the sniper will alert the troops to your presence when he sees you, (or visa-versa).</li>
<br><br>
<li><span style="font-weight: bold;">Initial Misses:</span> How many times the sniper should miss you when he firsts sees you. You should probably make this 1, as its no fun to get pw0ned before you even see the enemy.</li>
<br><br>
<li><span style="font-weight: bold;">Beam Brightness:</span> How bright to make the &quot;blue laser of death&quot;.</li>
<br><br>
<li><span style="font-weight: bold;">Bullet Shield Distance:</span> Turns out bullets don't hurt snipers. This and the Bullet Shield Radius control how large of a shield of protection these guys have. The default value works well.</li>
<br><br>
</ul>
<p>This guy pretty much uses standard flags, you really shouldn't have to mess with any of them.</p>
<p style="text-align: justify;">So, now that we have the sniper, lets make him more dramatic. In the opening you made for him to shoot out of, make a thin brush covered with <span style="font-weight: bold;">tools/NODRAW</span>. Using the Texture Application Tool (shift-A) change the face that faces outward from the sniper into a nice partially transparent window textures, like glass/glasswindow002c. Resize it to look less like glass and more like just a frame, then tie it to a <span style="font-weight: bold;">func_illusionary</span> with a render mode of <span style="font-styler: italic;">solid</span> and a render amount of <span style="font-styler: italic;">255</span>. This will make the glass panels transparent, but will leave the bars. Give the <span style="font-weight: bold;">func_illusionary</span> a name, like <span style="font-styler: italic;">sniperwindow</span>. You will use the name to destroy the window, by having an output on the sniper's OnDeath target the <span style="font-weight: bold;">func_illusionary</span>'s Input of Kill. Sniper dies (which will happen by explosion), the window frame is gone.</p>
<p style="text-align: justify;">Now, one last step that no sniper can be without is the <span style="font-weight: bold;">phys_ragdollmagnet</span>. This is the physics entity that, after the sniper is dead, will pull his corpse out of his nest, sending him tumbling towards the ground in true Hollywood fashion. Simply place one of the these bad boys to the front and down a little from the sniper, out in the open air. Make sure the &quot;effective radius&quot; is high enough to envelope our sniper, and give the &quot;force&quot; key a reasonable value, like 5000.</p>
<p style="text-align: justify;">Well, we are done. When the sniper sees Gordon he will attempt to kill him, at which time Gordon throws a grenade into the window and sends our poor sniper plummeting to his death. Doesn't get any better then lasers and falling corpses. As usual, if you have any questions or comments about this article, post them here or email me at jeffca51 <span style="font-weight: bold;">at</span> yahoo <span style="font-weight: bold;">dot</span> com. Any other mapping questions can be directed to the <a href="http://forums.gamedesign.net/viewforum.php?f=9">Half-Life 2</a> or <a href="http://forums.gamedesign.net/viewforum.php?f=31">Hammer</a> forums.</p>
</body></html>