<html><head><title>Customizing the lights.rad File</title><base href="http://www.gamedesign.net/" /><style type="text/css">
@import url(misc/print.css);
</style></head><body><h1 id="5" name="5" class="book-h1">Customizing the lights.rad File</h1><!-- by Merl (merlinis@bigpond.net.au) 2001
     by Gard (stephen@geol.uwa.edu.au) 2003 -->
	 
<h3>Half-Life</h3>
<blockquote>
		Customizing the lights.rad File - <a href="mailto:mithodiel@softhome.net">Mithodiel</a>
</blockquote>
<br> <br>

<h3>Why doesn't my texture lighting work? It was working fine under Worldcraft 2.0!</h3>
      
 <p>It's because of a mix-up involving the <I>lights.rad</I> file. The RAD compile
    tool (named QRAD or HLRAD) reads and parses this file in order to determine which textures
    to consider as texture lights when it lights your map.</p>

 <p>When Valve Software released Worldcraft 2.0 with Half-Life, they included
    a <I>lights.rad</I> file that contained the texture lighting values they
    used when they created the maps included with the game. Some mappers, unaware
    of how texture lighting works, ended up getting unwanted texture lighting
    because they used textures that were referenced in the default
    <I>lights.rad</I> file. So when Valve released Worldcraft 2.1, they decided
    to include a (basically) blank <I>lights.rad</I> file so that users could
    set their own texture lighting values. And when Valve released WC 3.3, they kept 
    the same blank <I>lights.rad</I> file in the distribution.</p>
    
 <p>This means that when you upgraded
    from version 2.0 to version 2.1 or 3.3, all of the texture lighting values you were
    relying on from the old <I>lights.rad</I> file got nuked -- and if you didn't
    read the release notes that came with the upgrade, then you didn't notice
    anything until you compiled your map.</p>

<hr noshade color="black">

<h3>So how do I fix my texture lighting?</h3>

 <p>Two ways, the easy way (in which you learn absolutely nothing) and the harder
    way (which is infinitely more rewarding).</p>
      
 <p>First, the easy way: Valve didn't leave us mappers totally up the creek.
    They included the old <I>lights.rad</I> file as a new file called
    <I>valve.rad</I>. You can restore the old texture lighting values simply
    by renaming this file <I>lights.rad</I>. You can also add the parameter
    <B>-lights valve.rad</B> to the RAD tool's command line. This tells the RAD tool to read
    its texture lighting data from <I>valve.rad</I> instead of <I>lights.rad</I>.</p>
 
 <p>Next, the harder way: You can insert custom texture lighting values into
    the <I>lights.rad </I>file yourself. You don't need a special editor for
    this -- any text editor, even Notepad, will do fine. Open up the
    <I>lights.rad</I> file. Each line in the file represents a texture that will
    be used as a texture light:</p>

<PRE>WHITE	255 255 255 10000
YELLOW	255 255 0   10000
(etc.)
</PRE>

 <p>Let us examine the first entry in more detail:
    <ul type="square">
	    <li>The first item in each line (WHITE) is the name of the texture you want to
	        use as a texture light.
            <br>&nbsp;
	    <li>The next three items (255 255 255) are the red, green, and blue values of
	        the light that will be emitted from this texture. All colors are made up
	        of a red component, a green component, and a blue component. These values
	        range from 0 (black) to 255 (full color).<br>
            <br>
            An easy way to determine a light color is to open up a paint program and
	        choose a color you want from the color picker dialog. Then write down the
	        red, green, and blue color values and type them into the <I>lights.rad</I>
	        file.
            <br>&nbsp;
    	<li>The last item (10000) is the brightness of the light. The higher the number,
	        the brighter the light. Unfortunately, there is no tool (yet) that will help
	        you pick the right number here, so you will need to play with this value
	        in order to get the effect you want.
    </ul>
    </p>
  
 <p>Repeat for as many new texture lights as you want. Note that the color of
    the emitted light doesn't have to correspond to the colors in the texture.
    You can make the "SECURITY IS EVERYONE'S RESPONSIBILITY" sign cast neon-green
    light all over your map if you want to. &lt;grin&gt; Then recompile your
    map, and <I>voil&aacute;</I>! Instant texture lighting.</p>

<hr noshade color="black">

<h3>Example: Glowing Green Slime</h3>

 <p>I am creating a map where I want my Toxic Green Slime (TM) to glow a sickly
    bluish-green throughout my map. So I decide to add the green slime texture
    to my <I>lights.rad</I> file by adding the line:</p>

<pre>!TOXICGRN	84  207  48  100</pre>

 <p>I choose the color values by bringing up Microsoft Paint, picking a color
    that I like from its custom color dialog, and copying the values to my lights.rad
    file. I set the brightness very low because I want the glow of the slime
    to be a subtle effect. Then I recompile. Soon, the poor hapless players are
    bathing in toxic green-blue light.</p>

<center>
    <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/lightsrad/light_snap1.jpg?PHPSESSID=f940fa2f34d56bc6eb0427938d8688f4">
    <img src="content/half-life/tutorials/lightsrad/lght_thmb1.jpg" width="100" height="75" alt=" " border="0"></a>
    
    <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/lightsrad/lght_snap2.jpg?PHPSESSID=f940fa2f34d56bc6eb0427938d8688f4">
    <img src="content/half-life/tutorials/lightsrad/lght_thmb2.jpg" width="100" height="75" alt=" " border="0"></A>
    
    <br>
    <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/lightsrad/lght_snap1.jpg?PHPSESSID=f940fa2f34d56bc6eb0427938d8688f4">Before</A> (37K) and
    <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/lightsrad/lght_snap2.jpg?PHPSESSID=f940fa2f34d56bc6eb0427938d8688f4">after</A> (43K) shots of example map<br>
    Click on thumbnails to view a larger version of the images<br>&nbsp;
</center>

<hr noshade color="black">

<h3>Tutorial Files</h3>

 <p><ul type="square">
	    <LI>Example map: <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/lightsrad/texlight.zip?PHPSESSID=f940fa2f34d56bc6eb0427938d8688f4">texlight.zip</A> (3K)
	    <LI>Screen snap: <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/lightsrad/lght_snap1.jpg?PHPSESSID=f940fa2f34d56bc6eb0427938d8688f4" TARGET="_blank">Example map without green slime texture light</A> (37K)
	    <LI>Screen snap: <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/lightsrad/lght_snap2.jpg?PHPSESSID=f940fa2f34d56bc6eb0427938d8688f4" TARGET="_blank">Example map with green slime texture light</A> (43K)
    </ul>
 </P></body></html>