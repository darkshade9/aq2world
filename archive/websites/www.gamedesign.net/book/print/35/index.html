<html><head><title>Half-Life 1 Tutorials</title><base href="http://www.gamedesign.net/" /><style type="text/css">
@import url(misc/print.css);
</style></head><body><h1 id="35" name="35" class="book-h1">Half-Life 1 Tutorials</h1><h1>RUST's Halflife Tutorials</h1><h1 id="194" name="194" class="book-h1">Big Block Method of Error Finding</h1><ul><p><b>Big Block Method of Error Finding</b></p>
<p>What is the BBMoEF? Basically its a method of breaking your map down into different peices to determine which part is causing your problem.</p>
<p>With an unknown or unusual error, there could be a  million different potential causes - too many entities of this type, map geometry too complex, this or that memory being maxed out, etc.</p>
<p>Assuming your problem has a single cause, you can strategically eliminate the suspects through trial and error - get rid of half your "stuff" to see which half is causing the problem, then try half of half, and <i>keep winnowing down until you isolate the problem</i>. This is similar to the "Big Block Method of Leak Finding", except you are looking objects/entities causing an error rather than a leak.</p>
<p>Here is an <i>oversimplified</i> breakdown:<br />
  <img src="http://www3.hmc.edu/~nalger/BBMoEF_s.png"> </p>
<p>Now lets take an example - lets say Jim has an unknown error. To solve this, he decides to use the BBMoEF.</p>
<p>-----</p>
<p>First Jim hides all the entities in the map and recompiles with visible objects only. For the sake of example, lets say that <b>when Jim got rid of all the entities, the error went away</b>. Now Jim KNOWS that the <b>error is with some or all of the entities</b>, and in the above diagram He blocks off all the worldspawn stuff:<br />
  <img src="http://www3.hmc.edu/~nalger/BBMoEF_1_s.png">  </p>
<p>Next, Jim hides all the point entities, and the error goes away. Thus Jim knows that the point entities must be the problem and can focus only on them.<br />
  <img src="http://www3.hmc.edu/~nalger/BBMoEF_2_s.png"></p>
<p>After that, Jim hides half of his point entities of which (for the sake of example) they are all of types that are in the diagram -- Jim hides all the infrastructure entities and light entities, but the error remains. Therefore Jim can cross off all the infrastructure and light entities from the list of potential error-causers.<br />
  <img src="http://www3.hmc.edu/~nalger/BBMoEF_3_s.png">  </p>
<p>Finally, Jim <b>hides all the sound entities but the error remains</b>. By deduction, what can Jim conclude is causing his errors?</p>
<p><a href="http://www3.hmc.edu/~nalger/BBMoEF_4_s.png">Answer Here</a></p>
<p>-----</p>
<p>In real life it may not be so cookie-cutter as this, and there may be multiple factors contributing to the problem, or entire groups may be causing the problem, but this process is basically a good strategy to get an idea for whats wrong with your map.</p>
</ul><h1 id="3" name="3" class="book-h1">Chairs, Scientists and Barneys</h1><ul><!-- by Merl (merlinis@bigpond.net.au) 2001
     by Gard (stephen@geol.uwa.edu.au) 2003
     Format Updated Feb 05 Andy -->

<h3>Half-Life</h3>
<blockquote>
       Chairs, Scientists and Barneys - 
        <a href="mailto:MrMan@mrman58.freeserve.co.uk">Venomus</a>
</blockquote>
&nbsp;
<center>
    <img src="content/half-life/tutorials/chair/chair1.gif" width="256" height="192" alt="Sci Chair" />
    <img src="content/half-life/tutorials/chair/chair2.gif" width="256" height="192" alt="Barney Chair" />
</center>
<p>
From the title of this tutorial you will probably assume that I'm just going to tell you how get scientists to sit in a chair. Getting scientist bums on seats, so to speak, is a common query among mappers new to Half-Life, and it is not as simple as it may sound (there are a few pitfalls you should be aware of). Even so, it is quite easy as a tutorial. What I will show you afterwards is a little more complex and interesting: a rather cool setpiece in which a barney sits in his swivelling chair, occasionally rotating fluidly in it. You may remember it from the beginning of Half-Life (just after you finish the train ride).
</p>
<p>
Throughout these tutorials you may notice me paying an obsessive amount of attention to unit-precise placement of entities and brushes. This is necessary to avoid your scientists and barneys ending up stupidly embedded in the furniture.
</p>
<p>
1.) As promised, I will first just show you how to make scientists simply sit in chairs, industriously typing away or something. First make yourself a nice chair. 99% of the time this seems to be the 'Chair, black' prefab in the 'random objects' prefab library of WorldCraft. This is all right for some themes, but remember you can always make your own chair! If you want a scientists feet to rest on the floor and his arse to be firmly planted on the seat, make the top of the seat (ie: the surface that you would sit on) 18 units above the floor. The 'Chair, black' prefab is 22 units from bottom to top of seat, but its only worth shortening if you are really pedantic!
</p>
<p>
2.) Now we will create the scientist who sits in the chair. There are two ways of doing this. One is to use the convenient <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/33">monster_sitting_scientist</a>. The other is to use a <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/33">scripted_sequence</a> and an ordinary <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/33">monster_scientist</a>. A monster_sitting_scientist will cycle randomly through about 3 sitting animations in which he types, looks thoughtful and is generally hard at work. This is probably what you will want most of the time. The scientist model has only one other sitting animation, in which he is supposedly drinking coffee. If you wanted a scientist to play this animation you would use a scripted_sequence and monster_scientist.
</p>
<p>
When using the monster_sitting_scientist for the first time, the main cause of frustration is that the origins of his sitting animations are screwed up. Besides this, they seem to sink through brush entities. This usually causes the sitting scientist to end up half buried in the floor, even after many futile attempts to shift the chair a bit, move the scientist higher up etc.
</p>
<p>
To stop this happening, we will use a small clip brush, taking care in its placement and that of the scientist. First place the chair where you want it and turn it into a <a href="book/view/619#func_wall">func_wall</a>. This is not always necessary but saves us time and patience because the scientist will not get stuck on it where we don't want him to. Create a monster_sitting_scientist and place him high enough above the chair to be clear of it. Now move him so that the edge of his bounding box is in line with the edge of the seat (see screenshot).
</p>
<p>
Now for the clip brush. Create a brush in the shape of a small cube or similar (eg: 4x4x4) and cover it with the CLIP texture. This will make the brush invisible in-game, but it will however block the monster_sitting_scientist so that he rests on the clip brush. Make sure you leave the clip brush as a world brush (ie: don't make it an entity). Move the clip brush so that its upper surface is exactly 16 units above the upper surface of the seat. Any higher and the scientist will float slightly above his seat, any lower and the scientist will be more noticeably buried in the seat (he will already be slightly buried). Check that the monster_sitting_scientist is facing the right direction, if not adjust his Pitch Yaw Roll (angles) accordingly. Then you are done! The screenshot below shows more clearly what I have said:
</p>
<center>
<img src="content/half-life/tutorials/chair/chair3_new.jpg" width="450" height="365" alt="Clip Brush" />
</center>
<p>
3.) If you want a scientist to sit with one of the animations not shown in a monster_sitting_scientist, you will need a monster_scientist in combination with a scripted_sequence. First create a monster_scientist and place him out of the way, it does not matter where but the player should preferably not be able to see him when the map loads. Give him a Name (targetname) such as sitting_scientist (it's late and I'm tired :) .
</p>
<p>
Create a scripted_sequence and place it so that the edge of its bounding box is in line with the edge of the seat (see screenshot). The animation 'coffee' does not have its origin displaced like the other sitting animations. This makes things somewhat simpler. Place the scripted_sequence so that the center of its bounding box is exactly 20 units above the upper surface of the seat (see screenshot).
</p>   
<center>
<img src="content/half-life/tutorials/chair/chair4_new.jpg" width="450" height="365" alt=" Sequence position" />
</center>
<p>
Give the scripted_sequence the following keyvalues:
<ul type="square">
<li>Target Monster (m_iszEntity): this will be the Name (targetname) of the target monster_scientist, in this case sitting_scientist</li>
<li>Idle Animation (m_iszIdle): this is the name of the animation to play, probably 'coffee' (see note below)</li>
<li>Search Radius (m_flRadius): you should not place the target monster_scientist too far from the scripted_sequence, so that it is within, say 512 units. But if you have to place it further away then increase this accordingly</li>
<li>Move to Position (f_MoveTo): set this to Instantaneous (4)</li>
<li>Pitch Yaw Roll (angles): set this to the direction you want the scientist to face when he is sitting down. In Worldcraft you can also set this with the 'compass'.</li>
</ul>
</p>
<p>Finally, tick the No Interruptions spawnflag. This will prevent the whole thing being borked when an evil player sets a crowbar to the poor scientists head   ;)
</p>
<p>Note on the animations: As I have said, the only sitting animation of the scientist model besides those used by the monster_sitting_scientist (and a couple of turning animations which would look stupid looped) is the one named 'coffee'. But if you apply one of the monster_sitting_scientist animations (eg: 'sitscared', 'sitting2', 'sitting3') to the scripted_sequence, you will get a different effect from just simply having used a monster_sitting_scientist. Unlike 'coffee' these animations are not looped, so the animations will play once and then get 'frozen' on the last frame. This looks slightly wierd close up to see a scientist not even breathing, but these poses might add interest and variety, so it might be worth it, from a distance anyway. Anything else I should mention? Oh yeah, if you have added your own sitting animations to the scientist model, you could have them play with the scripted sequence, but then you probably don't need telling anyway.
</p>
<p>4.) Well by now you should be an expert on adding sitting scientists to your map, so I will move on to barneys. The only sitting animation which the barney model has is the one named 'sit1'. This is the one we will be using to create our sitting, rotating barney.
</p>
<p>
What we are going to create is a setpiece which utilises an animation that has been precisely choreographed to fit into a particular area in the original game (its near the beginning). You don't have to recreate this exact area when you include the rotating barney in your map, but it will have to fit the animation. So its probably not going to be vastly different after all.
</p>
<p>
5.) First I will describe the animation in detail. Our barney will be rotating 90 degrees anticlockwise and back again (from the direction you specify in a scripted_sequence). During the part of his animation in which he is facing the direction you specify, he is reading a book in front of him (well thats the idea, anyway). After rotating 90 degrees anticlockwise he does some typing on a keyboard. Try to picture this in the area of your map in which you want the setpiece to occur. You must decide on the direction in which you want the setpiece to be orientated, (eg: does the barney move from facing North to facing West and back again, or from facing South to facing East and back again). You can then get on with creating the surrounding brushwork to which the animation has been choreographed.
</p>
<p>
6.) Its time to create the chair. If you want the barneys feet to rest on the floor as he sits, it should be 22 units between the top of the surface he will sit on and the floor on which his feet will rest. The 'Chair, black' prefab, seems to have been optimised for barneys in this respect, fitting this dimension exactly. The chair is going to be a rotating entity (func_door_rotating) and for this reason it is going to need an origin brush. This is a small brush which you incorporate into the chair. It is covered completely with the ORIGIN texture, and is invisible in game. However, its position, (or rather the position of its centre) will tell the game which part of the chair the axis of rotation should pass through. In our case this is the 'stem' of the chair, (see next screenshot).
</p>
<p>
You should build (or rotate) the chair so that, in your map editor it faces the direction in which the barney will face after he has rotated 90 degrees anticlockwise, (if you are confused, see the next screenshot and the diagram at the very bottom of this tutorial).
</p>
<p>
When you have finished creating the chair, select the part of the chair which you want to rotate, (for example, you may want to not select the base of the chair). Make sure you include the origin brush in your selection. Then turn your selection into a func_door_rotating.
</p>
<p>
Now for the surrounding furniture in which he is working. If you were paying attention to my description of the animation, you will know that some sort of keyboard may be required which should be in front of the barney after he has rotated 90 degrees anticlockwise (alternatively you could attach the keyboard to the rotating chair). Give our barney ample legroom to rotate.
</p>
<center>
<img src="content/half-life/tutorials/chair/chair5_new.jpg" widht="450" height="365" alt="Rotating Chair" />
</center>
<p>Give the func_door_rotating chair the following keyvalues:
<ul type="square">
<li>Name (targetname): this must be set to introchair. It is imperative. If you name it anything else, the func_door_rotating chair will not rotate with the barney. This is because it is the barneys animation that calls introchair on the frames in which he begins to rotate. We are not going to be calling the chair to rotate with other entities
</li>
<li>Speed (speed): set the rotation speed to something like 65</li>
<li>Delay before close (wait): set this to -1, so that the chair will not rotate unless called to</li>
<li>Distance (distance): this must be -90 if the chair rotation is to be synchronised with that of the barney</li>
</ul>
</p>
<p>
In addition to these keyvalues, tick the Passable and Toggle spawnflags. The first of these spawnflags makes the chair non-solid. This is necessary to avoid it getting stuck on things and messing up the synchronisation of its rotation with that of the barney.
</p>
<p>
7.) Create a monster_barney and place him in the vicinity of the chair. Again, you probably don't want the player to be able to see him just after the map loads or the player might see the barney flash spookily for a second before he is teleported to his scripted_sequence. Give the barney a Name (targetname) of something like sitting_barney.
</p>
<p>
8.) Create a scripted_sequence. I will deal with its positioning in a minute (it's weird, I can tell you). Give the scripted_sequence the following keyvalues: 
<ul type="square">
<li>Target Monster (m_iszEntity): this will be the Name (targetname) of the target monster_barney, in this case sitting_barney</li>
<li>Idle Animation (m_iszIdle): this is the name of the animation to play, which is 'sit1'</li>
<li>Search Radius (m_flRadius): you should not place the target monster_barney too far from the scripted_sequence, so that it is within, say 512 units. But if you have to place it further away then increase this accordingly</li>
<li>Move to Position (f_MoveTo): set this to Instantaneous (4)</li>
<li>Pitch Yaw Roll (angles): set this to the direction you want the barney to face (before he rotates 90 degrees anticlockwise). This direction should be 90 degrees clockwise from the direction the chair is facing in your map editor. In Worldcraft you can set this direction with the 'compass'.</li>
</ul>
</p>
<p>
Also, tick the No Interruptions spawnflag.
</p>
<p>
9.) Now its time to position the scripted_sequence. In this case a picture really is worth a thousand words, hence the diagram. This diagram should tell you everything you need to know about the relative positioning of the func_door_rotating (chair) and the scripted_sequence, apart from the vertical separation of the two entities. This I will tell you now. The lower edge of the scripted_sequence bounding box should be 14 units above the upper surface of the seat.
</p>
<center>
<img src="content/half-life/tutorials/chair/chair6_new.jpg" width="450" height="365" alt="Final Layout" />
</center>
<p>
Once you have got that, you are sorted!
</p>
<p>
If you browse through the animations of many of the models in the Half-Life pak file (use a model viewer like <a href="http://www.swissquake.ch/chumbalum-soft/hlmv/index.html">Half-Life Model Viewer</a>), you will notice many long choreographed' animations. The one we have just added is an example. Others include dives through windows, rolls and other action-packed stunts. Some are part of coordinated sets of animations from different monsters (the zombie dragging two victims is one cool example!) All require precise positioning and careful construction of the 'set', but if done well give amazing results! 
</p>
	
<!-- eof @ 126 -->
</ul><h1 id="290" name="290" class="book-h1">Code Locks</h1><ul><!-- by by Sebastiannielsen 2004 -->

<h3>Half-Life</h3>
<blockquote>
       <b>Code Locks</b> - by Sebastiannielsen
</blockquote>
<br><br>	

<p>Well there are several techniques to make doors with passwords, but I think this is by far the easiest method. Although this tutorial is relatively long, it is still relatively easy - trust me).<p> 

<p><hr color=black noshade width=75%><p>

<b>STEP 1: BUILDING A KEY PAD</b><br><br>

If you want to do a key pad password to a door(or anything else) the following is required. Note, that the colors of the keys relate to the key position and order they must be pressed to unlock the door. In this example the code is 5734:<BR><BR>

For consistency, I have colored all keys in this tutorial, and the colours are assigned thus: <font color=blue> FIRST DIGIT </font>, <font color=red> SECOND DIGIT </font>, <font color=brown> THIRD DIGIT </font>, <font color=green> FOURTH DIGIT </font><br><BR>

In the map editor align the buttons of your key pad like this:<br><br>

B1,B2,<font color=brown>B3</font> <BR>
<font color=green>B4</font>,<font color=blue>B5</font>,B6<BR>
<font color=red>B7</font>,B8,B9 <BR>
BR,B0,BA <BR><BR>

Make sure <i>all</i> buttons have wait=0.1<BR><BR>

Buttons B0-B9 can have the "port 0#" texture. Where you make it bigger and make it so only the last number is shown, the port 0# textures are in SIGNS category in Qoole 99.<BR><BR>

To make the 0-button, take port01, but use the zero in the beginning.<BR><BR>

BR can have the empty round, gray button that turns orange when pressed. <BR><BR>

BA can have elevator button pointing UP.<BR><BR>

<p><hr color=black noshade width=75%><p>

<b>STEP 2: MAKING THE LOCK CODE</b><br><br>

The first code number must have a trigger refering to the first trigger_changetarget <BR><BR>

As stated above, the code is set to 5734 <BR><BR>

<b>B1: </b><BR>
targetname: B1 <BR>
target: but_reset <BR><BR>

<b>B2: </b><BR>
targetname: B2<BR> 
target: but_reset <BR><BR>

<b>B3: </b><BR>
<font color=brown>
targetname: B3 <BR>
target: but_reset <BR>
</font><BR>

<b>B4: </b><BR>
<font color=green>
targetname: B4 <BR>
target: but_reset <BR>
</font><BR>

<b>B5: </b><BR>
<font color=blue>
targetname: B5 <BR>
target: but_code1 <BR>
</font><BR>

<b>B6: </b><BR>
targetname: B6 <BR>
target: but_reset <BR><BR>

<b>B7: </b><BR>
<font color=red>
targetname: B7 <BR>
target: but_reset <BR>
</font><BR>

<b>B8: </b><BR>
targetname: B8 <BR>
target: but_reset <BR><BR>

<b>B9: </b><BR>
targetname: B9 <BR>
target: but_reset <BR><BR>

<b>B0: </b><BR>
targetname: B0 <BR>
target: but_reset <BR><BR>

<b>BR: </b><BR>
targetname: (nothing) <BR>
target: but_reset <BR><BR>

<b>BA: </b><BR>
targetname: BA <BR>
target: sound_denied <BR><BR>

<p><hr color=black noshade width=75%><p>

<b>STEP 3: CODING THE TRIGGER_CHANGETARGETS</b><br><br>

11 trigger_changetarget are required to make the key pad work. Note that all these triggers here are trigger_changetarget. Set the trigger_changetargets to:<BR><BR>

targetname: but_reset <BR>
target: B0 <BR>
newtarget: but_reset <BR><BR>

targetname: but_reset <BR>
target: B1 <BR>
newtarget: but_reset <BR><BR>

targetname: but_reset <BR>
target: B2 <BR>
newtarget: but_reset <BR><BR>

<font color=brown>
targetname: but_reset <BR>
target: B3 <BR>
newtarget: but_reset <BR>
</font><BR>

<font color=green>
targetname: but_reset <BR>
target: B4 <BR>
newtarget: but_reset <BR>
</font><BR>

<i>NOTE: The first code digit must be reset correctly, or else the code lock will "lock" after entering a wrong code digit!! (I learnt that the hard way)</i><BR><BR>

<font color=blue>
targetname: but_reset <BR>
target: B5 <BR>
newtarget: but_open1 <BR>
</font><BR>

targetname: but_reset <BR>
target: B6 <BR>
newtarget: but_reset <BR><BR>

<font color=red>
targetname: but_reset <BR>
target: B7 <BR>
newtarget: but_reset <BR>
</font><BR>

targetname: but_reset <BR>
target: B8 <BR>
newtarget: but_reset <BR><BR>

targetname: but_reset <BR>
target: B9 <BR>
newtarget: but_reset <BR><BR>

<p><hr color=black noshade width=75%><p>

<b>STEP 4: SETTING THE RESET FOR THE ENTER BUTTON</b><br><br>

The reset for "enter" button by:<BR><BR>

targetname: but_reset <BR>
target: BA <BR>
newtarget: sound_denied <BR><BR>

<p><hr color=black noshade width=75%><p>

<b>STEP 5: BUILDING THE CODE CHECK</b><br><br>

Now we create an 8 trigger_changetarget to update the codelock, if the correct code digit has been entered. <BR><BR>

<b>[GROUP 1] </b><BR><BR>
<font color=blue>
targetname: but_open1 <BR>
target: B5 <BR>
newtarget: but_reset <BR>
</font><BR>

<font color=red>
targetname: but_open1 <BR>
target: B7 <BR>
newtarget: but_open2 <BR>
</font><BR>

<b>[GROUP 2] </b><BR><BR>

<font color=red>
targetname: but_open2 <BR>
target: B7<BR>
newtarget: but_reset <BR>
</font><BR>

<font color=brown>
targetname: but_open2 <BR>
target: B3<BR>
newtarget: but_open3 <BR>
</font><BR>

<b>[GROUP 3]</b> <BR><BR>

<font color=brown>
targetname: but_open3 <BR>
target: B3<BR>
newtarget: but_reset <BR>
</font><BR>

<font color=green>
targetname: but_open3 <BR>
target: B4  <BR>
newtarget: but_open4 <BR>
</font><BR>

<b>[GROUP 4] </b><BR><BR>
<font color=green>
targetname: but_open4 <BR>
target: B4<BR>
newtarget: but_reset <BR>
</font><BR>

targetname: but_open4 <BR>
target: BA <BR>
newtarget: sound_granted <BR><BR>

<p><hr color=black noshade width=75%><p>

<b>STEP 6: CONNECTING THE CODE LOCK TO THE DOOR</b><br><br>

Connecting the code lock to the door is essential, else the codelock is completely useless. To do this you need to create two small button <i>OUTSIDE</i> the map. <BR><BR>

<b>The first button: </b><BR><BR>

targetname: sound_denied <BR>
target: but_reset <BR>
sound: Access Denied <BR>
wait: 0.1 <BR><BR>

<b>the second button: </b><BR><BR>

targetname: sound_granted <BR>
target: but_door <BR>
sound: Access Granted <BR>
wait: 0.1 <BR><BR>

<p><hr color=black noshade width=75%><p>

<b>STEP 7: TARGETING THE DOOR</b><br><br>

Now we target but_door to what we want when the correct code is entered. We target it to a single func_door: <BR><BR>

targetname: but_door <BR>
target: but_reset<BR><BR> 

<i><<< NOTE!! The but_reset is vital to reset the code when the door has been opened. For example, in multiplayer maps this means the next play can not open the door, without re-entering the code</i><BR><BR>

<p><hr color=black noshade width=75%><p>

<b>CONCLUSION</b><br><br>

The codelock can be used again and again. I believe this will be cool in multiplayer maps, where the developer can have a "code" to enter a protect-room, or full with weapons. Imagine a button to open a door with lava under all the other players. Why not a turret? use your imagination!<BR><BR>

Finally I have included an flow diagram of all the triggers and buttons reqyired to make this work. It doesn't display to well here, so click and download:<br><br>

<center><img border="0" width="450"  src="content/half-life/tutorials/passwdoors/code.jpg"></center><br><br>

Have fun with your code locks!<br><br>
</ul><h1 id="831" name="831" class="book-h1">Creating an Overview</h1><ul><h3>Half-Life</h3>
<blockquote>Overviews - by Andy</blockquote>
<p>Here is a really simple guide to producing professional looking overviews for your maps.<br>
Things you need to know before we start:<br><!--break-->
Keep in mind that we are not going to open the map to play the game, so forget about adding <span class="control">deathmatch 1</span> or <span class="control">-toconsole +sv_lan 1</span> that you might normally add. You must also be able to open the console while in your map with the <span class="r">~</span> tiald key.<br>Open your game and change the <code>Configuration>Video>Video Mode</code> to <span class="r">OpenGL</span> and a display size of <span class="r">1024 x 768</span>.<br>The command <b>dev_overview 1</b> will <span class="r">not</span> work in Software Mode.</p>

<p>Open the level you want to generate the Overview for and make sure there are no HUD icons showing, if you are in Counter-Strike, just move away from the buyzone or you can enter <span class="r">hud_draw 0</span> at the console.<br>
Bring up the console again and enter <span class="r">dev_overview 1</span> then close the console and you should be presented with a screen like this:</p>

<center><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/oview/overview_2.jpg" target="_blank"><img src="content/half-life/tutorials/oview/overview_2_small.jpg" alt="Screen Shot" width="400" height="300" border="0"></a></center><center>Click to Enlarge</center>

<p>Before we take our screenshot, we need to do a few adjustments. By using the the keys you have assigned for movement you can position the map in the center of the screen. The defaults for Half-Life and Counterstrike levels are <span class="r"> W </span>,<span class="r"> A </span>,<span class="r"> S </span> and <span class="r"> D </span>.  And if you are using a mouse, the mouse buttons will help you zoom in and out. The idea is to get the map in the center of the screen. <br>
Once you have your image centered, we need to have a look at the figures that are at the top of the screen before we go any further:</p>


<center><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/oview/overview_1.jpg" target="_blank"><img src="content/half-life/tutorials/oview/overview_1_small.jpg" alt="The Numbers" width="400" height="46" border="0"></a></center><center>Click to Enlarge</center>

<p>These are really important so either write down the string, or take a screenshot with the <span class="r">F5</span> key. You can't take the screenshot with <span class="r">PrtScr</span> because it won't include the numbers.<br>
Once you have written them down, bring up the console again and enter <span class="r">dev_overview 2</span> and this will get rid of the numbers. Now just hit <span class="r">F5</span>. You can shut the game down now, as we have everything we need to generate the overview.</p>

<p>Go into  the root of your game directory and select the .bmp files that were generated when you hit F5. They should be called something like <span class="r">yourmapname0000.bmp</span>, where yourmapname is the actual name of your map.<br>
Copy them into a working folder because we need to do some adjustments. </p>

<h4>The Overview Shot</h4>
<p>Open the screen shot (without the numbers) in MSPaint, Wally, Photoshop or the editor of your choice. If you want to, you can massage the screenshot with a simple paint editor to produce a more realistic overview shot. Take out any of the green lines that have invaded your shot. They will be visable if you leave them in. <br>
Now all you have to do is save the overview shot in <span class="r">1024</span> x <span class="r">768</span> 256 colour 8 BPP .bmp format. The screen shot you took originally will be in 24BPP resolution, so you need to adjust it to the new format.<i>I use the simple Batch conversion function of <span class="control">IrfanView</span></i>. This should leave you with a screen shot that is half the disk size of the original, usually about 700Kb.<br>
Save this into the overview folder of the game you are making the screenshot for.</p>

<h4>Now the Numbers</h4>
If we go back and look at the numbers, you should have something like this:<br>
Overview: Zoom <span class="r">3.58</span>, Map Origin (<span class="r">311.75</span>, <span class="r">997.75</span>,119.50), Z Min 311.00, Z Max <span class="r">-72.00</span>, Rotated <span class="r">0</span><br>
The figures in <span class="r">red</span> are the important ones.<br> 
Copy an existing Overview.txt file and open it. Rename it as yourmapname.txt.<br>
In this example I have chosen the .txt file from de_dust:<p>
<pre>
// overview description file for de_dust.bsp

global
{
	ZOOM		1.20
	ORIGIN		101	1071	-192
	ROTATED		0
}

layer
{
	IMAGE		"overviews/de_dust.bmp"
	HEIGHT		-192
}
</pre>

<p>First thing we need to do is change the map name to the name of your map. Then we need to replace the figures we got from the overview mode and add them to our new map text. So using the figures we have, replace them in your new map text:</p>

<pre>
// overview description file for <span class="r">yourmapname.bsp</span>

global 
{
	ZOOM	<b>	3.58</b>
	ORIGIN	<b>	311.75    997.75   -72</b>
	ROTATED	<b>	0</b>
}

layer 
{
	IMAGE		"overviews/<b>yourmapname.bmp</b>"
	HEIGHT		<b>-72</b>
}</pre>
<p>Ok, save this to the same overview folder that you saved the converted screenshot to, and were done.<br>
All you need to do now is to run your map in multiplayer mode and select the Overview mode, and the player icons will be running around on your newly created overview.</p>

<center><img src="/content/half-life/tutorials/oview/overview_3.jpg" alt="In Game" width="300" height="225"></center>

<p>Just a couple of other things. The overview mode only seems to take off the top layer of the map, If you have double floors then it won't see inside the room. You can solve this by removing the floors, but hey... why bother. You will find that if you zoom into your map, some of the floors will disappear.<br> If you are having problems with the lighting, and you don't want the overview to be shot in shadow mode, you can add <span class="r">r_fullbright 1</span> to the console before you take the screen shot and this will light up your map.</p></ul><h1 id="9" name="9" class="book-h1">Creating Environment Maps With Terragen</h1><ul><!-- by Merl (merlinis@bigpond.net.au) 2001
     by Gard (stephen@geol.uwa.edu.au) 2003
     Updated format Feb 05 Andy -->
	 
<h3>Half-Life</h3>
<blockquote>
Creating Environment Maps With Terragen - <a href="mailto:mithodiel@softhome.net">Mithodiel</a>
</blockquote>
&nbsp;
<p>
<span style="font-weight: bold">Preface:</span><br /> 
<span style="font-style: italic">This tutorial consists of two parts.  In Part I, we explain exactly what an environment map otherwise known as a &quot;sky&quot; is, and what it is used for in a Half-Life level. Then in Part II, we discuss how to make an environment map using <a href="http://www.planetside.co.uk/terragen/">Terragen</a>.
</span>
</p>
<p>
<span style="font-style: italic">Experienced mappers who already understand how a Quake-engine environment map works can skip Part I.  The rest of us should start with Part I.
</span>
</p>
<hr />
<h3>Part I: What Is an Environment Map?</h3>
<p>
An <span style="font-style: italic">environment map</span> is used in a Half-Life level to provide the the player with the illusion of being in an outdoor environment. Confining ourselves to the walls of some building would become quite boring after a while, but &quot;rooms&quot; (that is, areas enclosed by brushes) are the only player-space areas that the game engine understands. So, rather than forcing the player to be indoors all of the time, we use special brushes (<span style="font-style: italic">sky brushes</span>, covered all over with the SKY texture) wherever the player is capable of viewing the sky outdoors. The game engine paints sky brushes with special graphics that provide the illusion of being contained in a 3D outdoor environment. The whole idea is to convince the player that he or she is not simply contained inside some big box. :)
</p>
<p>
That said, let's get a bit more technical. An environment map takes the form of a hollow cube. The &quot;outdoors&quot; panorama is then painted on this cube so that it appears to be continuous in every direction, as far as the eye can see. Confused yet? What if I told you that the sky was the projection of a spherical picture on the environment cube? Oh well, no matter. For our purposes, it's not all that important anyway.
</p>
<hr />
<h3>Environment Maps In Half-Life</h3>
<p>
Since the &quot;outdoors&quot; is painted on a cube, this implies that there are six separate graphics that make up the sky, each of them the same size. In Half-Life, each environment map consists of six 256x256 graphics that make up the sky. The images are named <span style="font-style: italic">skyname</span>rt (right), <span style="font-style: italic">skyname</span>ft (front), <span style="font-style: italic">skyname</span>lf (left), <span style="font-style: italic">skyname</span>bk (back), <span style="font-style: italic">skyname</span>up (up), and <span style="font-style: italic">skyname</span>dn(down), where <span style="font-style: italic">skyname</span> is the name of the sky that you are creating. You must store your sky graphics in two formats: 8-bit uncompressed BMP (for those without 3D accelerators) and 24-bit compressed TGA (for those with 3D accelerators).
</p>
<p>
Hmmm. Perhaps a picture of an unfolded skybox would help:
</p>
<center>
<img src="content/half-life/tutorials/terragen/tgen_skybox.jpg" width="440"  height="332" alt="Sky Box" />
</center>
<p>
Wherever two sides of the skybox meet, you must take care to make the graphics  blend together seamlessly. These sides are denoted by colored bars in the  picture -- sides that touch are banded in the same color. If you do not take  care to match them up properly, then you will see a seam in the game where  the sides of the sky meet, and the player will realize that they are caught  inside some big box. That is a Bad Thing.
</p>
<hr />
<h3>Part II: Using Terragen to Make an Environment Map</h3>
<p>
Now that we understand the concept of an environment map, I can explain how to actually go about making one.
</p>
<p><a href="mailto:matt@planetside.co.uk">Matt Fairclough</a> has developed a nifty program called <a href="http://www.planetside.co.uk/terragen/">Terragen</a> that generates photo-realistic terrain images. These terrain images can include lighting, fogging, and other atmospheric effects. Of course, there are other programs out there that can do the same thing. (Bryce and 3D Studio MAX come to mind.) The best thing about using Terragen is that it is <span style="font-weight: bold">free</span> (for non-commercial use) and it is <span style="font-weight: bold">fast</span> (at 75&#37; detail, I was able to render the entire sky in about 30 minutes on a P-200 MMX machine with 32MB of RAM). These two qualities make generating environment maps with it easy for amateur mappers (like me).
</p>
<p>
First, if you don't have Terragen already, then you will need to <a href="http://www.planetside.co.uk/terragen/download.shtml">download Terragen from the Terragen site</a>. As of the time of this writing (21 July 2000), the latest version is 0.8.11. The examples and screen shots assume that you are using this version.
</p>
<p>
Once you have obtained Terragen and installed it, your next step is to generate  your sky environment. This tutorial is not designed to explain all of the  inner workings of Terragen, so I will have to leave you to generate your  own world. <a href="http://www.planetside.co.uk/terragen/">The main Terragen page</a> has links to the <a href="http://www.planetside.co.uk/terragen/guide/">official User's Guide</a> and to beginner tutorials to get you started. Use your imagination -- the  possibilities are endless.
</p>
<hr />
<h3>Rendering the Environment Map</h3>
<p>
After you create your environment, you are ready to render your sky. The  technique for doing this in Terragen is very similar to the technique for doing it in Bryce. You will first select an initial position and orientation for the camera, and then take 90-degree field-of-view snaps of the scene in each of the six cardinal directions (right, front, left, back, up, and down).
</p>
<p>
To set the initial camera position, bring up the <span style="font-weight: bold">Render Controls</span> window. An overhead map of your terrain appears at the bottom right-hand side of the window. Clicking on the map with the left mouse button sets the camera position; clicking on it with the right mouse button sets the camera target (that is, the point that the camera always looks toward). You can also enter numbers manually in the Camera Position fields if you prefer. I usually enter 128 for the camera position X and Y values, which sets the camera in the center of the map. You might want to adjust the Z coordinate for the camera position as well. Then set all three of the Camera Orientation values to 0 and do a render preview. If you are satisfied, then move on to the next step; otherwise, keep adjusting the camera position until you are satisfied.
</p>
<p>
Once you have set the camera position, click on the Camera Settings button and manually set the Zoom to 1. A Zoom value of 1 results in a 90-degree field of view, which is what we need for a Half-Life sky. The other settings are optional, but <span style="font-weight: bold">Zoom must be 1</span>, no more and no less. Once you have set the zoom value, exit the Camera Settings dialog.
</p>
<p>
Now, you need to decide what size that you want for the rendered images. Half-Life sky images are 256x256, so you can snap images at that size if you want to. Alternatively, you can snap the images at a larger size (say, 512x512) and resample them down to 256x256 using a paint program such as <a href="http://www.jasc.com/">Paint Shop Pro</a>. Doing this can give you greater graphical detail, but may require additional post-processing to make the graphics seamless. So for now, set the Image Size to 256x256. Also, set the Detail level to maximum for best image quality. (The example shots are done at 75&#37; detail, and it shows in the final result.)
</p>
<hr />
<h3>Snapping the Sky Images</h3>
<p>
Now we are ready to snap the sky images. Snapping each image involves adjusting the Camera Orientation values in order to point the camera in the proper direction, and pressing the Render Image button to snap the scene. The three Camera Orientation values control the camera as follows:<br />
</p>
<ul type="square">
<li>
<span style="font-weight: bold">Head</span>: This value controls the camera heading, or compass direction. This value represents degrees clockwise from &quot;north&quot;, and ranges from 0 to 360, where 0 is &quot;north&quot; (straight up) on the terrain map, 90 is &quot;east&quot;, and so on.
</li>
<li>
<span style="font-weight: bold">Pitch</span>: This value controls the camera pitch, or up-and-down tilt. This value represents some number of degrees above the horizon, and ranges from -90 (straight down) to 90 (straight up). A pitch of 0 makes the camera level.
</li>
<li>
<span style="font-weight: bold">Bank</span>: This value controls the bank of the camera, or its side-to-side tilt. This value should always be 0, unless you are using the bank to produce special sky effects (which are beyond the scope of this tutorial).
</li>
</ul>
<p>
For each of the six cardinal directions listed below, adjust the Camera Orientation values as shown, render the image, and then save it to disk using the proper file name convention. (Replace <span style="font-style: italic">skyname</span> with the name of our own sky in each file name.) Each direction has a thumbnail picture of the process, and you can click on the picture for a larger version of the image.
</p>
<table border="0" cellpadding="1" cellspacing="2">
  <tr>
    <td>
      <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/tgen_snap1.jpg">
      <img src="content/half-life/tutorials/terragen/tgen_thmb1.jpg" width="100" height="87" alt="Right" align="left" hspace="5" />
      </a>
    </td>
    <td>
      <b>Right (<i>skyname</i>rt.bmp)</b><br />
      Camera orientation: Head=0, Pitch=0, Bank=0<br />
      Large image size: 86K
    </td>
  </tr>
  <tr>
    <td>
      <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/tgen_snap2.jpg">
      <img src="content/half-life/tutorials/terragen/tgen_thmb2.jpg" width="100" height="87" alt="Front" align="left" hspace="5" />
      </a>
    </td>
    <td>
      <b>Front (<i>skyname</i>ft.bmp)</b><br />
      Camera orientation: Head=90, Pitch=0, Bank=0<br />
      Large image size: 83K
    </td>
  </tr>
  <tr>
    <td>
      <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/tgen_snap3.jpg">
      <img src="content/half-life/tutorials/terragen/tgen_thmb3.jpg" width="100" height="87" alt="Left" align="left" hspace="5" />
      </a>
    </td>
    <td>
      <b>Left (<i>skyname</i>lf.bmp)</b><br />
      Camera orientation: Head=180, Pitch=0, Bank=0<br />
      Large image size: 86K
    </td>
  </tr>
  <tr>
    <td>
      <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/tgen_snap4.jpg">
      <img src="content/half-life/tutorials/terragen/tgen_thmb4.jpg" width="100" height="87" alt="Back" align="left" hspace="5" />
      </a>
    </td>
    <td>
      <b>Back (<i>skyname</i>bk.bmp)</b><br />
      Camera orientation: Head=270, Pitch=0, Bank=0<br />
      Large image size: 88K
    </td>
  </tr>
  <tr>
    <td>
      <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/tgen_snap5.jpg">
      <img src="content/half-life/tutorials/terragen/tgen_thmb5.jpg" width="100" height="87" alt="Up" align="left" hspace="5" />
      </a>
    </td>
    <td>
      <b>Up (<i>skyname</i>up.bmp)</b><br />
      Camera orientation: Head=0, Pitch=90, Bank=0<br />
      Large image size: 78K
    </td>
  </tr>
  <tr>
    <td>
      <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/tgen_snap6.jpg">
      <img src="content/half-life/tutorials/terragen/tgen_thmb6.jpg" width="100" height="87" alt="Down" align="left" hspace="5" />
      </a>
    </td>
    <td>
      <b>Down (<i>skyname</i>dn.bmp)</b><br />
      Camera orientation: Head=0, Pitch=-90, Bank=0<br />
      Large image size: 83K
    </td>
  </tr>
</table>
<p>
Once you have snapped the scenes, you need to save them in the proper format. Terragen will save them in 24-bit BMP format. You will need to convert these images to 24-bit compressed TGA, and then also convert them to 8-bit uncompressed BMP format before you can use them with Half-Life.
</p>
<hr />
<h3>Testing the Sky in Half-Life</h3>
<p>
Once you have converted your sky into the proper formats, place them in the <span style="font-style: italic">half-life\valve\gfx\env</span> subdirectory (where <span style="font-style: italic">half-life</span> here is the directory where you installed Half-Life). Then load it up in the game. You can create your own test map, or you can <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/sky_test.zip">download this example map</a> that I created for this purpose. It consists of little more than an (unsealed!) skybox, a CLIP brush for the player to stand on, and a player start. This allows you to view the entire sky unobstructed by other map geometry. If you use the <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/sky_test.zip">example map</a>, then you will obviously want to edit it so that it loads your sky instead of trying to load my sky.
</p>
<center>
    <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/tgen_snap7.jpg">
    <img src="content/half-life/tutorials/terragen/tgen_thmb7.jpg" width="200" height="150" alt="In Game 1" hspace="5" /></a>
     <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/tgen_snap8.jpg">
    <img src="content/half-life/tutorials/terragen/tgen_thmb8.jpg" width="200" height="150" alt="In Game 2" hspace="5" /></a><br />
    <span style="font-style: italic">In-game screen 
    <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/tgen_snap7.jpg">shot #1</a> (115K) and
    <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/tgen_snap8.jpg">shot #2</a> (113K) of new environment map </span><br />
    <span style="font-style: italic">Click on a thumbnail to view a larger version of the image</span>
</center>
<p>
The first shot is especially significant, because the area shown crosses a sky image intersection (specifically, between the Right and the Back images). Notice how seamlessly the sky images blend together! Also, notice the importance of high detail (which the larger shots bring out much more clearly). This example sky would look <span style="font-style: italic">much</span> better in the game if I had rendered the images at 100&#37; detail level instead of at 75&#37;. So will yours.
</p>
<hr />
<h3>Tutorial Files</h3>
<ul type="square">
	    <li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/sky_test.zip" target="_blank">Example map (sky_test.zip)</a> [1K]</li>
	    <li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/tgen_snap1.jpg" target="_blank">Screen shot: Rendering the Right sky image</a> [86K]</li>
	    <li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/tgen_snap2.jpg" target="_blank">Screen shot: Rendering the Front sky image</a> [83K]</li>
	    <li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/tgen_snap3.jpg" target="_blank">Screen shot: Rendering the Left sky image</a> [86K]</li>
	    <li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/tgen_snap4.jpg" target="_blank">Screen shot: Rendering the Back sky image</a> [88K]</li>
	    <li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/tgen_snap5.jpg" target="_blank">Screen shot: Rendering the Up sky image</a> [78K]</li>
	    <li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/tgen_snap6.jpg" target="_blank">Screen shot: Rendering the Down sky image</a> [83K]</li>
	    <li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/tgen_snap7.jpg" target="_blank">Screen shot: In-game sky shot #1</a> [115K]</li>
	    <li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/terragen/tgen_snap8.jpg" target="_blank">Screen shot: In-game sky shot #2</a> [113K]</li>
    </ul>
    <!--eof@195--></ul><h1 id="6" name="6" class="book-h1">Creating Proximity Doors</h1><ul><!-- by Merl (merlinis@bigpond.net.au) 2001
     by Gard (stephen@geol.uwa.edu.au) 2003
     by Andy Updated  Feb 2005 - Validated at W3C XHTML1.0 Transitional
 -->
<h3>
Half-Life
</h3>
<blockquote>
Creating Proximity Doors - <a href="mailto:mithodiel@softhome.net">Mithodiel</a>
</blockquote>
<span style="font-weight: bold">How do I create a proximity door ?<br />
(a door that stays open as long as the player remains in a certain area near the door)</span>
<p>
You've most likely seen the doors in the Half-Life single-player campaign that opened only as long as you turned a wheel, but which started to close after you let go of the wheel. Remember the underwater grates in &quot;Surface Tension&quot;? Those are the type of doors I am referring to. They are <span style="font-style: italic">momentary_door</span>   entities, and the controlling wheel is a <span style="font-style: italic">momentary_rot_button</span> entity.
</p><!--break-->
<p>
The <span style="font-style: italic">momentary_rot_button</span> entity, though, has an interesting property. Repeatedly triggering the entity has the exact same effect as if you hold down the +use key while standing near it! We will use this property to activate our proximity door.
</p>
Creating a proximity door requires the use of three entities:
<ul type="square">
<li><span style="font-style: italic; font-weight: bold"><b>momentary_door</b></span>, for the door itself;</li>
<li><span style="font-style: italic; font-weight: bold"><b>momentary_rot_button</b></span>, to control the up and down motion of the door; and</li>
<li><span style="font-style: italic; font-weight: bold"><b>trigger_multiple</b></span>, to define the proximity area and repeatedly trigger the <span style="font-style: italic">momentary_rot_button</span> in order to keep the door open</li>
</ul>
<p>
We will discuss each entity in turn.
</p>
<hr />
<p>
<span style="font-weight: bold">Step 1</span>: Creating the <span style="font-style: italic">momentary_door</span> entity.
</p>
<p>
If you are in any way familiar with creating normal <span style="font-style: italic">func_door</span> entities, then this will be easy for you to understand. Create your door in the usual way, except that instead of making it a <span style="font-style: italic">func_door</span>, make it into a <span style="font-style: italic">momentary_door</span>. Set the door's angle, speed, lip, etc., to the values you want.
</p>
<p>
Now we need to give the door a name, so that we can use a <span style="font-style: italic">momentary_rot_button</span> to activate it. The example map uses the name <code>proxim_door</code>.
</p>
<p>
Finally, we want the <span style="font-style: italic">momentary_door</span> to close automatically once we stop triggering the <span style="font-style: italic">momentary_rot_button</span>. To do this, set the door's <code>spawnflags</code> value to <code>32</code>. (In Worldcraft, this means to check only the "Toggle" spawnflag). Enabling this spawnflag allows the door to close automatically once the <span style="font-style: italic">momentary_rot_button</span> stops activating it.
</p>
<center>
<a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/proxdoor/prox_snap1.jpg" style="text-decoration: none"><img src="content/half-life/tutorials/proxdoor/prox_thmb1.jpg" width="100" height="70" vspace="6" alt="Worldcraft Screen" title="Worldcraft Screen" /><br />
Screen shot of the<span style="font-style: italic">momentary_door </span>in Worldcraft</a><br /> [94K]
<br />
</center>
<hr/>
<p>
<span style="font-weight: bold">Step 2</span>: Creating the <span style="font-style: italic">momentary_rot_button</span> entity.
</p>
<p>
 If you've created a <span style="font-style: italic">func_rot_button</span> entity before, then this will be easy, too. Create your rotating button as usual (complete with origin brush!), but turn it instead into a <span style="font-style: italic">momentary_rot_button</span> entity. Set its speed, auto-return speed (<code>returnspeed</code>), and rotation distance (<code>distance</code>) as desired.
 </p>
 <p>
 For this tutorial, since the player doesn't have to &#43; use the button to activate it, the button does not have to be set up in a visible part of the level. Since the <span style="font-style: italic">momentary_rot_button</span> entity is brush-based, it can even be placed in the "void" outside of the map. The <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/proxdoor/proxdoor.zip">example map</a> places the button in full view of the player so that you can see that the button turns when triggered repeatedly.
 </p>
 <p>
 Now, set the <code>target</code> key (WC: &quot;Targetted object&quot;) to the name of your <span style="font-style: italic">momentary_door</span>. The example map sets it to <code>proxim_door</code>. This allows the button to open and shut the door.
 </p>
<p>
Now, set the spawnflags of the <span style="font-style: italic">momentary_rot_button</span>. The base value that you need to enter in the <code>spawnflags</code> key is <code>18</code>. (In WC, this is equivalent to checking only the &quot;Not useable&quot; and &quot;Auto Return&quot; spawnflags). Enabling Auto Return allows the door to close itself automatically once the button is no longer being activated. Add 64 to this value (WC: check &quot;X Axis&quot;) if the button rotates around the X-axis, or 128 to this value (WC: check &quot;Y Axis&quot;) if the button rotates around the Y-axis.
</p>
<p>
Finally, give the button a name, so that we can activate it via triggers. The example map uses the name <code>proxim_btn</code>.
</p>
<center>
<a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/proxdoor/prox_snap2.jpg" style="text-decoration: none"><img src="content/half-life/tutorials/proxdoor/prox_thmb2.jpg" width="100" height="70" vspace="6" alt="Prox door" title="prox door" /><br />
Screen shot of the <span style="font-style: italic">momentary_rot_button </span>in Worldcraft</a><br /> [90K]
</center>
<hr />
<p>
<span style="font-weight: bold">Step 3</span>: Creating the <span style="font-style: italic">trigger_multiple</span> entity.
</p>
<p>
This is the most straightforward step, provided that you have created triggers before. Create a brush to define your proximity area and cover it in the AAATRIGGER texture. Then select it and turn it into a <span style="font-style: italic">trigger_multiple</span> entity.
</p>   
<p>
Set the trigger's <code>target</code> key (WC: &quot;Target&quot;) to the name of the <span style="font-style: italic">momentary_rot_button</span>. (For the example map, this is <code>proxim_btn</code>.)
</p>
<p>
Then set the trigger's <code>delay</code> key (WC: &quot;Delay before reset&quot;) to <code>0.1</code>. This causes the trigger to fire every tenth of a second while the player remains in the trigger area [unless you enable the &quot;No Clients&quot; (2) spawnflag -- see below]. Since the trigger targets the button, which in turn controls the door, the door will open and stay open as long as the player remains in the trigger area.
</p>   
The different spawnflags of the <span style="font-style: italic">trigger_multiple</span> allow you to customize which beings in the map get to use the proximity door:
<ul type="square">
<li>&quot;Monsters&quot; (1): If this spawnflag is enabled, then any monster which wanders into the trigger area will activate the door.</li>
<li>&quot;No Clients&quot; (2): If this spawnflag is enabled, then the player cannot activate the trigger. He/she would need to turn the button manually. If the button  is hidden from the player, then the door is off-limits to him/her. Too bad.</li>
<li>&quot;Pushables&quot; (4): If this spawnflag is enabled, then pushing a pushable object into the trigger area will activate the door and cause it to stay open.</li>
</ul>
<center>
<a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/proxdoor/prox_snap3.jpg" style="text-decoration: none"><img src="content/half-life/tutorials/proxdoor/prox_thmb3.jpg" width="100" height="69" vspace="6" alt="Activate" title="activate" /><br />
Screen shot of the <span style="font-style: italic">trigger_multiple </span>in Worldcraft</a><br /> [99K] 
</center>
<hr />
<p>
<span style="font-weight: bold">Step 4</span>: Compile and run.
</p>
<p>
Compile and run your map. The door should begin to open when the player steps into the trigger area, and should stay open as long as he/she stays in the trigger area.
</p>
<p>
I've created a small example map that illustrates the concept. The first door you come to is a normal sliding <span style="font-style: italic">func_door</span> -- ignore this one. The second door is the proximity door. There is a wheel along the wall here -- this is the <span style="font-style: italic">momentary_rot_button</span> that controls the door. I decided not to hide it so that you can see the button rotate when it is triggered, and to allow you to +use the wheel yourself to open the door. The proximity area for the door is the area covered in the red and white stripes.
</p>
<center>
<a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/proxdoor/prox_snap4.jpg"><img src="content/half-life/tutorials/proxdoor/prox_thmb4.jpg" width="100" height="75" vspace="6" alt="Door opening" title="Door Opening" /></a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/proxdoor/prox_snap5.jpg"><img src="content/half-life/tutorials/proxdoor/prox_thmb5.jpg" width="100" height="75" vspace="6" alt="Door Closing" title="Door Closing" /></a><br />
<a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/proxdoor/prox_snap4.jpg"><span style="font-style: italic; text-decoration: none">Door Opening</span></a> [21K] and <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/proxdoor/prox_snap5.jpg"><span style="font-style: italic; text-decoration: none">Door Closing</span></a> [22K]<br />
<span style="font-style: italic">Click on thumbnails to view larger versions of the images</span>
</center>
<hr />
<span style="font-weight: bold">Example Files</span><br />
<ul type="square">
<li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/proxdoor/proxdoor.zip">Example map (proxdoor.zip)</a> [8K]</li>
<!--li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/proxdoor/prox_snap4.jpg" target="_blank">Screen shot of the proximity door opening</a> [21K]</li>
<li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/proxdoor/prox_snap5.jpg" target="_blank">Screen shot of the proximity door closing</a> [22K]</li-->
</ul>
<p><span style="font-weight: bold">NOTE:</span> Special thanks to <a href="http://www.geocities.com/TimesSquare/Alley/7579/members/oddsock.html">[RPS]Odd Sock</a>, who came up with the basic mechanism for creating such a door, at least as far as I know.
</p>
<!--EOF@116-->
</ul><h1 id="5" name="5" class="book-h1">Customizing the lights.rad File</h1><ul><!-- 
by Merl (merlinis@bigpond.net.au) 2001
by Gard (stephen@geol.uwa.edu.au) 2003
XHTML Update Feb 05 Andy
 -->
	 
<h3>Half-Life</h3>
<blockquote>
Customizing the lights.rad File - <a href="mailto:mithodiel@softhome.net">Mithodiel</a>
</blockquote>
<span style="font-weight: bold">Why doesn't my texture lighting work? It was working fine under Worldcraft 2.0!</span>
<p>
It's because of a mix-up involving the <span style="font-style: italic">lights.rad</span> file. The RAD compile tool (named QRAD or HLRAD) reads and parses this file in order to determine which textures to consider as texture lights when it lights your map.
</p>
<p>
When Valve Software released Worldcraft 2.0 with Half-Life, they included  a <span style="font-style: italic">lights.rad</span> file that contained the texture lighting values they used when they created the maps included with the game. Some mappers, unaware of how texture lighting works, ended up getting unwanted texture lighting because they used textures that were referenced in the default <span style="font-style: italic">lights.rad</span> file. So when Valve released Worldcraft 2.1, they decided to include a (basically) blank <span style="font-style: italic">lights.rad</span> file so that users could set their own texture lighting values. And when Valve released WC 3.3, they kept the same blank <span style="font-style: italic">lights.rad</span> file in the distribution.
</p>
<p>
This means that when you upgraded from version 2.0 to version 2.1 or 3.3, all of the texture lighting values you were relying on from the old <span style="font-style: italic">lights.rad</span> file got nuked -- and if you didn't read the release notes that came with the upgrade, then you didn't notice anything until you compiled your map.
</p>
<hr />
<h4>So how do I fix my texture lighting?</h4>
<p>
Two ways, the easy way (in which you learn absolutely nothing) and the harder way (which is infinitely more rewarding).
</p>
<p>
First, the easy way: Valve didn't leave us mappers totally up the creek. They included the old <span style="font-style: italic">lights.rad</span> file as a new file called <span style="font-style: italic">valve.rad</span>. You can restore the old texture lighting values simply by renaming this file <span style="font-style: italic">lights.rad</span>. You can also add the parameter <span style="font-weight: bold">-lights valve.rad</span> to the RAD tool's command line. This tells the RAD tool to read its texture lighting data from <span style="font-style: italic">valve.rad</span> instead of <span style="font-style: italic">lights.rad</span>.
</p> 
<p>
Next, the harder way: You can insert custom texture lighting values into the <span style="font-style: italic">lights.rad </span>file yourself. You don't need a special editor for this -- any text editor, even Notepad, will do fine. Open up the <span style="font-style: italic">lights.rad</span> file. Each line in the file represents a texture that will be used as a texture light:
</p>
<code>
WHITE&nbsp;&nbsp;255 255 255 10000
YELLOW 255 255 0    10000
</code>
<p>
Let us examine the first entry in more detail:
</p>
<ul type="square">
<li>The first item in each line (WHITE) is the name of the texture you want to use as a texture light.</li><br />
<li>The next three items (255 255 255) are the red, green, and blue values of the light that will be emitted from this texture. All colors are made up of a red component, a green component, and a blue component. These values range from 0 (black) to 255 (full color).
An easy way to determine a light color is to open up a paint program and choose a color you want from the color picker dialog. Then write down the red, green, and blue color values and type them into the <span style="font-style: italic">lights.rad</span> file.</li><br />
<li>The last item (10000) is the brightness of the light. The higher the number, the brighter the light. Unfortunately, there is no tool (yet) that will help you pick the right number here, so you will need to play with this value in order to get the effect you want. </li>
</ul>
<p>
Repeat for as many new texture lights as you want. Note that the color of the emitted light doesn't have to correspond to the colors in the texture. You can make the &quot;SECURITY IS EVERYONE'S RESPONSIBILITY&quot; sign cast neon-green light all over your map if you want to. &lt;grin&gt; Then recompile your map, and <span style="font-style: italic">voil&aacute;</span>! Instant texture lighting.
</p>
<hr />
<h4>Example: Glowing Green Slime</h4>
<p>
I am creating a map where I want my Toxic Green Slime &trade; to glow a sickly bluish-green throughout my map. So I decide to add the green slime texture to my <span style="font-style: italic">lights.rad</span> file by adding the line:
</p>
<code>!TOXICGRN	84  207  48  100</code>
<p>
I choose the color values by bringing up Microsoft Paint, picking a color that I like from its custom color dialog, and copying the values to my lights.rad file. I set the brightness very low because I want the glow of the slime to be a subtle effect. Then I recompile. Soon, the poor hapless players are bathing in toxic green-blue light.
</p>
<center>
<a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/lightsrad/light_snap1.jpg"><img src="content/half-life/tutorials/lightsrad/lght_thmb1.jpg" width="100" height="75" style="border: none" alt="light1" title="light1" /></a>&nbsp;<a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/lightsrad/lght_snap2.jpg"><img src="content/half-life/tutorials/lightsrad/lght_thmb2.jpg" width="100" height="75" style="border: none" alt="light1" title="light2" /></a><br />
<a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/lightsrad/lght_snap1.jpg">Before</a> (37K) and <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/lightsrad/lght_snap2.jpg">after</a> (43K) <br />shots of example map<br />
Click on thumbnails to view a larger version of the images<br />
</center>
<hr />
<h4>Tutorial Files</h4>
<ul type="square">
<li>Example map: <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/lightsrad/texlight.zip">texlight.zip</a> (3K)</li>
<li>Screen snap: <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/lightsrad/lght_snap1.jpg" target="_blank">Example map without green slime texture light</a> (37K)</li>
<li>Screen snap: <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/lightsrad/lght_snap2.jpg" target="_blank">Example map with green slime texture light</a> (43K)</li>
</ul>
<!--EOF@71--></ul><h1 id="596" name="596" class="book-h1">Dimensions</h1><ul><!--
Submitted by Andy Nov 2004, 
Updated  Feb 2005 - Validated at W3C, XHTML1.0 Transitional
-->
<h3>Half-Life</h3>
<blockquote>Dimensions - by Andy</blockquote>
<p>
These dimensions apply to levels created with most editors, as long as the code for the player entities has not been modified.<br />
If your using standard player models these dimensions apply.
</p>
<p>
<span style="font-weight: bold">What does <span style="color: #ff0000">1</span> unit equal?</span><br />
The answer is that <span style="color: #ff0000">1</span>  unit doesn't really equal anything. It is not a 'real' inch or centimeter. It is closer to a pixel.<br />
If you build your maps based on a unit actually representing a standard measurement, then Gordon will end up being a vertically challenged rotund person.
</p>

<center>
<img src="/content/half-life/tutorials/dimension/block1.jpg" width="350" height="200" vspace="6"  alt="Standing" title="Standing" />
</center>
<center>
Player Standing
</center>
<center>
<img src="/content/half-life/tutorials/dimension/block2.jpg" width="350" height="200" vspace="6" alt="Crouched" title="Crouched" />
</center>
<center>
Player Crouched
</center>
<p>
<span style="font-weight: bold">Ground Obstacle Height:</span><br />
This is the maximum height, in units, an object can be while still allowing the player to <span style="font-style: italic; font-weight: bold">walk over</span>&nbsp; it.
</p>
<center>
<img src="/content/half-life/tutorials/dimension/step.jpg" width="350" height="200" alt="Step" title="Step" />
</center>
<p align="center">
Crouched: <span style="color: #ff0000">18</span> units&nbsp;&nbsp; Standing: <span style="color: #ff0000">18</span> units 
</p>
<p>
<span style="font-weight: bold">Overhead Obstacle Height:</span><br />
This is the minimum distance, in units, that can be between the ground and an object while still allowing the player to <span style="font-style: italic; font-weight: bold">pass underneath it</span>.
</p>
<center>
<img src="/content/half-life/tutorials/dimension/head.jpg" width="350" height="200" alt="Headspace" title="Headspace" />
</center>
<p align="center">
Crouched: <span style="color: #ff0000">36</span>&nbsp;&nbsp; Standing: <span style="color: #ff0000">72</span>
</p>
<p>
<span style="font-weight: bold">Minimum Path Width:</span><br />
This is the minimum width, in units, that can be between two objects while still allowing the player to <span style="font-style: italic; font-weight: bold">pass between</span> them.</p>
<center>
<img src="/content/half-life/tutorials/dimension/between.jpg" width="350" height="200" alt="Between" title="Between" />
</center>
<p align="center">
Width: <span style="color: #ff0000">33</span>
</p>
<p>
<span style="font-weight: bold">Jump Height:</span><br />
This is the maximum height, in units, an object can be while still allowing the player to <span style="font-style: italic; font-weight: bold">jump on top</span> of it.
</p>
<center>
<img src="/content/half-life/tutorials/dimension/hop.jpg" width="350" height="200" alt="Hop" title="Hop" />
</center>
<p align="center">
Crouched: <span style="color: #ff0000"> 44 </span>&nbsp;&nbsp; Walking: <span style="color: #ff0000"> 44 </span>&nbsp;&nbsp; Running crouch-jump: <span style="color: #ff0000"> 62 </span>
</p>
<p>
<span style="font-weight: bold">Jump from - to</span>:<br />
This is the maximum distance, in units, that can be between two objects of the same height, while still allowing the player to <span style="font-style: italic; font-weight: bold">jump from one object to the other.</span></p>
<center>
<img src="/content/half-life/tutorials/dimension/jump.jpg" width="350" height="200" alt="Jump" title="Jump" />
</center>
<p align="center">
Crouched: <span style="color: #ff0000">99</span>&nbsp;&nbsp;Walking: <span style="color: #ff0000">109</span>&nbsp;&nbsp;Running: <span style="color: #ff0000">239</span>&nbsp;&nbsp;Running crouch-jump: <span style="color: #ff0000">259</span>
</p>
<p>
<span style="font-weight: bold">Eye Level</span>:<br />
Looking directly ahead, a brush will appear to be at eye level if it is about <span style="color: #ff0000"> 45 </span> - <span style="color: #ff0000"> 50 </span> units off the floor.
</p>
<hr />
<p>
<span style="font-weight: bold">Other Dimensions</span>:<br />
The <span style="font-weight: bold">smallest brush</span> you can walk on is <span style="font-weight: bold">A half of one unit</span>... if it's there you can walk on it.
</p>
<p>
<span style="font-weight: bold">Damage</span> recieved in a fall: (height in units)
</p>
<center>
<table cellpadding="0" cellspacing="0" border="0" width="224">
<tr valign="top" align="left">
<td>
<table border="0" cellspacing="0" cellpadding="0" width="112">
<tr valign="top" align="left">
<td width="16" height="8">&nbsp;</td>
<td width="16">&nbsp;</td>
<td width="64">&nbsp;</td>
<td width="16">&nbsp;</td>
</tr>
<tr valign="top" align="left">
<td>&nbsp;</td>
<td colspan="3" width="96">
<p align="center">
 Height Fallen
</p>
</td>
</tr>
<tr valign="top" align="left">
<td colspan="4" height="16">&nbsp;</td>
</tr>
<tr valign="top" align="left">
<td colspan="2">&nbsp;</td>
<td width="64">
<p align="center">
 200
</p>
</td>
<td>&nbsp;</td>
</tr>
<tr valign="top" align="left">
<td colspan="2">&nbsp;</td>
<td width="64">
<p align="center">
 250
 </p>
</td>
<td>&nbsp;</td>
</tr>
<tr valign="top" align="left">
<td colspan="2">&nbsp;</td>
<td width="64">
<p align="center">
 300
</p>
</td>
<td>&nbsp;</td>
</tr>
<tr valign="top" align="left">
<td colspan="2">&nbsp;</td>
<td width="64">
<p align="center">
 400
</p>
</td>
<td>&nbsp;</td>
</tr>
<tr valign="top" align="left">
<td colspan="2">&nbsp;</td>
<td width="64">
<p align="center">
 500
</p>
</td>
<td>&nbsp;</td>
</tr>
<tr valign="top" align="left">
<td colspan="2">&nbsp;</td>
<td width="64">
<p align="center">
  600
</p>
</td>
<td>&nbsp;</td>
</tr>
<tr valign="top" align="left">
<td colspan="2">&nbsp;</td>
<td width="64">
<p align="center">
 700
</p>
</td>
<td>&nbsp;</td>
</tr>
</table>
</td>
<td>
<table border="0" cellspacing="0" cellpadding="0" width="112" >
<tr valign="top" align="left">
<td width="16" height="8">&nbsp;</td>
<td width="16">&nbsp;</td>
<td width="64">&nbsp;</td>
<td width="16">&nbsp;</td>
</tr>
<tr valign="top" align="left">
<td>&nbsp;</td>
 <td colspan="3" width="96">
<p align="center">
 Health Left
</p>
</td>
</tr>
<tr valign="top" align="left">
<td colspan="4" height="16">&nbsp;</td>
</tr>
<tr valign="top" align="left">
<td colspan="2">&nbsp;</td>
<td width="64">
<p align="center">
  100
</p>
</td>
<td>&nbsp;</td>
</tr>
<tr valign="top" align="left">
<td colspan="2">&nbsp;</td>
<td width="64">
<p align="center">
  90
</p>
</td>
<td>&nbsp;</td>
</tr>
<tr valign="top" align="left">
<td colspan="2">&nbsp;</td>
<td width="64">
<p align="center">
 75
</p>
</td>
<td>&nbsp;</td>
</tr>
<tr valign="top" align="left">
<td colspan="2">&nbsp;</td>
<td width="64">
<p align="center">
  50
</p>
</td>
<td>&nbsp;</td>
</tr>
<tr valign="top" align="left">
<td colspan="2">&nbsp;</td>
<td width="64">
<p align="center">
 30
</p>
</td>
<td>&nbsp;</td>
</tr>
<tr valign="top" align="left">
<td colspan="2">&nbsp;</td>
<td width="64">
<p align="center">
  10
</p>
</td>
<td>&nbsp;</td>
</tr>
<tr valign="top" align="left">
<td colspan="2">&nbsp;</td>
<td width="64">
<p align="center">
 Death
</p>
</td>
<td>&nbsp;</td>
</tr>
</table>
</td>
</tr>
</table>
</center>
<p>&nbsp;</p>
<p>
<span style="color: #ff0000">Important</span>: If a player falls in water he will not suffer damage!! Even if the water is only one unit deep.<br />
If you require the Player to be damaged in a water fall, use a<span style="font-style: italic; font-weight: bold"> trigger_hurt </span> entity with the spawnflag 'falling damage' activated.
</p>
<hr />
If you have any other dimensions, please post a comment.
<p>
Thanks to Tiger for the information.
</p>
<!--EOF@271--></ul><h1 id="8" name="8" class="book-h1">How to Make a Sphere in Worldcraft</h1><ul><!-- 
by Merl (merlinis@bigpond.net.au) 2001
by Gard (stephen@geol.uwa.edu.au) 2003 
XHTML Update Feb 05 -Andy
-->
	 <h3>Half-Life</h3>
<blockquote>
How to Make a Sphere in Worldcraft - <a href="mailto:n_alger_@hotmail.com">Mazemaster</a>
</blockquote>
<h4>So you want to make a sphere, eh?</h4> 
<br />
<p>
Well there are several techniques to make one, but by far the easiest method in Worldcraft is called the &quot;cone slicing&quot; method. The basic principle of the cone slicing method is to take a cone, slice it into pieces and then scale the pieces up or down to give it a spherical shape.
</p>
<hr />
<p>
<a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/sphere/sphere.zip">Download</a> the sample maps (rmf format) - 6.00 KB
</p>
<hr />
<p>
Lets get started. First you will need to fire up Worldcraft. To begin, select spike from the block tool make yourself a cone. It should have at least 8 sides if you want your sphere to look spherical, the more sides the more spherical it will look for a given size.
</p>
<center>
<img src="content/half-life/tutorials/sphere/sphere1.jpg" width="450" height="360" alt="Sphere1" title="Sphere1" />
</center>
<p>
Now you need to set up some template cylinders on the sides of the spheres to give you a guide of where to slice the cone. These template cylinders will not actually be in the final sphere, they are just there to guide you as you are messing with the cone. Since the cone will only be the top half of the sphere, you only really need half of the template cylinder.
</p>
<center>
<img src="content/half-life/tutorials/sphere/sphere2.jpg" width="450" height="360" alt="Sphere2" title="Sphere2" />
</center>
<p>
From now on, you will only need to deal in 1 2d window, the one that shows the profile of the template cylinder and the upright cone (y/z in this example). First resize your cone so that it is the height of the template cylinder.
</p>
<center>
<img src="content/half-life/tutorials/sphere/sphere3.jpg" width="450" height="360" alt="Sphere3" title="Sphere3" />
</center>
<p>
Now go into the 1 unit grid. Note that you should not use the 1 unit grid for 99% of mapping, only special situations such as making a sphere.
In the next step, you will determine WHERE to slice your cone and this is of critical importance. To find out where you should slice your cone, drop an imaginary line down from a point on your template cylinder and find where it intersects the cone. Use the clip tool to slice the cone horizontally at this location.
</p>
<center>
<img src="content/half-life/tutorials/sphere/sphere4.jpg" width="450" height="360" alt="Sphere4" title="Sphere4" />
</center>
<p>
Next, you will have to scale the pieces of the cone to match the form of the template. This is done using vertex manipulation. Now select all the &quot;middle&quot; verticies of the two pieces of the cone. This is most easily done by making a bounding box around all of them. If you click on verticie by vertecie then you will only select the verticies for 1 piece instead of both.
</p>
<center>
<img src="content/half-life/tutorials/sphere/sphere5.jpg" width="450" height="360" alt="Sphere5" title="Sphere5" />
</center>
<p>
Now to move the verticies up! Now that all of your verticies are selected, grab the CENTER verticie and drag it up until the shape fits the template. Be sure to grab verticies that are literally on grid units when dragging all of the verticies or else everything will snap to grid in weird ways which will make all of your objects invalid. )-:
</p>
<center>
<img src="content/half-life/tutorials/sphere/sphere6.jpg" width="450" height="360" alt="Sphere6" title="Sphere6" />
</center>
<p>
Now you have half of your sphere. All you have to do is turn it upside down and you'll have your full sphere. Be sure to delete the template cylinder as well. The sphere made in this tutorial only uses 4 rows and 8 columns, so it's kind of &quot;blocky&quot; looking, but its at least ok.
</p>
<center>
<img src="content/half-life/tutorials/sphere/sphere7.jpg" width="450" height="360" alt="Sphere7" title="Sphere7" />
</center>
<p>
Remember, the number of sides your initial cone has determines the number of columns the sphere will have, and the number of sides your template cylinder has determines the number of rows or &quot;stacks&quot; that your sphere will have.
Beware, if you resize your sphere and stretch it about, you may get invalid objects due to floating point errors so it is best to make your sphere the size you want it to be the first time instead of using a prefab sphere and resizing it. This is especially true with higher-poly spheres.
The following is a sphere I made with 12 stacks and 12 rows, you can see how much better it looks:
</p>
<center>
<img src="content/half-life/tutorials/sphere/sphere8.jpg" width="450" height="360" alt="Sphere8" title="Sphere8" />
</center>
<p>
If you are going to be making different parts of the sphere into different entities then you might consider putting the &quot;null&quot; texture on the inside faces of the sphere in conjunction with Merl's modified ZHLT (<a href="http://www.chatbear.com/uploaded/1011059245-nulltex.zip">http://www.chatbear.com/uploaded/1011059245-nulltex.zip</a>).
</p>			
<!--EOF@74--></ul><h1 id="196" name="196" class="book-h1">How to make respawnable glass</h1><ul><!-- 
by Koga73(koga73@msn.com) 2004 
Update- Validated XHTML - FEB 05 Andy
-->
	<h3>Half-Life</h3>
<blockquote>
How to make respawnable glass - by <a href="koga73@msn.com">Koga73</a>
</blockquote>
<p>
Have you ever wondered how to make respawnable glass in half-life or tfc? <br />
I have. I needed it for a map when I began mapping about 4 years ago... Now that I'm an advanced mapper I finally figured it out! (I'm not saying I was trying for 4 years to make respawnable glass or anything ... I have a real life!).
</p>
<hr />
<h4>Respawnable Glass</h4>
<p>
To make respawnable glass, do the following:
</p>
<ol>
<li> First make a polygon with a glass brush,</li> 
<li> Tie the polygon to an entity - func_wall_toggle,</li> 
<li> Set the properties for the func_wall_toggle too;</li> 
</ol>
<blockquote>
<span style="color: #ff0000; font-weight: bold">name:</span> glass
<span style="color: #ff0000; font-weight: bold">render mode:</span> texture
<span style="color: #ff0000; font-weight: bold">fx_amount:</span> 90
</blockquote>
<ol start="4">
<li> Create a brush of a crack and put it over the glass so when it is shot, it breakes.</li>
<li>Tie the crack to and entity - func_wall_toggle;</li> 
</ol>
<blockquote>
<span style="color: #ff0000; font-weight: bold">name:</span> glass
<span style="color: #ff0000; font-weight: bold">render mode:</span> solid
<span style="color: #ff0000; font-weight: bold">fx_amount:</span> 255
</blockquote>
<ol start="6">
<li> Create a brush of the AAA trigger texture and put it over the crack,</li> 
<li> Tie it to an entity of button_target and set it's properties too;</li> 
</ol>
<blockquote>
<span style="color: #ff0000; font-weight: bold">target:</span> multiglass
<span style="color: #ff0000; font-weight: bold">render mode:</span> solid (<span style="font-style: italic">this will make it invisible</span>)
</blockquote>
<ol start="8">
<li> Create the AAA brush over your button_target,</li>
<li> Tie it to an entity - func_wall_toggle and set too;</li>
</ol>
<blockquote>
<span style="color: #ff0000; font-weight: bold">name:</span> glass
<span style="color: #ff0000; font-weight: bold">render mode:</span> solid
<span style="color: #ff0000; font-weight: bold">under flags, check:</span> starts invisable.
</blockquote>
<ol start="10">
<li> Create an entity: ambient_generic and set to;</li> 
</ol>
<blockquote>
<span style="color: #ff0000; font-weight: bold">name:</span> glasswave
<span style="color: #ff0000; font-weight: bold">wav name:</span> glassbreak3 (or other sounds)
<span style="color: #ff0000; font-weight: bold">volume:</span> 10
<span style="color: #ff0000; font-weight: bold">start volume:</span> 10
<span style="color: #ff0000; font-weight: bold">under flags check:</span><span style="font-style: italic">start silent, not looped, with small radius</span>
</blockquote>
<ol start="11">
<li> Create a multi_manager and set too; </li> 
</ol>
<blockquote>
<span style="color: #ff0000; font-weight: bold">properties:</span> click - smart edit
add the folowing with values of zero:
<span style="color: #ff0000; font-weight: bold">glass:</span> 0
<span style="color: #ff0000; font-weight: bold">glasswave:</span> 0
add the folowing with values of 5 (<span style="font-style: italic">or how long you want until the glass restores</span>)
<span style="color: #ff0000; font-weight: bold">glass:</span> 60
</blockquote>
<p>
That should do it. Follow these instructions and your glass will constantly respawn when broken ... without having to call the repair_entity (that's a joke!)
</p>
<!--EOF@78--></ul><h1 id="4" name="4" class="book-h1">Making a Custom Console Background</h1><ul><!-- 
by Merl (merlinis@bigpond.net.au) 2001
by Gard (stephen@geol.uwa.edu.au) 2003 
Updated XHTML - FEB 05 Andy
-->
<h3>Half-Life</h3>
<blockquote>
Making a Custom Console Background - Created by Merl<br />
<a href="stephen@geol.uwa.edu.au">Updates contact RUST</a>
</blockquote>
<p>
<span style="font-weight: bold">Preface:</span><br />
This tutorial will show you how to make your own console background and loading images for your mod.
</p>
<span style="font-weight: bold">You will need:</span>
<ul>
<li> Valve's modified version of ID Software's Qlumpy.exe executable (available in the Half-Life SDK or <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/conback/qlumpy.zip">here</a> if you dont have the SDK)</li>
<li> A competent image editing program (I myself use Adobe PhotoShop for all my image editing needs. However, If you need a shareware editor fast, may I suggest Jasc Software's Paint Shop Pro- Available here: <a href="http://www.jasc.com/">http://www.jasc.com/</a> )</li>
<li> Notepad</li>
</ul>
<span style="font-weight: bold">Just a few notes:</span>
<ul>
<li> The console background and loading image are stored in a wad file in the mod's root directory called cached.wad. </li>
<li> I would advise that you make your own mod before you do this. Don't worry, making a new mod will only take about 30 seconds, and only requires the creation of 1 file. For more on this, go <a href="http://collective.valve-erc.com/index.php?go=howto_mod">here.</a></li>
<li> If you don't want to bother with that, then at least back up your current cached.wad file in your valve directory before changing it. You never know that may happen.</li>
</ul>
<p>
<span style="font-weight: bold">Making the images</span><br />
First of all, were going to have to make the images themselves. 
</p>
 <ol><!--1-->
<li> Fire up your image editor. Create a new image by going to File -> New.</li>

<li> You should now specify the dimensions for the new image. For the purposes of this tutorial, make the dimensions 320 x 200 pixels. You may choose to experiment with this size later.</li>

<li> Make it! Draw something, import an image relevant to your mod, whatever.</li>
</ol>
<ul>
<li><span style="font-weight: bold; font-style: italic">NOTE:</span> It would be illogical to make a console background that makes the text of the console unreadable. So, when designing the console background, be sure to keep in mind the colour of the console text.</li>
</ul>
<ol start="4"><!--4-->
<li> When your finished, save your image as <span style="font-weight: bold">conback.bmp</span> (note: the image must be a normal 8-bit 256 colour bitmap). You can actually name it whatever you want, but I'll use this for this tutorial.</li>
<li> Repeat steps 1-3 for the Loading image, and save it as <span style="font-weight: bold">loadback.bmp</span>. Again, make sure it is saved as an apropriate bitmap.</li>
 </ol>
<p>
Now that we have our images, we will compile them both into the cached.wad file using the Qlumpy.exe  tool. But, a few things need to be taken care of:
</p>
<ul>
<li> Make a new temporary folder on your hard drive. Something like <span style="font-style: italic">c:\temp\qlumpy\ </span> will work best and cause you less hassles later on.</li>
<li> Take qlumpy.exe out of the SDK (look in the Texture Wad Tools folder) and put it in the temp directory you just made. Also, put both your images in there.</li>
</ul>
<p>
<span style="font-weight: bold">Compiling your Cached.wad</span><br />
OK, Now were ready to compile your cached.wad file.
</p>
<ol start="1"><!--1-->
<li> Fire up Notepad. Enter the following lines exactly as they appear:</li>
</ol>	
<hr />
<code>
			$DEST &quot;cached.wad&quot;<br />

			$loadbmp &quot;<span style="color: #FF8000">c:\temp\qlumpy\conback.bmp</span>&quot;<br />
			conback qpic 0 0 <span style="color: #0000FF">320 200</span><br />

			$loadbmp &quot;<span style="color: #FF8000">c:\temp\qlumpy\loadback.bmp</span>&quot;<br />
			loading qpic 0 0 <span style="color: #0000FF">320 200</span><br />
</code>
<hr />
<blockquote>
<span style="font-weight: bold; font-style: italic">NOTE:</span> You will need to replace the <span style="color: #FF8000">Orange</span> lines above with the actual path to the images on your Hard Drive. If you have been using the exact paths and names I have been using in this tutorial, then you wont need to change anything.
<span style="font-weight: bold; font-style: italic">Advanced users note:</span> IF you are experimenting with different image sizes, then I suggest you modify the last two numbers in <span style="color: #0000FF">Blue</span> to reflect the dimensions of your two images. 
</blockquote>
<ol start="2">
<li> Save the file in your temporary directory (<span style="font-style: italic">c:\temp\qlumpy</span> in this tutorial) as <span style="font-style: italic">console.ls</span></li>
</ol>
<ul>
<li><span style="font-weight: bold; font-style: italic">NOTE:</span> the extension you should save under must be <span style="font-style: italic">.ls,</span> NOT <span style="font-style: italic">.txt,</span> as Notepad will save by default. Make sure you check after you have saved this file that the extension is correct before proceeding. To do this, make sure Windows is not hiding your file extensions.</li>
</ul>
<ol start="3">
<li> In Notepad, goto File -> New. This time, enter the following:</li>
</ol>
<hr />
<code>qlumpy console.ls</code>
<hr />
<ol start="4">			
<li> Save the file in your temporary directory as consolewad.bat.</li>
</ol>		
<ul>
<li><span style="font-weight: bold; font-style: italic">NOTE:</span> As above, make sure the extension is .bat, and not .txt. 	Also, you can actually name this file anything you want.</li>
</ul>
<p>
Now all that remains is to simply double-click on consolewad.bat, and a dos window should appear, think about all of this and eventually spit out a cached.wad file.
</p>
<p>
All you need to do is put this cached.wad file in your mod's root directory, and the changes *should* take effect.
</p>
<!-- eof @ 106 -->
</ul><h1 id="539" name="539" class="book-h1">Making New Buttons for Your MOD</h1><ul><!--
by Cheesemonster (http://rcbot.bots-united.com/emailuser.php?u=1) 2004 
Updated to  XHTML FEB 05 - Andy
-->
<h3>Half-Life</h3>
<blockquote>
<span style="font-weight: bold">Making New Buttons for Your MOD</span> by <a href="http://rcbot.bots-united.com/emailuser.php?u=1">Cheesemonster</a> .
</blockquote>
<h3>Introduction</h3>
<p>
Allows you to add custom buttons to your MOD
</p>
<hr />
<!--break-->
<h3>Step 1: open file input.cpp</h3>
<p>
you need to first create a variable, typically global to the file which is a "kbutton_t"
</p>
<p>
you'll find a lot of these declared at once in input.cpp, so add something like:
</p>
<span style="color: #ff0000">
<pre>
kbutton_t in_my_new_button;
</pre>
</span>
<p>
Or whatever you want to call it :p
</p>
<h3>Step 2: Specify the Command you want to use</h3>
<p>
Each button has a command, e.g. attack has +attack as a console command
</p>
<p>
You need to create a command in console from it as well, you can do this by using pfnAddCommand()
</p>
<p>
Although first you need to make a function which just makes the key down or up (pressed or released)
</p>
<p>
So you need to make TWO functions and TWO pfnAddCommand statements. Have a look...
</p>
<span style="color: #ff0000">
<pre>
// pressed button
void IN_My_New_Button_Down(void)
{
      KeyDown( &amp;in_my_new_button );
}

// released button
void IN_My_New_Button_Up(void)
{
      KeyUp( &amp;in_my_new_button );
}
</pre>
</span>
<p>
There is also a place in input.cpp where a lot of pfnAddCommand()'s are made. Add your commands there.
</p>
<p>
you need to specify the command you want it to be and the name of the function which deals with it that you just made above. For example:
</p>
<span style="color: #ff0000">
<pre>
      gEngfuncs.pfnAddCommand ("+my_button", IN_My_New_Button_Down);
      gEngfuncs.pfnAddCommand ("-my_button", IN_My_New_Button_Up);
</pre>
</span>
<p>
remember your button whatever you want.
</p>
<h3>Step 3: Giving the button an ID</h3>
 <p>
Each button has a cont=stant identification to know what buttons are pressed. e.g. Attack has the constant IN_ATTACK, we want to make our own.
</p>
<p>
Now you should make a new bit for your button that will work with 'pev->button' in entvars.
</p>
<p>
Define it in input.h, as follows:
</p>
<span style="color: #ff0000">
<pre>
#define IN_MY_NEW_BUTTON (1&lt;&lt;16)
</pre>
</span>
<h3>Step 4: Check if button is pressed</h3>
 <p>
That's your new button's bit mask set that you can check in game if it is pressed.
</p>
<p>
Now you've done that you can go down into the CL_ButtonBits() function. Like this:
</p>
<span style="color: #ff0000">
<pre>
int CL_ButtonBits( int bResetState )
</pre>
</span>
<p>
Add some new code to add your new bitmask to the bits pressed when your button in_my_new_button's state is 3 (i Think!)
</p>
<p>
Here is an example:
</p>
<span style="color: #ff0000">
<pre>
      if ( in_my_new_button.state &amp; 3 )
      {
            bits |= IN_MY_NEW_BUTTON;
      }
</pre>
</span>
<h3>Step 5: Resetting the button State</h3>
<p>
You also have to add the button when your resetting the state at the bottom of the function.. where it has all of this stuff..
</p>
<span style="color: #ff0000">
<pre>
      if ( bResetState )
      {
            in_attack.state &amp;= ~2;
            in_duck.state &amp;= ~2;
               ...
               ...
        }
</pre>
</span>
<p>
so now just add..
</p>
<span style="color: #ff0000">
<pre>
in_my_new_button.state &amp;= ~2;
</pre>
</span>
<h3>Finished</h3>
<p>
That's it. You have just codified your first button in Half-life. Congratulation!!!
</p>
<!--EOF@141--></ul><h1 id="1046" name="1046" class="book-h1">R_speeds</h1><ul><!--R_speeds, submitted by Andy APR 05 originally written for TWHL 2003-->
<h3>Half-Life</h3>
<blockquote>R_speeds -  by Andy<br />
This tutorial was first written late 2002 and predominantly deals with the original Half-Life, since then there has been a massive increase in the average household PC's ability to render games, HL2 is an example of that. Most of this information is still valid across all platforms but some of the quoted maximums might be severely outdated.<br />
Regardless of that the theory is still sound. 
</blockquote>
<h3>Contents</h3>
<ul>
<li><a href="/node/1046#speeds">What are 'r_speeds'</a></li>
<li><a href="/node/1046#limits">What is within 'limits'</a></li>
<li><a href="/node/1046#reduce">Reducing r_speeds</a></li>
<li><a href="/node/1046#corners">Corners, Mitering and molding</a></li>
<li><a href="/node/1046#texture">Sky Textures and Boxes</a></li>
<li><a href="/node/1046#brush">General brush building</a></li>
<li><a href="/node/1046#clip">Clipping, Carving and more VM</a></li>
<li><a href="/node/1046#vis">Vis Blockers</a></li>
<li><a href="/node/1046#summary">Summary</a></li>
<li><a href="/node/1046#read">Further Reading</a></li>
</ul>
<p>
My first level of any consequence lagged badly and I didn't understand why. I posted on a few well known and authorative sites, read all I could on the subject and ended up being more confused than when I started. <br />
So not to be left in the dark, I did some research and read all the articles written by the &quot;Experts&quot; on r_speeds, unfortunately and a lot of what I read contradicted itself, so I decided to test all the theories. 
</p>
<h3 id="speeds">What are 'r_speeds' ?</a></h3>
<p><span style="font-weight: bold;">OpenGl</span><br />
First let's have a look at what r_speeds are. Most sites I visited agreed that <span style="color: #ff0000">r_speed</span> stands for Render Speed. The speed at which the game engine draws the frames you see to the screen.<br /> 
If you open the <span style="font-weight: bold;"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/speeds/r_speeds.zip">example map</a></span> it contains an RMF and a .map file that walks you through the some examples. The first thing you need to do is bring up the console by typing <span style="font-weight: bold;">~</span> (tilde key) and then type <span style="font-weight: bold;">r_speeds 1</span> you will be presented with 4 lines of numbers in the top left hand corner of the screen. If your Half-Life graphics options are set to use OpenGL, they should look something like this:
</p>
<div style="margin: 0px auto; padding: 1px; width: 268px; border: 1px solid #999; text-align: center; display: block;">
<img src="content/half-life/tutorials/speeds/r_speeds_6_small.jpg"  width="268" height="76" alt="OpenGL Numbers" title="OpenGL Numbers" />
</div>
<p class="clear: both;"></p>
<ul>
<li><span style="color: #ff0000">60fps</span>: the number of frames being drawn to the screen per second. The game should appear fluid at above about 25fps.</li>
<li><span style="color: #ff0000">0ms</span>: the time in milliseconds that it takes to execute one game cycle (or the time taken to draw this frame). </li>
<li><span style="color: #ff0000">112 wpoly</span>: the World Polygon count. This is the figure that people often talk about when they are describing r_speeds. This number is a result of the engine dividing the areas of the map that require a texture into polygons based on the scale of the texture to be rendered. It is not the number of brushes in the map.</li>
<li><span style="color: #ff0000">0 epoly</span> is the Entity Polygon count, but not the entities you're thinking of. It is the number of Model polygons (xxx.mdl) being rendered. Visible point-based entities like monsters, suits, weapons, shell casings, gibs are all models. An <span style="font-style: italic;">item_suit</span>, for example, will increase this figure to 960. </li>
</ul>
<p>Epolys do have an affect on the <span style="font-weight: bold;">fps</span> and <span style="font-weight: bold;">ms</span> counts, so keep this in mind when placing models, monsters and items. <br />
You can use up to 500 non-visible entities, such as path_corners, trigger_xxx and multi_managers in in your map and the epoly count (and the wpoly count) will not be affected. But beware of possible Entity Overflow errors.
</p>
<p><span style="font-weight: bold;">Software Mode</span><br />
If on the other hand you have your HL video properties set to Software mode, the figures will look like this:
</p>
<div style="margin: 0px auto; padding: 1px; width: 268px; border: 1px solid #999; text-align: center; display: block;">
<img src="content/half-life/tutorials/speeds/r_speeds_7_small.jpg" alt="Software Numbers" width="268" height="76" />
</div>
<p class="clear: both;"></p>
<p>And they mean.....</p>
<ul>
<li><span style="color: #ff0000">20.1ms</span>: the number of milliseconds it takes to execute one game cycle.</li>
<li><span style="color: #ff0000">205</span>: the total number of polygon surfaces in view.</li>
<li><span style="color: #ff0000">180</span>: the number of polygon surfaces in view that are drawn.</li>
<li><span style="color: #ff0000">155</span>: total visible polygons which aren't drawn.</li>
<li><span style="color: #ff0000">0 surf</span>: the number of dynamically lit surfaces.</li>
</ul>
<p>
The interesting thing about using software mode to check your r_speeds is that you can see how many polygons the software engine is trying to draw. The important figure is the 'polygon surfaces in view' (180) - this is the figure that you need to keep down.<br />
The software engine stops rendering textured polygons after it reaches <span style="color: #ff0000">800</span>, the brushes are still there, but the engine will not render texture on any more. So if you are designing a map that will be played on a machine that can only render in Software mode, this is worth remembering.
</p>
<p>
The other thing of interest is the surf reading. Basically this is the number of surfaces that have a changing light characteristic, such as a surface affected by a flashing light. Throw a few pulsating lights into your level and you will notice the difference. Muzzleflash from weapons also effects the surf reading, but not as drastically as Dynamic Lights.<br />
You must limit the number of Dynamic lights (Lights that have a custom or appearance property) to approximately 4 in one given viewable area or you will receive the error &quot; Too many light faces &quot; but once again there are exceptions to this rule.
</p>
<p>
So now you know what the figures represent...
</p>
<h3 id="limits">What is 'within limits'?</h3>
<p>
There are so many figures suggested in other forums, web sites and tutorials that it hard see what they are referring to. The reason for this is that it depends on what your map will be used for and what computer it will be run on. If it's multi-player map, 'what is the average speed of the connection to the server?' Questions like this, and their response will determine what you think is acceptable. [After all, it is up to you...]
</p>
<p>
As a really general rule of thumb, single-player maps can get away with a wpoly count of 600 to 800 without any appreciable lag. Having said this, if you were to run the same map on a 486DX66 with a 1Mb graphics card in software mode, it wouldn't run.... So the thing to remember here is what machine the map will eventually be used on. If you are distributing an SP Mod, then spare a thought for the guy who doesn't own a supercomputer.
</p>
<p>
A multi-player map or bot-filled map should be built with a wpoly count of 400 to 600 or less. Don't forget that the epoly count will increase rapidly as players (entity models) arrive in the same area (this is also seen in SP maps that have a large number of visible entity models in the same space, such as a lot of monsters or an Osprey). This will cause lag, but the reason I have not mentioned an acceptable figure here is that I really don't know. Some suggestions are for 10 000 max with the inclusion of all possible player entities. Personally I think this is a bit high, and some tutorials actually limit the areas by model count and max player count. Just remember that a high epoly count does increase lag. So the placing of static models is crucial. When everyone runs to grab the grenades, the epoly count will go through the roof. So in these areas, limit the number of wpolys belonging to static models such as cars, tanks, etc. and limit epolys belonging to any entities rendered visible that might be functional or not. 
</p>
<p>
As recent as March 2005, it is still good practice to limit your r_speeds to 800 in normal traffic areas of your map.
</p>
<h3 id="reduce">Reducing r_speeds</h3>
<p>
Building a huge box will not increase r_speeds until you add a visible texture. So build a box, 3008x256x3008 and add the <span style="color: #ff0000">crete3_wall01</span> texture to all faces with a scale of <span style="font-weight: bold;">X</span>: <span style="color: #ff0000">1</span> and <span style="font-weight: bold;">Y</span>: <span style="color: #ff0000">1</span>. Add an <span style="font-style: italic;">info_player_start</span> and a <span style="font-style: italic;">light</span> entity. Now compile it. You hate me don't you? Is your machine still trying to compile the map?...<br />
When your map finally compiles, bring up the console and enter <span style="font-weight: bold;">r_speeds 1</span>. We are going to have a look at how the engine divides your map into sections for texturing, so enter <span style="font-weight: bold;">gl_wireframe 2</span> (this will only work in OpenGL mode). You should have a wpoly figure of about 506. Also of interest is that the millisecond refresh speed may have jumped. The gl_wireframe mode will show you a set of white lines. Lots of them aren't there?<br />
Now go back to the texture properties and increase the scale of the texture to <span style="color: #ff0000">10</span> in both axes and recompile the map (faster this time wasn't it?) Enter <span style="font-weight: bold;">r_speeds 1</span> and <span style="font-weight: bold;">gl_wireframe 2</span> and you will see that the wpoly count has been reduced to <span style="color: #ff0000">16</span>; there are also a lot fewer white lines. In fact there are 16 boxes outlined by the white lines.<br />
Has the penny dropped?<br /> This is the big theory folks. The size of a visible texture rendered directly affects the wpoly count. The game engine divides the visible map into sections called world polygons based on the scale of the textures applied to brushes.<br /> 
So if the scale of your texture on a single surface is high the wpoly count will be low (above <span style="font-weight: bold;">X:Y:</span><span style="color: #ff0000">1</span>, but less than <span style="font-weight: bold;">X:Y:</span><span style="color: #ff0000"> 3</span> I will get to this a bit later...).<br />
Multiple textures on multiple brushes will also increase the wpoly count, but the wpoly count created by a single texture applied to multiple brushes that form a solid will be dependent on the scale of the texture chosen and not on the number of brushes in the solid.<br />
Have I lost anyone yet? <br />
It is <b>important</b> to mention at this stage, that the rescaling of the texture to a value of <span style="font-weight: bold;">X:Y:</span><span style="color: #ff0000">10</span> was only an example. It is not good practice to stretch your textures beyond <span style="color: #ff0000">2</span> , and I have noticed that the savings gained in the reduction of r_speeds seems to reverse when you resize above a scale of <span style="color: #ff0000">2</span>. Stretching beyond 3 times the normal texture size might cause compiling errors.
</p>
<p>
If you do follow this concept then great, but unfortunately no-one builds maps with a single texture, or without anything in them. So let's look at some ways to reduce r_speeds in a normal map. In the <span style="font-weight: bold;"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/speeds/r_speeds.zip">example map</a></span> I have added boxes of similar construction. Basic blocks, hollowed and then a corridor carved into some of them. There are columns in most of the boxes.<br />
Actually the columns are borrowed from the original Help file that came with Hammer 3.4 and provide multiple faces to work with.<br /> 
The first one is a normal cylinder, and the rest are vertex manipulated columns. Also included is a teleporter between boxes for the first few, while you get used to the gl_wireframe picture. Print out the <span style="font-weight: bold;">'Tour.txt'</span> to guide you through the example map.
</p>
<h3 id="corners">Corners, Mitering and molding</h3>
<div style="margin: 0px auto; padding: 1px; width: 340px; border: 1px solid #999; text-align: center; display: block;">
<a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/speeds/r_speeds_5.jpg"><img src="content/half-life/tutorials/speeds/r_speeds_5_small.jpg" width="340" height="235" alt="Corners 1" title="Corners 1" /></a>
<br />Click to enlarge 
</div>
<p class="clear: both;"></p>
<p>
Blending of corners has no affect on r_speeds, and sometimes leads to strange texture placement.<br />
Mitering is another form of Vertex manipulation (VM). VM of solids can sometimes increases the wpoly count, because you are adding additional faces to be textured, but it should only be by about 2 or so, if your reshaped solid is conventional (ie: block). As mentioned in most tutorial's on VM, it also takes care of those brushes that don't quite meet. There are a number of error codes associated with VM. 
</p>
<h3 id="texture">Sky Textures and Boxes</h4>
<p>
Sky texture is one of the few textures that doesn't require Scaling. You will get the same wpoly count using SKY texture with a Scale <span style="font-weight: bold;">X:</span><span style="color: #ff0000">1</span> and <span style="font-weight: bold;">Y:</span> <span style="color: #ff0000">1</span> as you would with <span style="font-weight: bold;">X:</span> <span style="color: #ff0000">10</span><br />
and <span style="font-weight: bold;">Y:</span> <span style="color: #ff0000">10</span>. The only brush that affects the r_speeds when sky is rendered is any other visible textured brush in the map. So if you had a massive box as in the example map and added sky to the walls and the ceiling and added a light_environment then compiled it, you should get a wpoly count based on the scale of the floor texture. (12 wpoly in the example map because the walls are textured at <span style="font-weight: bold;">X:</span> <span style="color: #ff0000">10</span> <span style="font-weight: bold;">Y:</span> <span style="color: #ff0000">10</span>.)<br />
It is important to understand the boundaries of your map. Building a huge skybox around it is not a good idea, because the engine will render texture on brushes underneath your map, and on the sides even though you will never see them. This will increase r_speeds. I use the &quot;build the map add the sky technique&quot; and end up filling in the gaps. This method basically caps off the sides of the map, and then adds the top.
</p>
<h3 id="brush">General brush building</h3>
<p>
If a brush that is textured touches another brush that is textured, the engine carves up one of the brushes into additional world polygons to correctly display the texture. This increases the wpoly count. You can work around this in two ways:
</p>
<ul>
<li> First is to leave a 1 unit gap between the brushes, although there are areas where this isn't possible.</li>
<li>The second way is to turn one of the brushes into a <span style="font-style: italic;">func_wall</span> entity (actually any entity that will render texture). An entity brush that touches a solid textured brush will not affect the way the solid brush is rendered, and this is why it is recommended that you use entity brushes for light fittings, and small objects.</li>
<li>Using entity brushes reduces r_speeds, but don't be fooled into thinking that entity brushes do not contribute to speed. Remember, any surface that is textured will increase the r_speeds of a map, regardless of wether it is an entity brush or not.</li>
</ul>
<p>
Entity Brushes also have an effect on the white lines in gl_wireframe view. It looks as though the entity brush is blocking the lines behind it, that might lead you to believe that the engine isn't rendering textures or brushes behind the entity brush. The truth is that Entity brushes dont block VIS, just the same as the light shining through them problem, that came before Zoners came up with a fix. SlayerA and I discovered this in a little test map with an arm chair behind a <span style="font-style: italic;">func_wall</span> and an armchair in the other same sized and textured room. When the map ran, it looked like a blank wall, but the r_speeds were similar in both rooms. The engine was rendering both chairs, but we could only see one with gl_wireframe enabled.
</p> 
<div style="margin: 0px auto; padding: 1px; width: 340px; border: 1px solid #999; text-align: center; display: block;">
<a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/speeds/r_speeds_4.jpg"><img src="content/half-life/tutorials/speeds/r_speeds_4_small.jpg"  width="340" height="255" alt="Brushes" title="Brushes" /></a>
<br />Click to Enlarge 
</div>
<p class="clear: both;"></p>
<h3 id="clip">Clipping, Carving and more VM</h3>
<p>
If you build 4 cubes and piece them together to build a square, Select all of them, add texture and they will be rendered as 1 cube. Reduction in wpoly count, you bet.  However you have to apply the texture to the blocks when they are all selected (<span style="font-weight: bold;">Grouped</span>). The reason the blocks don't act as 4 separate cubes is because you have textured them together. This is where good texture Scaling and placement comes in. So if you can, Select the separate brushes and texture them as one, why can't you do that with brushes that touch each other? Because the cube becomes a solid for rendering purposes and the unseen areas are stripped out, where as the touching brushes form a &quot;T&quot; junction and require rendering differently.
</p>
<p>
Lot's of tutorials tell you not to Clip or Carve solids because it increases r_speeds, I haven't found any evidence of that unless the clipping is on a plane that is not square. So the trick is to stick to VM. If you are going to Carve, just be mindful that there can be problems. Test Carving until you get used to it, try the carve and then run the map to see if there have been any changes. Avoid carving with anything other than solid blocks.
</p>
<h3 id="vis">Vis Blockers</h3> 
<p>
In the example map, as you move between the boxes, you will come to a box with a corridor. You should see the wireframe extending into the next box, because the engine is rendering some of the textures in that box in advance. What you think you can see and what the engine thinks you should see are two different things. <br />
This is where vis blocking comes in. Entities do not block vis as you have probably found out (and I mentioned above). Lights on one side of a door will shine through a <span style="font-style: italic;">func_door</span> entity. So they cannot be used to stop the rendering of textures in another room. But a quick fix way is by building a blocking brush between boxes.
</p>
<div style="margin: 0px auto; padding: 1px; width: 340px; border: 1px solid #999; text-align: center; display: block;">
<a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/speeds/r_speeds_1.jpg"><img src="content/half-life/tutorials/speeds/r_speeds_1_small.jpg"  width="340" height="317" alt="Wireframe" title="Wireframe" /></a>
<br />Click to Enlarge 
</div>
<p>
In the example you will see that the Vis blocking brushes are actually touching the wall. This creates fractures of the wall for texture rendering purposes, as did the columns, and increases the wpoly count. But you have to way up the benefits, try placing the brushes 1 unit away from the walls and floor, run the map and the try it again. If the 1 unit gap works then go with it. I tried this example with the brushes 1 unit away from the walls, and didn't get the reduction in the wpoly count that I had hoped for.<br />
By letting the brushes touch the walls I got the best reduction in wpoly count. The difference was about <span style="color: #ff0000">30</span>-<span style="color: #ff0000">40</span> wpoly.
</p>
<div style="margin: 0px auto; padding: 1px; width: 340px; border: 1px solid #999; text-align: center; display: block;">
<a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/speeds/r_speeds_3.jpg"><img src="content/half-life/tutorials/speeds/r_speeds_3_small.jpg"  width="340" height="255" alt="Block out" title="Block out" /></a>
<br />Click to Enlarge 
</div>
<div style="margin: 0px auto; padding: 1px; width: 340px; border: 1px solid #999; text-align: center; display: block;">
<a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/speeds/r_speeds_2.jpg"><img src="content/half-life/tutorials/speeds/r_speeds_2_small.jpg"  width="340" height="255" alt="Block in" title="Block in" /></a>
<br />Click to Enlarge 
</div>
<p class="clear: both;"></p>
<h3 id="summary">What have we learnt?</h3>
<p>
r_speeds increase in direct proportion to the amount of solid textured brushes in your map and their interaction with other solid visible textured brushes. The Scale of the texture drawn on those brushes can increase or decrease the wpoly count. Models, such as Monsters, other players, gib's and anything ending in &quot;.mdl&quot; will increase the epoly count. High epoly counts (above about 10,000) will increase overall r_speeds and refresh rates creating Lag. Entities that are not models do not affect the epoly count unless they are textured. <br />
If you're having trouble, run your map in OpenGL with <span style="font-weight: bold;">r_speeds 1</span> and <span style="font-weight: bold;">gl_wireframe 2</span> selected. Areas of high r_speeds will be visible then by the amount  of white gl_wireframe lines and High woply counts as you move around. Initial Design can save you some hassle but don't get too hung up on some of the old myths.<br />
It is basically all about how many visible brush faces the engine has to render...
</p>
<h3 id="read">Further Reading</h3>
<ul>
<li><a href="../node/266">BSP and the Visibility Process</a></li>
</ul>
<p>&nbsp;</p>
<hr />
<h4>Special mention and thanks go to:</h4>
<span style="font-weight: bold; font-style: italic;">FireBinders Test Chamber</span>: Issues, loved and hated it :-)<br />
<span style="font-weight: bold; font-style: italic;">Andrew C. Weldons Article on VERC</span>: Thanks Andrew,<br />
<span style="font-weight: bold; font-style: italic;">Handy Vandal's Site</span>: Thank's Karl<br />
Happy Mapping, and don't forget... <br />
If you have a question, post it in the forum.
<!--EOF@175--></ul><h1 id="541" name="541" class="book-h1">Sentry continued: adding Sentry-parts box and hud-icon</h1><ul><h3>Half-Life</h3>
<blockquote>
	<b>Adding Sentry-parts box and hud-icon to the Sentry Tutorial</b> by <a href="http://rcbot.bots-united.com/emailuser.php?u=1">Cheesemonster</a> .
</blockquote>

<h3>Introduction</h3>

<p>
This tutorial is to add a little more to the sentry tutorial. You are going to add a new entity which will be the "sentryparts" box you will use to make a sentry. Also a hud sprite will show up when you have the sentry parts. 
</p>
<hr noshade color="black">
<h3>Setting up the player</h3>

<p>
Each player must now need to know whether they have sentry parts or not so they can build the sentry.</p>
<p>
First you should add new variables in CBasePlayer class... open "player.h" and insert these into the CBasePlayer class, make them public or private if you want.</p>

<font color="red"><pre>
int m_iGotSentryParts; // is 1 when you have the parts. Initialise it to 0 at spawn 
int m_iPrevGotSentryParts; // Used to find out if we need to show the sprite on the HUD 
</pre></font>
 
<p>
Open up player.cpp and initialise these values at CBaseplayer::Spawn()... </p>

<font color="red"><pre>
   m_iPrevGotSentryParts   = 0; // Dont set this anywhere else except in UpdateClientData ONCE! 
   m_iGotSentryParts       = 0; 
</pre></font>

<p>
Just as a precaution, go into CBasePlayer::PreThink() and add this... </p>

<font color="red"><pre>

   if( !IsAlive() ) 
      m_iGotSentryParts = 0; 
</pre></font>

<p>
This is so the player loses the sentry parts when the player dies.
</p>

<h3>Making the sentry parts</h3>

<p>
Okay thats the variables set up. Now we need to make an entity that will be the sentry parts. The sentry parts will be a little box you have to pick up.</p>
<p>
Open up "MySentry.cpp" and add a new class at the end of the file. </p>

<font color="red"><pre>

class CMySentry_Pickup : public CBaseEntity 
{ 
public: 
   void Spawn(void); 
   void Precache(void); 
   void EXPORT PickupTouch(CBaseEntity *pOther); 
}; 

LINK_ENTITY_TO_CLASS( MySentry_parts, CMySentry_Pickup ); 

/*Dont forget this, 'MySentry_parts' will be the classname, 
you can change this, although they need to match up with the rest of the code. */
</pre></font>
 
<p>
Next we'll have the spawn function, where we call precache, initialise variables and set the touch function to PickupTouch() </p>

<h4>Sentry parts class methods</h4>

<font color="red"><pre>

void CMySentry_Pickup :: Spawn(void) 
{ 
   Precache(); 

   SET_MODEL(ENT(pev),"models/w_isotopebox.mdl"); // We'll use the isotope box model at the moment 

   UTIL_SetSize(pev,Vector(-16,-16,-16),Vector(16,16,16)); 
   UTIL_SetOrigin(pev,pev->origin); 

   pev->spawnflags        &= ~SF_NORESPAWN; 

   pev->gravity            = 1; 
   pev->solid              = SOLID_TRIGGER; // You can walk through it but you can touch it! 

   pev->health             = 100; 
   pev->max_health         = pev->health; 
   pev->takedamage           = DAMAGE_NO; 
   pev->deadflag      = DEAD_NO; 

   pev->movetype      = MOVETYPE_FLY; 
   pev->sequence      = 0; 
   pev->frame      = 0; 

   pev->nextthink          = gpGlobals->time + 0.1; 

   SetTouch(PickupTouch); 
    
} 
</pre></font>

<p>
The precahce funtion should be simple.. below 
</p>

<font color="red"><pre>

void CMySentry_Pickup :: Precache(void) 
{ 
   PRECACHE_MODEL("models/w_isotopebox.mdl"); 
} 
 
</pre></font>

<p>
The pickupTouch function is called when something touches the box, so we want to check if a player touches it, if so, set the sentry parts to 1 for that player and remove the box. </p>

<font color="red"><pre>

void CMySentry_Pickup :: PickupTouch (CBaseEntity *pOther) 
{ 
   if( pOther->pev->flags & FL_CLIENT ) 
   { 
      CBasePlayer *pPlayer = GetClassPtr((CBasePlayer*)pOther->pev); 

      if( pPlayer && !pPlayer->m_iGotSentryParts ) // Check if we can pick it up 
      { 
         pPlayer->m_iGotSentryParts = 1; 

         Killed(pev,GIB_NEVER); // Remove the parts 
      } 
   } 
} 
</pre></font>

<p>Save and build, You can now spawn this entity in the map by spawning the classname you specified in the LINK_ENTITY_TO_CLASS call. </p>

<h3>Build the sentry with sentry parts</h3>

<p>It isn't totally finished yet, we need to change the command to build the sentry and then add the HUD icon. </p>

<p>First, open up client.cpp and goto your "build_Sentry" command you have, and change it to this.. </p>

<font color="red"><pre>

   else if ( FStrEq(pcmd, "build_sentry" ) ) 
   {                            
      if( m_pPlayer->m_Sentry ) 
      { 
         ClientPrint( &pEntity->v, HUD_PRINTCENTER, "Sentry Already Built!\n"); 
      } 
      else 
      { 
         if( m_pPlayer->m_iGotSentryParts ) // got the parts? 
         { 
            Vector origin = UTIL_ForwardPosition(pEntity,64.0); 
             
            origin.z = m_pPlayer->pev->absmin.z + 24; 
             
            CBaseEntity *Sentry = CBaseEntity::Create( "MySentry", origin, pev->angles, pEntity ); 
             
            if( !FNullEnt(Sentry->edict()) ) 
            {                
               m_pPlayer->m_Sentry = Sentry; 
                
               Sentry->pev->owner  = pEntity; 
                
               ClientPrint( pev, HUD_PRINTCENTER, "Building Sentry...\n"); 
               m_pPlayer->m_iGotSentryParts = 0; // Set parts to zero since we've used them 
            } 
            else 
               ALERT(at_console,"Error allocating new edict for sentry!\n"); 
         } 
         else 
            ClientPrint( &pEntity->v, HUD_PRINTCENTER, "You don't have any sentry parts!\n"); 
      } 
   } 
</pre></font>

<h3>Setting up the HUD icon</h3>

<h4>Server-side</h4>

<p>
Thats the main stuff done, now the hud stuff, to do this we need to make a new user message and stuff in the client dll. </p>
<p>
First let's make the messages, open up player.h and look in the code where a lot of integer variables called gmsg[SOMETHING] are being declared, i.e. search for "gmsgGeigerRange" and you'll see the line.. <em>"int gmsgGeigerRange = 0;"</em>, put this underneath it... </p>

<font color="red"><pre>

int gmsgSentryParts = 0; 
</pre></font>

<p>
Now go into LinkUserMessages() in player.h and where there are a lot of variables being set to a REG_USER_MSG, add a new one underneath them liek this.. </p>

<font color="red"><pre>

   gmsgSentryParts = REG_USER_MSG("SentryParts",1); 
</pre></font> 

<p>Now staying in player.cpp, goto UpdateClientData() and after the HIDE_HUD stuff, add these lines </p>

<font color="red"><pre>

   if ( m_iPrevGotSentryParts != m_iGotSentryParts ) 
   { 
      int write_byte = 0; 

      if( m_iGotSentryParts ) 
         write_byte = 1; 

      MESSAGE_BEGIN( MSG_ONE, gmsgSentryParts, NULL, pev ); 
         WRITE_BYTE( write_byte ); 
      MESSAGE_END(); 

      m_iPrevGotSentryParts = m_iGotSentryParts; 
   } 
</pre></font>

<p>That should be all the message stuff figured out, now save all the files and build. </p>

<h4>Client-side</h4>

<p>Now open up the cl_dll workspace and open up hud.h and add the new HUD class (after the declaration of CHUDBase of course!) </p>

<font color="red"><pre>

class CHudSentryParts: public CHudBase 
{ 

public: 

   int Init( void ); 
   int VidInit( void ); 
   int Draw(float flTime); 
   int MsgFunc_SentryParts(const char *pszName,  int iSize, void *pbuf ); 

private: 

   HSPRITE m_hSpriteSentryParts1; 
}; 
</pre></font>

<p>
Go further down the hud.h file now and search for "GetSpriteIndex", below it you'll see a few lines declaring classess as variable structures, below them add the new line </p>

<font color="red"><pre>

   CHudSentryParts      m_SentryParts; 
</pre></font>

<p>
That should be all int hud.h, now open up "hud.cpp"... Search for ".Init()" and where you find it, add the new line below it.. </p>

<font color="red"><pre>

   m_SentryParts.Init(); 
</pre></font>

<p>
Now search for ".VidInit" and add the new line below one of the found lines </p>

<font color="red"><pre>

   m_SentryParts.VidInit(); 
 
</pre></font>

<p>
That is all in hud.cpp. Now we need to make our own file to contain the code for our SentryParts class. </p>

<h3>Client-side Sentry-parts code</h3>

<p>
Make a new file called something like "sentryparts.cpp" and add it to the cl_dll Source Files project (If the file doesnt appear in the workspace, press undo while the workspace window is selected and then just right click on the "Source Files" folder and "Add Files to folder", select the sentryparts.cpp file and OK). </p>
<p>In this new file we're going to add some code below.. </p>

<p>First we need to include some files... </p>

<font color="red"><pre>

#include "hud.h" 
#include "cl_util.h" 
#include "parsemsg.h" 
 
</pre></font>

<p>
Now declare the SentrtyParts message, this is the same name as the message name ("SentryParts") </p>

<font color="red"><pre>

DECLARE_MESSAGE(m_SentryParts, SentryParts) 
</pre></font>

<p>
Now declare the name of the sprite here, I've made my own sprite called sentryparts.spr (32x32 pixels), You can call it whatever you want, as long as the file exists so you can see it! </p>

<font color="red"><pre>

#define SPRITE_NAME "sprites/sentryparts.spr" 
 
</pre></font>
<p>
Note that the Init() Code below will hook the SentryParts message And make sure the class is called when we send the SentryParts net message </p>

<font color="red"><pre>

int CHudSentryParts ::Init(void) 
{ 
   HOOK_MESSAGE(SentryParts); 
   gHUD.AddHudElem(this); 

   return 1; 
} 
</pre></font>

<p>
The ViDInit part below will just initialise some variables or whever else you want to do, at the moment I've only got one variable to initialise so it looks very simple. </p>

<font color="red"><pre>

int CHudSentryParts ::VidInit(void) 
{ 
   m_hSpriteSentryParts1 = 0; 

   return 1; 
} 
 
</pre></font>

<p>
The draw funtion below will be called when the sprite is drawn on the hud. </p>

<font color="red"><pre>

int CHudSentryParts ::Draw(float flTime) 
{ 
   int r,g,b; 

   if ( !m_hSpriteSentryParts1 ) 
   { 
      m_hSpriteSentryParts1 = LoadSprite(SPRITE_NAME); 
   } 

   if( !m_hSpriteSentryParts1 ) 
      return 0; // Sprite doesn't exist, return 0 

   UnpackRGB(r, g, b, RGB_YELLOWISH); // "Yellowish" colour 
   SPR_Set(m_hSpriteSentryParts1, r, g, b); // Set these colours 

   int x = ScreenWidth - 64; // I've made my sprite 32 pixels wide so I just moved it 64 pixels from the edge of the screen 
   int y = ScreenHeight - (ScreenHeight/2); // I made it centre vertically. 

   // X and Y are positions on the HUD. 

   SPR_DrawAdditive(0, x, y, NULL); // Draw the sprite on X,Y 

   return 1; 

} 
 
</pre></font>

<p>The last bit is called when the message "SentryParts" is made, the READ_BYTE() will be the state of the sprite being shown (i.e. if it's 1, draw the sprite on the hud, if not then stop drawing it) </p>

<font color="red"><pre>

int CHudSentryParts ::MsgFunc_SentryParts(const char *pszName,  int iSize, void *pbuf ) 
{ 
   BEGIN_READ( pbuf, iSize ); 

   int flag = READ_BYTE(); 

   if (flag == 0) 
      m_iFlags &= ~HUD_ACTIVE;  // turn off the Draw function 
   else 
     m_iFlags |= HUD_ACTIVE; // else Draw it! 

   return 1; 
} 
 
</pre></font></ul><h1 id="538" name="538" class="book-h1">Sentry Tutorial</h1><ul><!-- by Cheesemonster (http://rcbot.bots-united.com/emailuser.php?u=1) 2004 -->
	 
<h3>Half-Life</h3>
<blockquote>
	<b>Sentry Tutorial</b> by <a href="http://rcbot.bots-united.com/emailuser.php?u=1">Cheesemonster</a> .
</blockquote>

<h3>Introduction</h3>

<p>This is a simple "Make you own sentry" tutorial, at the moment I haven't bothered about animations (it's just a CBaseEntity at the moment, not a CBaseMonster) so It looks quite simplistic, but you'll get the idea on how to set their animations once you get your own model for your own sentry.</p>

<p>There isn't MUCH explanation here, so just remember the Sentry is pretty basic, so you will be okay!</p>

<p>This tutorial is for a team multiplayer game, where the sentry will have its own Team name and will shoot players whose team doesn't match it's own (Hopefully!). I haven't tested all of this because I made my own sentry with a different name and fought different enemies so I had to change that, and don't know if everything will work okay.</p>

<p>The final sentry will look and work something like the sentries in TFC that the engineers build, we are going to have a phase when a player builds the sentry and can give it ammo and rockets.</p>

<p>Another addition to this is another tutorial that I done, which will allow you only to build a sentry when you pick up "sentry parts", when you have the sentry parts a Hud icon will show aswell. The sentry-parts tutorial is a follow-up from this one.

<hr noshade color="black">
<!--break-->
<h3>Setting up UTIL functions</h3>

<p>I've made my own UTIL functions to help with this, these are useful functions that will be used later. To make them, you will need to go into "UTIL.H" file and add these lines first for the function prototypes...</p>

<font color="red"><pre>
Vector UTIL_RelationToWorld(edict_t *player, Vector relation);
Vector UTIL_LengthFromVector(Vector relation, float length);
Vector UTIL_FixAngles( Vector vec );
float UTIL_FixFloatAngle(float vec);
</pre></font>

<p>Now open "UTIL.CPP" and add these functions...</p>

<font color="red"><pre>
Vector UTIL_FixAngles( Vector vec )
{
	vec.x = UTIL_FixFloatAngle(vec.x);
	vec.y = UTIL_FixFloatAngle(vec.y);
	vec.z = UTIL_FixFloatAngle(vec.z);

	return vec;
}

float UTIL_FixFloatAngle(float vec)
{
	if (vec > 180.0) vec -= 360.0;	
	if (vec < -180.0) vec += 360.0;

	return vec;
}

Vector UTIL_RelationToWorld(edict_t *player, Vector relation)
{
	if( !player )
		return Vector(0,0,0);

	Vector v_src,v_dest,v_forward,v_viewpoint,v_origin;
	
	v_origin = player->v.origin;	
	v_src = v_origin + player->v.view_ofs;
	
	v_viewpoint = player->v.v_angle + player->v.punchangle;	
	UTIL_MakeVectors(v_viewpoint);	
	v_forward = v_viewpoint + (relation * 8192.0);	
	v_dest = v_src + v_forward;

	return v_dest;
}

Vector UTIL_LengthFromVector(Vector relation, float length)
{
	return ( (relation / relation.Length()) * length );
}
</pre></font>

<h3>Setting up the sentry code</h3>

<p>For the sentry, make a new file called "MySentry.cpp" or whatever you want and add it to your project.</p>

<p>Note: All of this code is in order from start of the file to the end of the file.</p>

<p>Okay for the start of the sentry code we need some included files to use, these are the ones we need below:</p>

<font color="red"><pre>
#include "extdll.h"
#include "util.h"
#include "cbase.h"
#include "weapons.h"
#include "player.h"
#include "gamerules.h"
#include "explode.h" // for effects
#include "teamplay_gamerules.h" // for knowing teams
</pre></font>

<h4>Constants</h4>

<p>Next, we want to set some constants that might come in useful...</p>

<font color="red"><pre>
#define SENTRY_MAX_PITCH 10.0
</pre></font>

<p>This is the maximum angle the sentry will look up and down, you can change this totally if you want, because I've just been using pev->angle to make it easier but when you change the pev->angle.x to a high value, the sentry looks weird!</p>

<p>Now we need some more constants, such as fire rates and maximum amount of shells/rockets this Sentry can have...</p>

<font color="red"><pre>
#define SHOOT_ROCKET_TIME 2.0
#define SHOOT_SHELL_TIME 0.1

#define SENTRY_MAX_SHELLS  400
#define SENTRY_MAX_ROCKETS 50
</pre></font>

<p>Okay that's nearly all of the constants, we just need one more. I've added "build" functions to my sentry so this means it will take SENTRY_BUILD_TIME seconds for it to finish being built and start working. This is defined like this below:</p>

<font color="red"><pre>
#define SENTRY_BUILD_TIME  4.0 // 4 Seconds to build sentry
</pre></font>

<h4>Sentry Class</h4>

<p>Right now that's all the constants we need, let's get into the grips of the sentry class. As you'd probably know, we need our own Precache() and Spawn() function. I've also added my own Think functions for different events such as Build, Aim/Shoot, and when Killed, remember that your own Think/Touch/Use functions (etc.) should be set if you want to use them (By using SetThink(FUNCTION) for example).</p>

<font color="red"><pre>
class CMySentry : public CBaseEntity
{
public:
	void Spawn		( void );
	void Precache	( void );

	int AddShells  ( int l_iNewShells );  // Returns the amount of shells USED...
	int AddRockets ( int l_iNewRockets ); // Returns the amount of rockets USED...

	void EXPORT SentryThink	( void );
	void EXPORT SentryBuildThink( void );

	void EXPORT MySentryDeath ( void );

	void Dismantle ( void );

	virtual int TakeDamage(entvars_t *pevInflictor, entvars_t *pevAttacker, float flDamage, int bitsDamageType);

private:

	void Aim		( void );
	void Shoot		( void );
	void FireShell	( void );
	void FireRocket	( void );

	void RemoveFromPlayer ( void );

	CBaseEntity *GetBestEnemy ( void );

	int m_iRockets;
	int m_iShells;

	float m_fLastShootRocket;
	float m_fLastShootShell;

	float m_fLastAimTime;

	float m_fShellPercentFull;
	float m_fRocketPercentFull;

	float m_fBuildTime; // Time the sentry was BUILT...

	float m_fLastCheckVisibleEnemy; // Last checked to see if enemy was visible

	char m_szTeamName[MAX_TEAMNAME_LENGTH];

	CBaseEntity *m_pEnemy; // Current enemy

	Vector m_vBarrel; // Barrel position (gun point) NOT USED!
};
</pre></font>

<h4>Classname link</h4>

<p>Don't forget this bit below!</p>

<font color="red"><pre>
LINK_ENTITY_TO_CLASS( MySentry, CMySentry );
</pre></font>

<p>This makes the class (CMySentry) link to the classname of "MySentry" you can change this to whatever you want.</p>

<h4>Sentry Class Methods</h4>

<p>Now here comes the BuildThink() function, this is continously called while the Sentry is being built. All this function will do is wait until the SENTRY_BUILD_TIME is up, and make the sentry visible (as it was invisible whilst building because we set that in ::Spawn() )</p>

<font color="red"><pre>
void CMySentry :: SentryBuildThink( void )
{
	pev->nextthink = gpGlobals->time + 0.1;

	if( (m_fBuildTime + SENTRY_BUILD_TIME) <= gpGlobals->time )
	{
		EMIT_SOUND(ENT(pev), CHAN_BODY, "turret/tu_spinup.wav", 1.0, ATTN_NORM); // Spin up sound (when built)

		pev->effects &= ~EF_NODRAW; // Make visible again

		SetThink(SentryThink); // Change think function to normal sentry think function
	}
}
</pre></font>

<p>This is the main think function below. What this does is basically checks if the current enemy is still visible, if yes, aim and shoot at it, if not remove the enemy.</p>

<font color="red"><pre>
void CMySentry :: SentryThink ( void )
{
	pev->nextthink = gpGlobals->time + 0.1;
	
// BEGIN -- UPDATE BARREL POSITION (NOT USED!!)

	UTIL_MakeVectors(pev->angles);

	Vector v_End = UTIL_RelationToWorld(ENT(pev),gpGlobals->v_forward);
	m_vBarrel = UTIL_LengthFromVector((v_End - pev->origin),4);
	m_vBarrel.z += 32;

// END -- UPDATE BARREL POSITION (NOT USED!!)

	if( m_pEnemy && (m_fLastCheckVisibleEnemy <= gpGlobals->time) )
	{
		TraceResult tr;

		UTIL_TraceLine(pev->origin,m_pEnemy->pev->origin + m_pEnemy->pev->view_ofs,ignore_monsters,ENT(pev),&tr);

		if( tr.flFraction < 1.0 )
			m_pEnemy = NULL;

		m_fLastCheckVisibleEnemy = gpGlobals->time + 0.5; // Re-check visible enemy again in 0.5 seconds
	}

	if( (m_fLastAimTime + 0.2) <= gpGlobals->time ) // re-Aim every  0.2 seconds
	{
		m_fLastAimTime = gpGlobals->time;
		Aim(); // Aim at Nearest Enemy
	}

	if ( m_pEnemy ) // if got an enemy
	{
		if( m_pEnemy->IsAlive() )
			Shoot(); // Shoot Enemy (Should be facing enemy from Aim() )
		else
			m_pEnemy = NULL;
	}	
}
</pre></font>

<p>Next should be the spawn function, this is where we initialise stuff and call ONLY call Precache() here. Also the sentry is set to invisible (using EF_NODRAW bitset) and the Think function is set to the BuildThink function so it will wait SENTRY_BUILD_TIME before functioning and returining visible to the player. (See the BuildThink function explanation)</p>

<font color="red"><pre>
void CMySentry :: Spawn ( void )
{
	Precache( );

	pev->movetype = MOVETYPE_FLY;
	pev->health = 100;
	pev->max_health = pev->health;
	pev->armorvalue = 100;

	m_iRockets = SENTRY_MAX_ROCKETS / 2; // 
	m_iShells = SENTRY_MAX_SHELLS / 2;

	pev->gravity = 1;

	SET_MODEL(ENT(pev), "models/MySentry.mdl"); // the name of the model YOU want to use.

	UTIL_SetOrigin( pev, pev->origin );
	
	UTIL_SetSize(pev, Vector(-24, -24, -20), Vector(24, 24, 20));

	pev->nextthink		= gpGlobals->time + 0.1;
	pev->movetype		= MOVETYPE_FLY;
	pev->sequence		= 0;
	pev->frame			= 0;
	pev->solid			= SOLID_SLIDEBOX;
	pev->takedamage		= DAMAGE_AIM;

	SetBits (pev->flags, FL_MONSTER);

	m_fBuildTime = gpGlobals->time + 0.1;
	
	pev->effects |= EF_NODRAW;

	if( pev->owner )
      {
		if( pev->owner->v.flags & FL_CLIENT )
			strcpy(m_szTeamName,GetClassPtr((CBasePlayer*)pev)->m_szTeamName); // Initialise the team ID of the sentry
      }
	else
		strcpy(m_szTeamName,""); // Initialise the team ID of the sentry

	EMIT_SOUND(ENT(pev), CHAN_BODY, "sentry/building.wav", 1.0, ATTN_NORM);	

	SetThink(SentryBuildThink);
}
</pre></font>

<p>The m_szTeamName string is the TeamName of the player who built it. Once the player builds the sentry, set the TeamName to the pev->owner's</p>

<font color="red"><pre>
void CMySentry :: Precache ( void )
{
	PRECACHE_MODEL("models/MySentry.mdl"); // The name of the model YOU want to use (NOTE: this MUST be the same as the model you set the sentry to)

	PRECACHE_SOUND("turret/tu_fire1.wav");
	
	PRECACHE_SOUND("turret/tu_die.wav");
	PRECACHE_SOUND("turret/tu_die2.wav");
	PRECACHE_SOUND("turret/tu_die3.wav");

	PRECACHE_SOUND("turret/tu_spinup.wav");

	PRECACHE_SOUND("sentry/building.wav"); // Building sound
}
</pre></font>

<p>We need the aim function to aim at its enemy so the rockets etc wikll face in the correct direction.</p>

<font color="red"><pre>
void CMySentry :: Aim ( void )
{
	if( m_pEnemy )
	{
		Vector v_Comp = (m_pEnemy->pev->origin + pev->view_ofs) - (pev->origin + pev->view_ofs);
		Vector v_IdealAngles = UTIL_VecToAngles(v_Comp);

		pev->angles = UTIL_FixAngles(v_IdealAngles);

		pev->angles.x = -pev->angles.x; // Must invert pitch

		pev->angles.z = 0;

		if (pev->angles.x > SENTRY_MAX_PITCH) 
			pev->angles.x = SENTRY_MAX_PITCH;

		if( pev->angles.x < -SENTRY_MAX_PITCH)
			pev->angles.x = -SENTRY_MAX_PITCH;		
	}
	else // Focus on one enemy at a time
	{
		m_pEnemy = GetBestEnemy();
	}
}
</pre></font>

<p>Simple function below is to get the best enemy. If The TeamNames don't match with a found enemy, it will set it as its enemy. This function is called by ::Aim()</p>

<font color="red"><pre>
CBaseEntity *CMySentry :: GetBestEnemy (void)
{
	CBaseEntity *l_pFoundEnemy = NULL;
	CBaseEntity *l_pBestEnemy = NULL;
	CBasePlayer *l_pFoundPlayer = NULL;

	TraceResult tr;

	float min_distance = 9999.0;
	float distance = 0.0;

	while ( (l_pFoundEnemy = UTIL_FindEntityByClassname( l_pFoundEnemy, "player")) != NULL )
	{
		if( !l_pFoundEnemy->IsAlive() )
			continue;

		if( l_pFoundEnemy->pev->flags & FL_CLIENT )
		{
			l_pFoundPlayer = GetClassPtr((CBasePlayer *)l_pFoundEnemy->pev);

			if( strcmp(l_pFoundPlayer->m_szTeamName,m_szTeamName) ) // If this is an enemy
			{
				UTIL_TraceLine((pev->origin + pev->view_ofs),l_pFoundEnemy->pev->origin,ignore_monsters,dont_ignore_glass,pev->pContainingEntity,&tr);

				if( tr.flFraction >= 1.0 )
				{
					distance = (l_pFoundPlayer->pev->origin - pev->origin).Length();

					if( distance < min_distance )
					{
						min_distance = distance;

						l_pBestEnemy = l_pFoundEnemy;
					}
				}
			}
		}		
	}

	return l_pBestEnemy;
}
</pre></font>

<p>Now, The shoot function. This will check if it's time to fire another shell/rocket, and check if there is enough ammo, and then shoot a shell or rocket using FireRocket() and/or FireShell().</p>

<font color="red"><pre>
void CMySentry :: Shoot ( void )
{
	if( m_iRockets > 0 )
	{
		if( (m_fLastShootRocket + SHOOT_ROCKET_TIME) <= gpGlobals->time )
		{				
			m_fLastShootRocket = gpGlobals->time;

			FireRocket();
		}
	}
	
	if( m_iShells > 0 )
	{
		if( (m_fLastShootShell + SHOOT_SHELL_TIME) <= gpGlobals->time )
		{
			m_fLastShootShell = gpGlobals->time;

			FireShell();
		}
	}	
}
</pre></font>

<p>The fire rocket and fire shell functions (below) should be pretty similar except a rocket or shell is fired in the facing direction.</p>

<font color="red"><pre>
void CMySentry :: FireRocket ( void )
{
	UTIL_MakeVectors(pev->angles);

	CBaseEntity *m_Rocket = CBaseEntity::Create( "rpg_rocket", pev->origin, pev->angles, edict() );
	
	UTIL_SetOrigin(m_Rocket->pev,(pev->origin + m_vBarrel));
	
	UTIL_MakeVectors(m_Rocket->pev->angles);
	m_Rocket->pev->angles = pev->angles;
	
	Vector v_Forward = UTIL_RelationToWorld(pev->pContainingEntity,gpGlobals->v_forward);
	
	m_Rocket->pev->velocity = ( (v_Forward - pev->origin) / (( v_Forward - pev->origin ).Length()) ) * 200.0;
	
	m_iRockets --;
}

void CMySentry :: FireShell ( void )
{
	TraceResult tr;

	UTIL_MakeVectors( pev->angles );
	Vector vecSrc = pev->origin + pev->view_ofs;
	Vector vecDir = gpGlobals->v_forward * 8192.0;

	UTIL_TraceLine(vecSrc, vecSrc + vecDir, dont_ignore_monsters, ENT(pev), &tr);

	//if( tr.pHit )
	//	ALERT(at_console,"%s\n",STRING(tr.pHit->v.classname));

	FireBullets(1,vecSrc,vecSrc + vecDir,VECTOR_CONE_3DEGREES,4096.0,BULLET_MONSTER_12MM,4,5,pev);

	EMIT_SOUND(ENT(pev),CHAN_BODY,"turret/tu_fire1.wav",1.0,ATTN_NORM); // Emit turret shoot sound

	m_iShells --; // reduce shells
}
</pre></font>

<p>Your own Take Damage function. You'll need this to add shells/rockets to it at a later time.</p>

<font color="red"><pre>
int CMySentry::TakeDamage(entvars_t *pevInflictor, entvars_t *pevAttacker, float flDamage, int bitsDamageType)
{
	if ( !pev->takedamage )
		return 0;

	if ( pev->owner && (pev->Attacker == &pev->owner->v))
      {
          // Do stuff in here to add shells/rockets from the player perhaps...

         if( CVAR_GET_FLOAT("mp_friendlyfire") < 1.0 )
           return;
      }

	pev->health -= flDamage; // Remove this damage

	if (pev->health <= 0)
	{
		pev->health = 0; 
		pev->takedamage = DAMAGE_NO; // Don't take anymore damage
		pev->dmgtime = gpGlobals->time; // Set damage time

		ClearBits (pev->flags, FL_MONSTER);

		SetThink(MySentryDeath); // Change think funtion so I don't try to shoot etc.

		pev->nextthink = gpGlobals->time + 0.1; // Think again in 0.1 seconds

		return 0;
	}
	else
	{
		if (RANDOM_FLOAT( 0, 10 ) > 5)

		UTIL_Sparks( pev->origin );   // Some Sparks
	}

	return 1;
}
</pre></font>

<p>This death function is continously called while the sentry is "dying", give it a funky death! I took some code from the turret.cpp file and made the turret look as tho it malfunctions by setting the avelocity (angle velocity)/yaw angles to +/- randomly and the speed of the angle velocity will slow down after time. Also sparks and smoke will appear!</p>

<font color="red"><pre>
void CMySentry :: MySentryDeath ( void )
{

	pev->nextthink = gpGlobals->time + 0.1;

	if (pev->deadflag != DEAD_DEAD)
	{
		pev->deadflag = DEAD_DEAD;

		float flRndSound = RANDOM_FLOAT ( 0 , 1 );

		if ( flRndSound <= 0.33 )
			EMIT_SOUND(ENT(pev), CHAN_BODY, "turret/tu_die.wav", 1.0, ATTN_NORM);
		else if ( flRndSound <= 0.66 )
			EMIT_SOUND(ENT(pev), CHAN_BODY, "turret/tu_die2.wav", 1.0, ATTN_NORM);
		else 
			EMIT_SOUND(ENT(pev), CHAN_BODY, "turret/tu_die3.wav", 1.0, ATTN_NORM);

		//EMIT_SOUND_DYN(ENT(pev), CHAN_STATIC, "turret/tu_active2.wav", 0, 0, SND_STOP, 100);


		pev->solid = SOLID_NOT;

	}

	float f_time = (pev->dmgtime + 5) - gpGlobals->time;

	if( f_time > 0.0 )
	{
		if( RANDOM_LONG( 0, 100 ) <= 50 )
			pev->avelocity.y = f_time * 100;
		else
			pev->avelocity.y = -f_time * 100;
	}
	else
		pev->avelocity.y = 0;

	Vector vecSrc, vecAng;

	vecSrc = pev->origin;

	if (pev->dmgtime + RANDOM_FLOAT( 0, 2 ) > gpGlobals->time)
	{
		// lots of smoke
		MESSAGE_BEGIN( MSG_BROADCAST, SVC_TEMPENTITY );
			WRITE_BYTE( TE_SMOKE );
			WRITE_COORD( vecSrc.x + RANDOM_FLOAT( -16, 16 ) );
			WRITE_COORD( vecSrc.y + RANDOM_FLOAT( -16, 16 ) );
			WRITE_COORD( vecSrc.z - 32 );
			WRITE_SHORT( g_sModelIndexSmoke );
			WRITE_BYTE( 15 ); // scale * 10
			WRITE_BYTE( 8 ); // framerate
		MESSAGE_END();
	}
	
	if (pev->dmgtime + RANDOM_FLOAT( 0, 8 ) > gpGlobals->time)
	{
		UTIL_Sparks( vecSrc );
	}

	if ( (pev->dmgtime + 5) < gpGlobals->time)
	{
		ExplosionCreate(pev->origin,pev->angles,NULL,50,0);

		RemoveFromPlayer();

		Killed(pev,GIB_NEVER);

		SetThink( NULL );
	}
}
</pre></font>

<p>I've made a dismantle function which just kills the sentry, and remove from player function which will set the m_Sentry in CBasePlayer to NULL.</p>

<font color="red"><pre>
void CMySentry :: Dismantle ( void )
{
	RemoveFromPlayer();

	Killed(pev,GIB_NEVER);
}

void CMySentry :: RemoveFromPlayer ( void )
{
	if( pev->owner )
	{
		if( pev->owner->v.flags & FL_CLIENT )
		{
			CBasePlayer *pPlayer = GetClassPtr((CBasePlayer*)&pev->owner->v);
			
			pPlayer->m_Sentry = NULL;
		}
	}
}
</pre></font>

<p>Now the adding shells and rockets...</p>

<font color="red"><pre>
//------------------------------
// ADD ROCKETS / SHELLS
//-----------------------------
// Adds rockets/shells to the sentry and returns the difference from the new rockets/shells for use when taking rockets/shells from a player into the sentry

int CMySentry :: AddShells  ( int l_iNewShells )
{
	int l_iOldShells = 0;

	if( m_iShells == SENTRY_MAX_SHELLS )
	{
		return l_iOldShells;
	}
	else if ( (m_iShells + l_iNewShells) >= SENTRY_MAX_SHELLS )
	{
		l_iOldShells = SENTRY_MAX_SHELLS - m_iShells;

		m_iShells = SENTRY_MAX_SHELLS;

		return l_iOldShells;
	}
	else
	{
		m_iShells += l_iNewShells;

		return l_iNewShells;
	}

	return 0;
}

int CMySentry :: AddRockets ( int l_iNewRockets )
{
	int l_iOldRockets = 0;

	if( m_iRockets == SENTRY_MAX_ROCKETS )
	{
		return l_iOldRockets;
	}
	else if ( (m_iRockets + l_iNewRockets) >= SENTRY_MAX_ROCKETS )
	{
		l_iOldRockets = SENTRY_MAX_ROCKETS - m_iRockets;

		m_iRockets = SENTRY_MAX_ROCKETS;

		return l_iOldRockets;
	}
	else
	{
		m_iRockets += l_iNewRockets;

		return l_iNewRockets;
	}

	return 0;
}
</pre></font>

<p>Now that's all the sentry code. To build a sentry, open up CLIENT.CPP and look in the ClientCommand Function. You'll need to add your own command to build a sentry.</p>

<p>Stick this code in between some client commands, You will also need to add a "CBaseEntity *m_Sentry" in Player.h in CBasePlayer, and set it to NULL when you spawn.</p>

<font color="red"><pre>
else if ( FStrEq(pcmd, "build_sentry" ) )
{							
	if( m_pPlayer->m_Sentry )
	{
		ClientPrint( &pEntity->v, HUD_PRINTCENTER, "Sentry Already Built!\n");
	}
	else
	{
		Vector origin = UTIL_ForwardPosition(pEntity,64.0);
				
		origin.z = m_pPlayer->pev->absmin.z + 24;
				
		CBaseEntity *Sentry = CBaseEntity::Create( "avp_sentry", origin, pev->angles, pEntity );
				
				
		if( !FNullEnt(Sentry->edict()) )
		{					
			m_pPlayer->m_Sentry = Sentry;
			Sentry->pev->owner = pEntity;
					
			ClientPrint( pev, HUD_PRINTCENTER, "Building Sentry...\n");
					
		}
		else
			ALERT(at_console,"Error allocating new edict for sentry!\n");	
	}
}
</pre></font>

<hr noshade color="black">
<!--break-->
<h3>Known Problems:</h3>

<p>For some reason when the Sentry is built by the player, you can walk through the sentry and the shells don't seems to hit anything (The trace line doesn't seem to work) But it works okay when spawned by the map for some reason... although the rockets work okay.</p>

<hr noshade color="black">

<h3>Follow-ups</h3>

      <font color=red>
      <blockquote>
      1. <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/view/541">Adding Sentry Parts + Hud icon</a></br>
      </blockquote>
      </font>



 <h3>Interesting Sentry Discussion on the RUST Forums:</h3>

      <font color=red>
      <blockquote>
      1. <a href="http://forums.gamedesign.net/viewtopic.php?t=3702&start=0">Sentry Tutorial?</a></br>
      </blockquote>
      </font>
     
</ul><h1 id="558" name="558" class="book-h1">Skies</h1><ul><!-- 
by Andy 17 Nov 2004  
Updated Feb 2005 - Validated at W3C XHTML1.0 Transitional
-->
<h3>Half-Life</h3>
<blockquote>Skies by Andy</blockquote>
<p>
This is a Visual Guide of the different sky textures included in Half-Life and how to add them to your map.
</p>
<hr /><!--break-->
<h4>
The Texture
</h4>
<p>
The sky texture is included in the <span style="color: #ff0000; font-weight: bold">halflife.wad</span> and represented by a  light blue colour texture named <span style="color: #ff0000">sky</span>. <br />
Simply select the brush you want to have as sky and add the sky texture to it. In most editors, the brush will remain blue and you will not be able to see the actual sky in the 3D or texture window of the editor.<br /> 
To define the type of sky you want, you will have to change the <span style="font-weight: bold">Worldspawn</span> properties and add the skyname.<br /> 
Most editors achieve this by adding a Key and a Value, such as:
</p>
<blockquote>
	Key:	skyname
	Value:	The name of the sky you want to use.
</blockquote>
<p>
Hammer allows you to enter the skyname directly into the worldspawn properties, but don't be fooled by the <span style="font-weight: bold">cl_</span> tag, just enter the skies short name.
</p>
<p>
<span style="font-weight: bold">Where the sky comes from</span>:<br />
The in-game skies are located in the <span style="font-weight: bold; font-style: italic">Half-Life\valve\gfx\env</span> folder. If they are not there then you will have to unpack your <span style="font-weight: bold">Pak0.pak</span> file. They are presented in two formats, <span style="font-weight: bold">.bmp</span> and or <span style="font-weight: bold">.tga</span>
</p>
<p>
<span style="font-weight: bold">Notes for making your own sky</span>:<br />
If you want to make your own evn sky set you need to follow these guidelines:<br />
The size of the picture files:</p>
<ul>
<li>Width&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 256 pixels</li>
<li>Height&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 256 pixels</li>
<li>Resolution&nbsp;&nbsp;= 72 DPI</li>
<li>Format is &nbsp;&nbsp;*.bmp and *.tga</li>
</ul>
<p>The Names of the images:</p>
<ul>
<li>The ground&nbsp;&nbsp;=&nbsp;&nbsp;<span style="font-style: italic"> name</span><span style="font-weight: bold">dn</span></li>
<li>The ceiling&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;<span style="font-style: italic"> name</span><span style="font-weight: bold">up</span></li>
<li>Front side&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;<span style="font-style: italic"> name</span><span style="font-weight: bold">ft</span></li>
<li>Left side&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;<span style="font-style: italic"> name</span><span style="font-weight: bold">lf</span></li>
<li>Back side&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;<span style="font-style: italic"> name</span><span style="font-weight: bold">bk</span></li>
<li>Right side&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;<span style="font-style: italic"> name</span><span style="font-weight: bold">rt</span></li>
</ul>
<p>
And they have to be placed in the same folder as all the other skies, <span style="font-weight: bold; font-style: italic">Half-Life\valve\gfx\env</span>. You will find more information on creating custom skies in the tutorial: &nbsp;<a href="book/view/9">Environment Mapping</a>
</p>
<h4>A visual reference to Half-Life Skies</h4>
<center>
    <img style="border-style: solid; border-width: 1px;" src="content/half-life/tutorials/hlskies/2des_full.jpg" width="400" height="100" alt="2desert" />
</center>
<p align="center">
<span style="font-weight: bold">2desert</span>
</p>
<center>
    <img style="border-style: solid; border-width: 1px;" src="content/half-life/tutorials/hlskies/morn_full.jpg" width="400" height="100" alt="morning" />
</center>
<p align="center">
<span style="font-weight: bold">morning</span>
</p>
<center>
    <img style="border-style: solid; border-width: 1px;" src="content/half-life/tutorials/hlskies/desert_full.jpg" width="400" height="100" alt="desert" />
</center>
<p align="center">
<span style="font-weight: bold">desert</span>
</p>
<center>
    <img style="border-style: solid; border-width: 1px;" src="content/half-life/tutorials/hlskies/dusk_full.jpg" width="400" height="100" alt="dusk" />
</center>
<p align="center">
<span style="font-weight: bold">dusk</span>
</p>
<center>
    <img style="border-style: solid; border-width: 1px;" src="content/half-life/tutorials/hlskies/night_full.jpg" width="400" height="100" alt="night" />
</center>
<p align="center">
<span style="font-weight: bold">night</span>
</p>
<center>
    <img style="border-style: solid; border-width: 1px;" src="content/half-life/tutorials/hlskies/cliff_full.jpg" width="400" height="100" alt="cliff" />
</center>
<p align="center">
<span style="font-weight: bold">cliff</span>
</p>
<center>
    <img style="border-style: solid; border-width: 1px;" src="content/half-life/tutorials/hlskies/city_full.jpg" width="400" height="100" alt="city" />
</center>
<p align="center">
<span style="font-weight: bold">city</span>
</p>
<center>
    <img style="border-style: solid; border-width: 1px;" src="content/half-life/tutorials/hlskies/space_full.jpg" width="400" height="100" alt="space" />
</center>
<p align="center">
<span style="font-weight: bold">space</span>
</p>
<center>
    <img style="border-style: solid; border-width: 1px;" src="content/half-life/tutorials/hlskies/black_full.jpg" width="400" height="100" alt="black" />
</center>
<p align="center">
<span style="font-weight: bold">black</span>
</p>
<center>
    <img style="border-style: solid; border-width: 1px;" src="content/half-life/tutorials/hlskies/alien1_full.jpg" width="400" height="100" alt="alien1" />
</center>
<p align="center">
<span style="font-weight: bold">alien1</span>
</p>
<center>
    <img style="border-style: solid; border-width: 1px;" src="content/half-life/tutorials/hlskies/alien2_full.jpg" width="400" height="100" alt="alien2" />
</center>
<p align="center">
<span style="font-weight: bold">alien2</span>
</p>
<center>
    <img style="border-style: solid; border-width: 1px;" src="content/half-life/tutorials/hlskies/alien3_full.jpg" width="400" height="100" alt="alien3" />
</center>
<p align="center">
<span style="font-weight: bold">alien3</span>
</p>
<center>
    <img style="border-style: solid; border-width: 1px;" src="content/half-life/tutorials/hlskies/neb1_full.jpg" width="400" height="100" alt="neb1" />
</center>
<p align="center">
<span style="font-weight: bold">neb1</span>
</p>
<center>
    <img style="border-style: solid; border-width: 1px;" src="content/half-life/tutorials/hlskies/neb2b_full.jpg" width="400" height="100" alt="neb2b" />
</center>
<p align="center">
<span style="font-weight: bold">neb2</span>
</p>
<center>
    <img style="border-style: solid; border-width: 1px;" src="content/half-life/tutorials/hlskies/neb6_full.jpg" width="400" height="100" alt="neb6" />
</center>
<p align="center">
<span style="font-weight: bold">neb6</span>
</p>
<center>
    <img style="border-style: solid; border-width: 1px;" src="content/half-life/tutorials/hlskies/neb7_full.jpg" width="400" height="100" alt="neb7" />
</center>
<p align="center">
<span style="font-weight: bold">neb7</span>
</p>
<center>
    <img style="border-style: solid; border-width: 1px;" src="content/half-life/tutorials/hlskies/xen8_full.jpg" width="400" height="100" alt="xen8" />
</center>
<p align="center">
<span style="font-weight: bold">xeno8</span>
</p>
<center>
    <img style="border-style: solid; border-width: 1px;" src="content/half-life/tutorials/hlskies/xen9_full.jpg" width="400" height="100" alt="xen9" />
</center>
<p align="center">
<span style="font-weight: bold">xeno9</span>
</p>
  <center>
<img style="border-style: solid; border-width: 1px;" src="content/half-life/tutorials/hlskies/xen10_full.jpg" width="400" height="100" alt="xen10" />
</center>
<p align="center">
<span style="font-weight: bold">xeno10</span>
</p>
<hr />
 <!--EOF@169--></ul><h1 id="613" name="613" class="book-h1">Skies (2)</h1><ul><!-- 
submitted by Andy, heavily modified from  Original text by Tiger of Qeradient
Updated  Feb 2005 - Validated at W3C XHTML1.0 Transitional
-->
<h3>
Half-Life
</h3>
<blockquote>Skies (Part 2) - by Andy</blockquote>
<p>
This tutorial is designed to give you some general information on the sky properties in Half-Life. <br />
In the last tutorial we looked at the file names of the skies available in Half-Life and where to find your skies (<span style="font-style: italic">half-life/valve/gfx/env</span>).<br />
This time we are going to look at placement of the sky in game and shadow effects. 
</p><!--break-->
<p>
Recapping on the last tutorial, here is a visual representation of the desert series of skies:
</p>
<img src="http://www.gamedesign.net/content/half-life/tutorials/hlskies2/desertbk.jpg" width="100" height="100" alt="BK" /><img src="http://www.gamedesign.net/content/half-life/tutorials/hlskies2/desertrt.jpg" width="100" height="100" alt="RT"  /><img src="http://www.gamedesign.net/content/half-life/tutorials/hlskies2/desertft.jpg" width="100" height="100" alt="FT" /><img src="http://www.gamedesign.net/content/half-life/tutorials/hlskies2/desertlf.jpg" width="100" height="100" alt="LF" /><br />
<table cellspacing="0" border="0" width="400">
<tr><td width="25%" valign="top" height="19">
<p align="center">
North = BK<br />
desert<span style="font-weight: bold">bk</span>.bmp
</p></td>
<td width="25%" valign="top" height="19">
<p align="center">
East = RT<br />
desert<span style="font-weight: bold">rt</span>.bmp
</p></td>
<td width="25%" valign="top" height="19">
<p align="center">
South = FT<br />
desert<span style="font-weight: bold">ft</span>.bmp
</p></td>
<td width="25%" valign="top" height="19">
<p align="center">
West = LF<br />
desert<span style="font-weight: bold">lf</span>.bmp
</p></td>
</tr>
</table>
&nbsp;
<img src="http://www.gamedesign.net/content/half-life/tutorials/hlskies2/orient.jpg" align="left" hspace="6" vspace="2" width="199" height="176"  alt="Orient" />
<p>
The game engine places the sky texture on brushes that are orientated in the directions above, but it is easier to understand if you have an idea of how this is done in the editor. The picture above is representative of the Top (x,y) view in most editors. This will give you an idea of what sky texture the 'player' will see, but more importantly it allows you to add shadows. 
</p>
<img src="http://www.gamedesign.net/content/half-life/tutorials/hlskies2/morningft.jpg" align="right" hspace="6" vspace="2" width="110" height="110" alt="Morningft" />
<p>
Most Half-Life skies have the sun positioned directly above, but the morning series has the sun just rising above the South brush. If you positioned your light_environment without any modification to the default settings, then there wouldn't be any shadows cast by the sun and it wouldn't look right. Careful positioning of the light_environment will enhance the 'feel' and look of your maps by achieving a cast shadow that fit's the sky.
</p>
<p>
For a more in depth look at creating skies have a look at <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/9">Creating Environment Maps with Terragen</a> by Mithodeil.</p>
<hr />
<span style="font-weight: bold">Shadows and the Light_environment</span>.<br />
<img src="http://www.gamedesign.net/content/half-life/tutorials/hlskies2/angle.jpg" align="left" hspace="12" vspace="2" width="199" height="147"  alt="Angle" />
<p>
The light_environment controls the style of light emitted from the sky.<br />
It only works when there are brushes textured with <span style="color: #ff0000">sky</span> in your map.<br />
You can place the entity anywhere in the map, but to help out, it is usually a good idea to place it next to the brush face that you have identified as the one that will represent the sun in game.<br /> In the case of the morning series of textures this will be the brush that is placed at the 'South' direction in the editor.<br />
If you place it near this face, then changing the properties of the entity will correspond to the editor window.
</p>
<p>
<span style="font-weight: bold">Pitch Yaw Roll (Y Z X)</span>:<br />
One of the properties of the light_environment is angles or &quot;Pitch Yaw Roll (Y Z X)&quot;. Looking down on the 2D editor window above, setting the Yaw property will direct the light out into your map.<br />
If you set the Yaw to  <span style="color: #ff0000">&nbsp;90&nbsp; </span>  then the sun will appear 'ingame' to be coming directly from the 'South Brush' and going to the 'North Brush'.<br />
The shadows in the morning series of skies are slightly angled again, and to make all the brushes in your map give off a shadow that it is consistent with the sky, you have to increase the YAW slightly. <span style="color: #ff0000">100</span> seems to be right.<br /> 
This is very much trial and error.
</p>
<p>
<span style="font-weight: bold">Pitch</span>:<br />
The &quot;Pitch property&quot; of the light-environment, (<span style="font-style: italic">not to be confused with the Pitch of the angles mentioned above</span>) is the property that will provide the shadows created by the brushes in your map.<br />
A setting of <span style="color: #ff0000"> 0 </span> will not produce any shadow as the light will be emitted horizontally across the roof of your map.<br /> 
A setting of <span style="color: #ff0000"> minus 90 </span>will simulate the sun shining straight down. To cast a long shadows enter a figure around <span style="color: #ff0000"> minus 35 </span>, and for a short shadow <span style="color: #ff0000"> minus 70 </span>.
</p>
<p>
<span style="font-weight: bold">Brightness</span>:<br />
One more thing worth considering is the &quot;Brightness&quot; setting of the light_environment. You can soften the light by adjusting the fourth figure in the RBG values of the Brightness property as that will increase of decrease the luminosity.<br />
The default is <span style="color: #ff0000">200</span>, so a figure of <span style="color: #ff0000">150</span> will be lees bright. If you set the luminosity to <span style="color: #ff0000"> 0 </span>you will not get a dark map, instead you will get a medium lit map.<br /> 
Changing the colour of the light is also beneficial. You can choose the colour of the 'sun' from by changing the RBG and softening the colour.</p>
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/hlskies2/map.jpg" width="350" height="262" alt="Shadow map" />
</center>
<br />
<hr />
<!--EOF@85--></ul><h1 id="687" name="687" class="book-h1">Sprites</h1><ul><!--
by Andy Nov 2004 
Validated Mar 05, XHTML 1.1, since I don't have access to the CSS to add a few style lines, I just put them in here, but  a thumbnail <div> would be nice
 -->
<h3>Half-Life</h3>
<blockquote>Visual Sprite list - by Andy</blockquote>
<p><span style="font-weight: bold">
Sprites</span> - A visual representation of 128 sprites. <br />
</p>
<!--break-->
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/aexplo.jpg" height="64" width="64" alt="aexplo" /><br />
&nbsp;&nbsp;&nbsp;aexplo
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/bexplo.jpg" height="64" width="64" alt="bexplo" /><br />
&nbsp;&nbsp;&nbsp;bexplo
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/blueflare2.jpg"  height="64" width="64" alt="blueflare2" /><br />
blueflare2
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/b-tele1.jpg" height="64" width="64" alt="b-tele1" /><br />
&nbsp;&nbsp;b-tele1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/c-tele1.jpg" height="64" width="64" alt="c-tele1" /><br />
&nbsp;&nbsp;c-tele1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/eexplo.jpg" height="64" width="64" alt="eexplo" /><br />
&nbsp;&nbsp;eexplo
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/explode1.jpg" height="64" width="64" alt="explode1" /><br />
&nbsp;explode1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/flare4.jpg" height="64" width="64" alt="flare4" /><br />
&nbsp;&nbsp;&nbsp;flare4
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/glow04.jpg" height="64" width="64" alt="glow04" /><br />
&nbsp;&nbsp;&nbsp;glow4
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/mushroom.jpg" height="64" width="64" alt="mushroom" /><br />
mushroom
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/muz4.jpg" height="64" width="64" alt="muz4" /><br />
&nbsp;&nbsp;&nbsp;muz4
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/muz8.jpg" height="64" width="64" alt="muz8" /><br />
&nbsp;&nbsp;&nbsp;muz8
</p>
<p style="float: left; width: 60px; border: none; margin:0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/muzzleflash3.jpg" height="64" width="64" alt="muzzleflash3" /><br />
<span style="font-size: 75%">muzzleflash3</span>
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/poison.jpg" height="64" width="64" alt="poison" /><br />
&nbsp;&nbsp;poison
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/tile.jpg" height="64" width="64" alt="tile" /><br />
&nbsp;&nbsp;&nbsp;&nbsp;tile
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/wexplo.jpg" height="64" width="64" alt="wexplo" /><br />
&nbsp;wexplo
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xflare1.jpg" height="64" width="64" alt="xflare1" /><br />
&nbsp;&nbsp;&nbsp;xflare
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/yelflare2.jpg" height="64" width="64" alt="yelflare2" /><br />
&nbsp;yelflare2
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/animglow.jpg" height="64" width="64" alt="animglow" /><br />
animglow
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/dexplo.jpg" height="64" width="64" alt="dexplo" /><br />
&nbsp;&nbsp;&nbsp;dexplo
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/enter.jpg" height="64" width="64" alt="enter" /><br />
&nbsp;&nbsp;&nbsp;enter
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/explode2.jpg" height="64" width="64" alt="explode2" /><br />
explode2
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/flare1.jpg" height="64" width="64" alt="flare1" /><br />
&nbsp;&nbsp;&nbsp;flare1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/flare5.jpg" height="64" width="64" alt="flare5" /><br />
&nbsp;&nbsp;&nbsp;flare5
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/glow01.jpg" height="64" width="64" alt="glow01" /><br />
&nbsp;&nbsp;glow01
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/gwave1.jpg" height="51" width="64" alt="gwave" /><br />
&nbsp;&nbsp;gwave1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/muz1.jpg" height="64" width="64" alt="muz1" /><br />
&nbsp;&nbsp;&nbsp;muz1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/muz5.jpg" height="64" width="64" alt="muz5" /><br />
&nbsp;&nbsp;&nbsp;muz5
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/muzzleflash.jpg" height="64" width="64" alt="muzzelflash" /><br />
<span style="font-size: 75%">muzzelflash</span>
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/nhth.jpg" height="64" width="64" alt="nhth" /><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nhth
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/portal1.jpg" height="64" width="64" alt="portal1" /><br />
&nbsp;&nbsp;portal1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/richo2.jpg" height="64" width="64" alt="richo2" /><br />
&nbsp;&nbsp;richo2
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/shellchrome.jpg" height="64" width="64" alt="shellchrome" /><br />
<span style="font-size: 75%">shellchrome</span>
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/wsplash.jpg" height="64" width="64" alt="wsplash" /><br />
&nbsp;&nbsp;wsplash
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xfire.jpg" height="64" width="64" alt="xfire" /><br />
&nbsp;&nbsp;&nbsp;&nbsp;xfire
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xflare2.jpg" height="64" width="64" alt="xflare2" /><br />
&nbsp;xflare2
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/bloodspray.jpg" height="64" width="64" alt="bloodspray" /><br />
<span style="font-size: 75%">bloodspray</span>
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/bm1.jpg" height="64" width="64" alt="bm1" /><br />
&nbsp;&nbsp;&nbsp;&nbsp;bm1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/cexplo.jpg" height="64" width="64" alt="cexplo" /><br />
&nbsp;&nbsp;&nbsp;cexplo
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/e-tele1.jpg" height="64" width="64" alt="e-tele1" /><br />
&nbsp;e-tele1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/flare6.jpg" height="64" width="64" alt="flare6" /><br />
&nbsp;&nbsp;&nbsp;flare6
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/glow02.jpg" height="64" width="64" alt="glow02" /><br />
&nbsp;&nbsp;glow02
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/ballsmoke.jpg" height="64" width="64" alt="ballsmoke" /><br />
ballsmoke
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/blast.jpg" height="64" width="64" alt="blast" /><br />
&nbsp;&nbsp;&nbsp;&nbsp;blast
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/blueflare1.jpg" height="64" width="64" alt="blueflare1" /><br />
blueflare1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/cnt1.jpg" height="64" width="64" alt="cnt1" /><br />
&nbsp;&nbsp;&nbsp;&nbsp;cnt1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/d-tele1.jpg" height="64" width="64" alt="d-tele1" /><br />
&nbsp;&nbsp;d-tele1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/exit1.jpg" height="64" width="64" alt="exit1" /><br />
&nbsp;&nbsp;&nbsp;exit1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/fexplo1.jpg" height="64" width="64" alt="fexplo1" /><br />
&nbsp;fexplo1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/glow03.jpg" height="64" width="64" alt="glow03" /><br />
&nbsp;glow02
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/hotglow.jpg" height="64" width="64" alt="hotglow" /><br />
&nbsp;hotglow
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/muz2.jpg" height="64" width="64" alt="muz2" /><br />
&nbsp;&nbsp;&nbsp;muz2
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/muz6.jpg" height="64" width="64" alt="muz6" /><br />
&nbsp;&nbsp;&nbsp;muz6
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/muzzleflash1.jpg" height="64" width="64" alt="muzzleflash1" /><br />
<span style="font-size: 75%">muzzleflash1</span>
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/oriented.jpg" height="64" width="64" alt="oriented" /><br />
oriented
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/redflare1.jpg" height="64" width="64" alt="redflare" /><br />
redflare
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/rjet1.jpg" height="64" width="64" alt="rjet1" /><br />
&nbsp;&nbsp;rjet1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/shockwave.jpg" height="64" width="64" alt="shockwave" /><br />
<span style="font-size: 75%">shockwave</span>
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/spotlight01.jpg" height="64" width="64" alt="spotlight01" /><br />
<span style="font-size: 75%">spotlight01</span>
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/streak.jpg" height="64" width="64" alt="streak" /><br />
&nbsp;&nbsp;streak
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/wallpuff.jpg" height="64" width="64" alt="wallpuff" /><br />
&nbsp;wallpuff
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xfire2.jpg" height="64" width="64" alt="xfire2" /><br />
&nbsp;&nbsp;xfire2
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xflare3.jpg" height="64" width="64" alt="xflare3" /><br />
&nbsp;&nbsp;xflare3
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/muz3.jpg" height="64" width="64" alt="muz3" /><br />
&nbsp;&nbsp;&nbsp;muz3
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/muz7.jpg" height="64" width="64" alt="muz7" /><br />
&nbsp;&nbsp;&nbsp;muz7
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/muzzleflash2.jpg" height="64" width="64" alt="muzzleflash2" /><br />
<span style="font-size: 75%">muzzelflash2</span>
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/redflare2.jpg" height="64" width="64" alt="redflare2" /><br />
redflare2
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/spotlight02.jpg" height="64" width="64" alt=" spotlight02" /><br />
<span style="font-size: 75%">spotlight02</span>
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/tele1.jpg" height="64" width="64" alt="tele1" /><br />
&nbsp;&nbsp;&nbsp;tele1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xfireball3.jpg" height="64" width="64" alt="xfireball3" /><br />
&nbsp;xfireball3
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/yelflare.jpg" height="64" width="64" alt="yelflare" /><br />
&nbsp;yelflare
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/zerogxplode.jpg" height="64" width="64" alt="zerogxplode" /><br />
zerogxplode
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/laserbeam.jpg" height="64" width="32" alt="laserbeam" /><br />
laserbeam
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/smoke.jpg" height="64" width="32" alt="smoke" /><br />
smoke
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xffloor.jpg" height="64" width="32" alt="xffloor" /><br />
xffloor
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xsmoke3.jpg" height="64" width="32" alt="xsmoke3" /><br />
xsmoke3
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xsmoke4.jpg" height="64" width="32" alt="xsmoke4" /><br />
xsmoke4
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/bluejet1.jpg" height="64" width="32" alt="bluejet1" /><br />
bluejet1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/flare2.jpg" height="64" width="32" alt="flare2" /><br />
flare2
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/lgtning.jpg" height="64" width="32" alt="lgtning" /><br />
lgtning
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/bolt1.jpg" height="64" width="32" alt="bolt1" /><br />
bolt1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xssmke1.jpg" height="64" width="32" alt="xssmke1" /><br />
xssmke1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/plasma.jpg" height="64" width="32" alt="plasma" /><br />
plasma
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/wdrip2.jpg" height="64" width="32" alt="wdrip2" /><br />
wdrip2
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xenobeam.jpg" height="64" width="32" alt="xenobeam" /><br />
xenobeam
</p>
<p style="clear: both"></p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xsmoke1.jpg" height="32" width="32" alt="xsmoke1" /><br />
xsmoke1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xspark2.jpg" height="32" width="32" alt="xspark2" /><br />
xspark2
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/richo1.jpg" height="32" width="32" alt="richo" /><br />
richo
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xspark3.jpg" height="32" width="32" alt="xspark" /><br />
xspark
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/mommaspit.jpg" height="32" width="32" alt="mommaspit" /><br />
mommaspit
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/stmbal1.jpg" height="32" width="32" alt="stmbal1" /><br />
stmbal1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/bigspit.jpg" height="32" width="32" alt="bigspit" /><br />
bigspit
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xspark4.jpg" height="32" width="32" alt="xspark" /><br />
xspark
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/mommaspout.jpg" height="32" width="32" alt="momaspout" /><br />
momaspout
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/flare3.jpg" height="32" width="32" alt="flare3" /><br />
flare3
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/gargeye1.jpg" height="32" width="32" alt="gargeye1" /><br />
gargeye1
</p>
<p style="clear: both"></p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/zbeam4.jpg" height="64" width="16" alt="zbeam4" /><br />
zbeam4
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/zbeam3.jpg" height="64" width="16" alt="zbeam3" /><br />
zbeam3
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xbeam3.jpg" height="64" width="16" alt="xbeam3" /><br />
xbeam3
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xbeam4.jpg" height="64" width="16" alt="xbeam4" /><br />
xbeam4
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/zbeam1.jpg" height="64" width="16" alt="zbeam1" /><br />
zbeam1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/zbeam5.jpg" height="64" width="16" alt="zbeam5" /><br />
zbeam5
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/arrow.jpg" height="64" width="16" alt="arrow" /><br />
arrow
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xbeam1.jpg" height="64" width="16" alt="xbeam1" /><br />
xbeam1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xbeam5.jpg" height="64" width="16" alt="xbeam5" /><br />
xbeam5
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/zbeam2.jpg" height="64" width="16" alt="zbeam2" /><br />
zbeam2
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/zbeam6.jpg" height="64" width="16"  alt="zbeam6" /><br />
zbeam6
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xbeam2.jpg" height="64" width="16" alt="xbeam2" /><br />
xbeam2
</p>
<p style="clear: both"></p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/blood.jpg" height="16" width="16" alt="blood" /><br />
blood
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/bhit.jpg" height="16" width="16" alt="bhit" /><br />
bhit
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/blooddrop.jpg" height="16" width="16" alt="blooddrop" /><br />
blooddrop
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/bubble.jpg" height="16" width="16" alt="bubble" /><br />
bubble
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/laserdot.jpg" height="16" width="16" alt="laserdot" /><br />
laserdot
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/tinyspit.jpg" height="16" width="16" alt="tinyspit" /><br />
tinyspit
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/dot.jpg" height="16" width="16" alt="dot" /><br />
dot
</p>
<p style="clear: both"></p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/fire.jpg" height="64" width="21" alt="fire" /><br />
fire
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/gexplo.jpg" height="64" width="53" alt="gexplo" /><br />
gexplo
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/fexplo.jpg" height="64" width="53" alt="fexplo" /><br />
fexplo
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/steam1.jpg" height="64" width="42" alt="steam1" /><br />
steam1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/hexplo.jpg" height="64" width="42" alt="hexplo" /><br />
hexplo
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/spark1.jpg" height="40" width="40" alt="spark1" /><br />
spark1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/xspark1.jpg" height="32" width="32" alt="xspark1" /><br />
xspark1
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/moths.jpg" height="16" width="32" alt="moths" /><br />
moths
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/rope.jpg" height="32" width="16" alt="rope" /><br />
rope
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/sdrip1.jpg" height="64" width="8" alt="sdrip" /><br />
sdrip
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/mommablob.jpg" height="16" width="64" alt="mommablob" /><br />
mommablob
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/logo.jpg" height="12" width="64" alt="logo" /><br />
&nbsp;&nbsp;logo
</p>
<p style="float: left; width: 60px; border: none; margin: 0 15px 15px 0; padding 1px">
<img src="content/half-life/tutorials/hlsprites/small_logo.jpg" height="12" width="64" alt="small_logo" /><br />
small_logo
</p>
<p style="clear: both"></p>
<h3>Notes</h3>
<p>
There are 180 Sprites in the original Half-Life folder. Some of these are game specific and have not been listed here, others are 'fillers' or blank.<br /> 
Here are the ones not listed:<br />
White, vp_parallel, vp_parallel_oriented, voice_icon, camera, crosshairs, spot3 and spot 4, agrunt1<br />
glow5. In addition to those, there are &quot;16&quot; txt files, 19 Hud Sprites and 7 Multiplayer icons in the folder.
</p>
<!--EOF@534--></ul><h1 id="7" name="7" class="book-h1">Taming the Speaker Entity</h1><ul><!-- 
by Merl (merlinis@bigpond.net.au) 2001
by Gard (stephen@geol.uwa.edu.au) 2003 
Updated XHTML FEB 05 Andy
-->
<h3>Half-Life</h3>
<blockquote>
Taming the Speaker Entity - <a href="mailto:mithodiel@softhome.net">Mithodiel</a>
</blockquote>
<p>
The &quot;speaker&quot; entity creates the effect of having a public-address system in your  level. It is designed to make random announcements every 3 to 10 minutes while it is active.  What many Half-Life level editors fail to realize is that this entity is completely customizable!
</p>
<p>
There is a file in your half-life\sounds directory called <span style="font-style: italic">sentences.txt</span>. This is the file that Half-Life reads in order to play sentences (named strings of wave files).  The <span style="font-style: italic">sentences.txt</span> file defines the sentences spoken by the PA announcer and the monsters in the game. If this file is not located in your half-life\sounds directory, then you will need to extract it from the <span style="font-style: italic">pak0.pak</span> file using a utility such as <a href="ftp://ftp.gamedesign.net/halflife/Tools_and_Utilities/Pak_Utilities/pakexplr.zip">PakExplorer</a>  or <a href="http://home.telefragged.com/wally">Wally</a> (a texture editor that also features the ability to handle Windows long file names in PAK files). You will need to edit the <span style="font-style: italic">sentences.txt</span> file in order to add your own custom annoucements.  Once extracted, your custom <span style="font-style: italic">sentences.txt</span> file will now override the version in the PAK file.
</p>
<p>
Once you have extracted <span style="font-style: italic">sentences.txt</span> from the PAK file, open it up in a text editor, such as Notepad.  Scroll down to where the lines begin with one of the Valve single-player map names (such as <span style="font-style: italic">C1A1</span>).  Notice that the sentences are <b>grouped</b>.  In each group, the sentences all have the same name, except that they are numbered sequentially from 0 to 9.  The name of the sentences without the number is called the <span style="font-style: italic">sentence group name</span>, and you will need that information when you create your custom announcements.
</p>
<p>
Scroll all the way down to the end of the file.  It is a good idea to add any custom sentences to the end of the file, so that you do not mess up established sentences (unless you are into that sort of thing).
</p>
<p>
Now add your custom sentences. First, come up with a name for the sentence group. The speaker entity will play sentences randomly from this group. For the purposes of this tutorial, use <code>TUTOR</code>. Then create the sentences in the group.  They will be sequentially named <code>&lt;group name&gt;0</code> through <code>&lt;group name&gt;9</code>.  You can make up to 10 custom sentences per sentence group, as long as they are numbered in order.
</p>
<p>
<span style="text-decoration: underline">Example:</span><br />
<code>
TUTOR0 vox/buzwarn buzwarn unauthorized access detected in sector thirty two<br />
TUTOR1 vox/buzwarn buzwarn warning freeman is armed and danger us<br />
(yadda yadda yadda)<br />
TUTOR9 vox/deeoo doctor freeman please report topside for questioning
</code>
</p>
<p>
Note that all sentences in <span style="font-style: italic">sentences.txt</span> must appear on one line each -- don't be fooled by the example formatting above!
</p>
<p>
Next, open your level up in your favorite editor and create a &quot;speaker&quot; entity. Set the <span style="font-style: italic">preset</span> (WorldCraft: <span style="font-style: italic">Announcement Presets</span>) field to 0 (WC: &quot;None&quot;) -- any other setting will play hard-coded announcements (I found this out the hard way!).  Enter the name of your custom sentence group (in this case, <code>TUTOR</code>) under the <span style="font-style: italic">message</span> (WC: <span style="font-style: italic">Sentence Group Name</span>) field.  Then set an appropriate volume level in the <span style="font-style: italic">health</span> (WorldCraft: <span style="font-style: italic">Volume</span>) field.
</p>
<p>
Now compile your map and load it into Half-Life.  The speaker should start spewing your custom sentences as soon as the level loads.
</p>
<p>
If you want more control over the speaker, note that it can be triggered on and off.  Give the speaker a name in the <span style="font-style: italic">targetname</span> (WC: &quot;Name&quot;) field, and then you can use external triggers to turn the speaker on and off.  If you want the speaker to be quiet at first, set its <span style="font-style: italic">spawnflags</span> to 1 (in WC, Check the &quot;Start Silent&quot; flag).
</p>
<p>
You can force the speaker to make a single announcement by making it reference a single-sentence sentence group.  Otherwise, you would need a scripted_sentence and an associated &quot;dummy&quot; monster to accomplish the same thing; the custom speaker thus ends up saving you an entity.
</p>
<p>
<span style="font-weight: bold">NOTE:</span><br />
This method is not particularly well suited to multi-player maps, unless they are part of a Half-Life mod that has its own <span style="font-style: italic">sentences.txt</span> file.  Many players are uncomfortable with others mucking around with their <span style="font-style: italic">sentences.txt</span> file (myself included).  Thus, for multi-player maps, a better choice would be to string a series of ambient_generic entities together using a multi_manager, since you do not have to distribute any files other than the map itself if you do this.
</p>
<!--EOF@53--></ul><h1 id="267" name="267" class="book-h1">The BSP Process and Visibility</h1><ul>This is a link to a tutorial that was originally written for Quake II but largely applies to all Quake engine games including Half-Life.<p>

<A href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/266">Click to view the tutorial</A></ul><h1 id="303" name="303" class="book-h1">Ways to Prevent Leaks</h1><ul><!-- 
by Cheat_McSlick(no email address provided) 2001
by Gard (stephen@geol.uwa.edu.au) 2003 
Updated XHTML - FEB 05 Andy
-->
<h3>Half-Life</h3>
<blockquote>
Ways to Prevent Leaks - Created by <a href="http://forums.gamedesign.net/profile.php?mode=viewprofile&amp;u=8">Cheat_McSlick</a><br />
for updates contact <a href="stephen@geol.uwa.edu.au">RUST</a>
</blockquote>
<p>
<span style="font-weight: bold">Preface:</span>
</p>
<p>
 If your level doesn't compile because it has a leak, then you need to find the leak and delete. This tutorial helps define methods to find and eliminate leaks
</p>
<hr />
<h3>Prevent leaks</h3>
<p>
The best way to fix a leak is to prevent it in the first place. Better map building is the solution. The ways to prevent leaks are:<br />
</p>
<ol>
<li><span style="font-weight: bold">Don't make a big box around your level.</span> Ever. Let me repeat that, because it bears repeating. Don't make a big box around your level. That is the wuss way out, and it has so many bad effects on your map (like high r_speeds) that it's probably one of the worst mapping habits ever.</li>
<li><span style="font-weight: bold">Don't carve.</span> Unless you really know what you're doing, carving causes a lot more problems than it solves. Avoid carving and you'll avoid leaks. Some times WC will split up a carved block so crazy-like it will cause a leak.</li>
<li><span style="font-weight: bold">Don't work in grid size 1.</span> To the common n00b, grid size 1 might look like the best size to work in because it allows the most freedom. Wrong! You will make so many mistakes in grid size 1 that you'll end up having more leaks than you know what to do with. I'm talking about things like connecting a floor and a wall. In grid size 1, you'll probably miss and there will be a crack between them. You should work in grid size 8 or 16 most of the time.</li>
</ol>
<h3>Finding leaks:</h3>
<p>
Well none of the above worked, or you didn't pay attention and now you have a leak. I tried to warn you! Here are some helpful ways to finding a rogue leak:<br />
</p>		
<ol>
<li><span style="font-weight: bold">The point file.</span> In WC, you may load the point file of a leaky map. It will show a crazy red line in the 2d views, and this line can be traced to the source of the leak. If there is no red line when you load the point file, then you probably have a point entity outside the map.</li>
<li><span style="font-weight: bold">Look at the log.</span> The compile log will tell you the name and coordinates of the closest point entity to the leak. Use this to narrow down your search.</li>
<li><span style="font-weight: bold">Big Block method.</span> Surround part of your map with a big, solid block and compile. If the leak errors are gone, then the leak must be in that area of the map. If not, move the block to another area and compile again. This will really help you narrow down your search.</li>
<li><span style="font-weight: bold">Big Purple Sky method.</span> Surround your map with a giant hollow block with the sky texture, and make your light_enviroment bright purple (or other noticeable color). Compile the map and run it. Walk around every nook and cranny of the map. If you see a space in the map where purple light shines through, then a leak is there. It also might help to temporarily get rid of all your other lights so the purple light is more noticeable.</li>
<li><span style="font-weight: bold">3-D view method.</span> (Suggested by <a href="http://forums.gamedesign.net/profile.php?mode=viewprofile&amp;u=390">Yesukai</a>) In worldcraft, make the 3D view nice and big(i use independant window configs). Put it on solid. Fly around the outside of your map, looking for the spot were the colors change strangly or the perspective is screwed up. Now, this may sound like a bad method, but combined with experience, I can locate any leak in minutes and be on my way while you are still flying down a pointfile</li>
<li><span style="font-weight: bold">Advanced method.</span> (Suggested by <a href="http://forums.gamedesign.net/profile.php?mode=viewprofile&amp;u=32">RoyelEF</a>) The pointfile can get quite large and I find the 2d-only pointfile in WC is useless. To get around this:</li>
</ol>
<blockquote><ol start="1">
    <li>Copy the broken bsp and pts files into Halflife and load your map.</li>
    <li>In worldcraft,In the console type POINTFILE to load it. If it complains about not enough particles then add <br /><code>-particles 65000</code> to your halflife launch for debugging. This is easily done in WC compiler settings.</li>
    <li>However, the pointfile can still be outrageously long and take some patience to trace.</li>
    <li>The pointfile stops when it encounters a pointbased entity (light, playerstart, monster, weapon, ammo, etc). For the compiler this is the very definiton of a leak, a point-based entity is encountered by the pointfile. It passes through brush based ones unnoticed.</li> 
    <li>You can shorten your pointfile by increasing the number of point-based entities in the map. Player deathmatch starts or gman around. Place them in each major room, hallway. When the pointfile enters it will encounter an entity sooner and will stop closer to the actual problem.</li>
    <li>Having gmen around also gives you a perspective of what player will look like in a room.</li>
 </ol> </blockquote>
 <p>&nbsp;</p>
 <p>
 So the next time someone asks you how to fix a leak, you point them to the old Cheat_McSlick &quot;How to fix a Leak&quot; Tutorial.
 </p>
<hr />
<h3>Interesting Leak Discussions on the RUST Forums:</h3>
<blockquote>
<span style="color: #ff0000">
1. <a href="http://forums.gamedesign.net/viewtopic.php?t=497&amp;highlight=leaks">Cheat_McSlick's original post?</a><br />
2. <a href="http://forums.gamedesign.net/viewtopic.php?t=497&amp;highlight=leaks">Typical Leak problems?</a><br />
3. <a href="http://forums.gamedesign.net/viewtopic.php?t=2868&amp;highlight=leaks">VIS and Leaks</a><br />
4. <a href="http://forums.gamedesign.net/viewtopic.php?t=5675&amp;highlight=leaks">Entities don't stop leaks</a><br />
 </span>
 </blockquote>
<!--EOF@62--></ul><h1 id="628" name="628" class="book-h1">WorldCraft/Hammer 3.4 Editing</h1><ul><!-- Submitted by Andy Nov 04-->

<b>What is Hammer v3.4 :</b><br>
<p >Hammer is a revised version of WorldCraft, it includes useful tools and options that were not available in the initial release.<br><br>
WorldCraft 2.1 came with a set of tutorials that gave step by step instructions for people new to the editor, but for some reason they were not updated when Hammer was released.</p>
<p></p>
<b>Tutorials:</b><br>
<p>The first three tutorials listed here are a recreation of the original information, and take into account most of the changes introduced by Valve Hammer 3.4.<br><br>
Simple Doors is our own home grown tutorial, and there will be more to follow.<br> 
If there is a topic you would like to see a tutorial on...<br> Just add a comment at the bottom of the page and we will try to add it to the growing list.</p>
<!--break-->
</ul><h1 id="651" name="651" class="book-h2">Getting Started</h1><ul><!--
Submitted by Andy Oct 04 
Updated  Feb 2005 - Validated at W3C, XHTML1.0 Transitional
 -->
<h3>Hammer 3.4</h3>
<blockquote>Getting Started - by Andy</blockquote>
<h3>
Getting Started with Hammer
</h3>
<p>
<span style="font-weight: bold">It's important</span> to get used to referring to the Help Section in Hammer 3.4 as that's where the Setup Guide is located.
</p> 
<p>
When you first load Hammer, it'll ask you if you want to view the help files. Use these to assist you in the initial Setup of Hammer.<br />
Once you have Hammer set up, go to the File menu and click New.
</p><!--break-->
<p>
If you left the defaults in for the options General, 2D Views and 3D Views during setup then you should be presented with 4 windows: <br />
Camera View, Top (x/y), Front (y/z) and Side (x/z). I prefer having the scroll bars option checked in 2D Views. 
</p>
<center>
<a href="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb_fig1.jpg"><img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb_fig1_small.jpg" height="240" width="320" alt="Fig 1" title="Fig 1" style="border: none" /><br />
<small>Click to enlarge</small></a>
</center>
<p>
You should have something that looks like the screen shot above, without the blue green and red lines in it. I have drawn back in camera mode to show you the centre of the map. The lines intersect at the centre, also shown in the other windows by the darker green lines. 
</p>
<p>
<span style="font-weight: bold">The editing screen</span>:
<br />
The 2D Views on your screen have white Grid Lines on them. The outer edges of the grid represent the largest possible map size that the engine can handle (<span style="font-style: italic">actually you need to stay within about 128 units of the edge</span>). So when you get around to creating your first brush, try to start on the centre. The centre is designated by a crossed set of dark green lines.
</p>
<p>
The most common problem for new mappers is that their imagination is bigger than what the engine can handle.<br />
To get an understanding of what a map is all about, think of it as a shoebox. Everything inside the box is the map, or what the engine will render, everything outside the box (including the outer faces of the box) is the Void. No mans land, space, nothingness. This means that the engine will not render it.<br />
The biggest single problem for new mappers occurs when they build a box. The brushes must mate or touch each other creating an area inside the box that is &quot;airtight&quot; to the outside Void. 
</p>
<p>
Care taken during the initial brushwork saves the trouble later of re-doing the whole thing. If there is a hole in your box, there will be a problem when you run it. An error will occur called a LEAK. And that is just what it is! a LEAK. <br />
The engine can see from the inside of the box to the outside of the box, and this can lead to other important compiling programs not being run. Apart form bad building technique, the other most common problem is having Entity Types and Brushes in the Void. <br />
When placing monsters and entities, always make sure they are inside your &quot;airtight&quot; shoebox.<br />
As you get better at level design, you will find that there are exceptions to these rules... Just stick with this for the time being.
</p>
<p>
<span style="font-weight: bold">Brushes</span>:<br />
A Brush is just another name for a block created in the editor.<br />
Click on the Block Tool on the left-hand side of the screen, place your cursor on the Top (x/y) window and left click on the intersection of the dark green lines. Hold and drag your cursor diagonally up and to the right about 4 squares (this assumes that you have Snap: On Grid: 64 at the bottom-right) and let go. You now have a white dotted line that is starting to represent a rectangle. <br />
Click on the Selection Tool on the left-hand side of the screen and position the cursor over the centre of the white outlined brush in any of the 2D views. Right click and select Create Object. <br />
You should now have a rectangle in your 2D view.
</p>
<p>
<span style="font-weight: bold">2 and 3D Navigation</span>:<br />
Your rectangle should be visible in the Camera View. If it isn't then place your cursor on that view and hit the Z key. That should give you a cross cursor and all you need to do now is use the W,S,A and D keys to navigate around.<br />
To get out of Camera mode just hit the Z key again. <br />
While I am on the subject, you can navigate around the 2D views by placing the cursor over them and using the D and C keys to change the Zoom, and the Arrow Keys to move around. <br />
We need to do now is to make our rectangle a cube. 
</p>
<p>
In the Side (x/z) 2D View, click on the little cross in the centre of your rectangle. That should highlight the rectangle. <br />
Now click and hold the top centre little white square (handle) on the outline and drag it down or up so that you end up with a square box in that view. <br />
You should have a square in all the 2D views. 
</p>
<center>
<a href="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb_fig2.jpg"><img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb_fig2_small.jpg" height="240"  width="320" alt="Fig 2" title="Fig 2" style="border: none" /><br />
<small>
Click to enlarge
</small></a>
</center>
<p>
Clicking on your cube in the Camera or 2D Views will highlight it. When it is highlighted the whole object should change colour. Normally it will go red to indicate that is the item you are working with. <br />
Select Tools from the main menu bar and select Make Hollow. [Or right-click the object and select Hollow, or press Ctrl+H]. <br />
You should now have box asking what thickness you want the walls to be. <br />
The default is 32 units. It will not let you select 1 or -1. </p>
<p>
Here is what happens:<br />
When you select a number greater than 1 it will automatically carve a piece out of the centre of your cube and leave you with the internal wall thickness that you choose. <br />
If you select a negative number, it will leave a hollow the size of the original cube and build the walls externally to the thickness you have selected. <br />
For the purpose of this we will stay with the default (32) and click Ok.
</p>
<center>
<a href="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb_fig3.jpg"><img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb_fig3_small.jpg" height="240" width="320" alt="Fig 3" title="Fig 3" style="border: none" /><br />
<small>
Click to enlarge
</small></a>
</center>
<p>
As you can see from the above figure you now have a hollow cube. The hollow tool works well for simple things like cubes, but be careful when using it on anything that has non-perpendicular angles (i.e. anything that's not a cube ). 
</p>
<p>
To get inside your square and have a look, click on the Entity Tool, click in the middle of your square, and adjust the little green box so that it is in the middle of the space you have created in all the 2D views. <br />
The entity you want is info_player_start so make sure this is selected in the Object Bar. Hold the cursor over the green box, right click and select Create Object [or press Enter]. <br />
You should now have a green rectangle in your cube. (If you are using the Hammer 3.5 Beta, you will see Gordon) This is the player start information that the game engine uses to work out where the player will join the map at.<br />
Click on the Entity Tool again and as you did with the info_player_start and insert a light entity above your player start. 
</p>
<center>
<a href="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb_fig4.jpg"><img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb_fig4_small.jpg" height="240" width="320" alt="Fig 4" title="Fig 4" style="border: none" /><br />
<small>
Click to enlarge
</small></a>
</center>
<p>
What next... Hit F9 and if you have set up the compile programs correctly (<span style="font-style: italic">Hammer Setup</span>) you should end up standing in a really revolting pink room. <br />
The 'F9' key will take you to a compile screen. It is important to check the boxes next to Vis and Rad, as by default they are not checked.
</p>
<p>
Congratulations! More to follow - now that you have an ugly pink room (that isn't very big) we will explore some of the ways you can make it look good and expand on it. 
</p>
<hr /> 
<!--Original Submitted by Andy Oct 04-->
<p>
<span style="font-weight: bold">Part 2: Walls and Halls</span>
</p>
<p>
So you managed to compile the map from Part 1 and find yourself standing in an awful pink room. If you didn't, then I suggest you get aquainted with the Hammer Help file and Setup guide before you read any further.<br />
The most commonly asked questions on the forums always have something to do with Setup or Compiling Problems.<br />
Reopen that RMF file and let's go to work on it. First thing we need to do is change the grid size. 
</p>
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb2_sog.jpg" height="23" width="234" alt="Snap to Grid" title="Snap to Grid" />
</center>
<p>
To do this use your <span style="color: #ff0000"> [ </span> and<span style="color: #ff0000">  ] </span> keys to adjust the setting. You should find that the cube you created fits exactly in four of the grids. 
</p>
<p>
Now for a texture. Select your cube. Only got one wall? Click on the <span style="color: #ff0000"> Ignore Group</span> button. You can call up your texture application tool by pressing <span style="color: #ff0000">Shift + A</span> or by clicking the button on the toolbar. 
</p>
<p>
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb2_textures.jpg" align="left" height="303"  width="124" hspace="6" alt="Texture Application" title="Texture Application"  />You should be presented with the default <span style="color: #ff0000">aaatrigger</span>. Select the <span style="color: #ff0000">Browse</span> button and look for a texture you like. I have used <span style="color: #ff0000">crete3_wall01b</span>. When you have found the texture you want just double click on it to select. It should appear just above the <span style="color: #ff0000">Replace</span> button. Ok, playing with textures is a tutorial in it's own right, so for now just click <span style="color: #ff0000">Apply</span> and your cube should be that texture. Now create a second room. Do this by cloning. First, select the existing room. Then, while pressing the <span style="color: #ff0000">Shift</span> key, click and drag with the left mouse button. Place the second room <span style="color: #ff0000">128</span> units away from the first room.
Your top view should look like the one below. <img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb2_topview1.jpg" align="right" height="231" width="300" vspace="8" alt="Top View" title="Top View" />
</p>
<p>
<span style="font-weight: bold">The Corridor</span>:<br />
Now, we need to make a hole in each room so we can connect them together. If you have read the hints and tips at various other sites you will know that carving is a mortal sin. The idea is that you should construct each brush individually. This makes sense, especially when you are dealing with more intricate work. But today we are going to carve... just remember to carve sparingly later on, and only when you are making holes in solid blocks. Carving cylinders can lead to all sorts of problems. First, create a brush that displaces the area that you want to carve. It's a good idea to make the brush big enough for the player to move through.
</p>
<p>
<span style="font-style: italic; font-weight: bold">TIP</span>: Have a look at the tutorial <a href="/node/596" target="_blank"><span style="font-weight: bold"> Half-life Dimensions</span></a>. The minimum height of an overhead object in the standing position is <span style="color: #ff0000">73</span> units and the minimum width is <span style="color: #ff0000">33</span> units. 
</p>
<p>
In this example I have created a brush that is <span style="color: #ff0000">200w&nbsp;&nbsp;64l&nbsp;&nbsp; 96h</span> and placed it so that it is just above the floor brush and is slightly off center and just pierces each of the walls. Now, click the selected object to highlight it, and select <span style="color: #ff0000">Carve</span> from the menu. This will cut out a hole from each wall, leaving the carving object in place. Click on the carving object again to select it and choose <span style="color: #ff0000">Make Hollow</span> from the tools menu. You will be asked to provide a wall thickness. I have used <span style="color: #ff0000">4</span> for this example because that will make the walls 4 units thick and still leave the corridor big enough to move through.
</p>
 <p>
 (<span style="color: #ff8040">Note</span>: don't use negative numbers for this as the parts of the corridor extending into the rooms will intersect the rooms' walls. You could optionally resize the carving block before hollowing so that it just touches the outside of each room, then holow to -32 or something).
 </p>
<p>
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb2_topview2.jpg" align="left" hspace="8" vspace="6" height="211" width="272" alt="Top View 2" title="Top View 2" />Great, now we have a hollow object connecting both the rooms but if you look at the corridor in <span style="color: #ff0000">Camera</span> view, you won't be able to see through. To correct this just click on <span style="color: #ff0000">Ignore Group</span> and highlight the end brush of the new corridor and delete it. Do the same with the redundant wall brush and the other wall brush and end. Be really careful when you're doing this - make sure that the brush you delete is the right one. Use all the views to avoid problems. (This is where <span style="color: #ff0000">Undo Delete</span> comes in handy). Notice how the carving has removed the wall brushes from the original cube group and created several other brushes. This is one of the reasons that carving can be problematic. A 'leak error' reported during compiling, more often than not, will be caused by moving a brush that has been affected by a carve. I make a habit of extending brushes into walls after carving, to help with inadvertent shifts of the main group. Anyway that is it. You can compile and run the map. The second room will be dark unless the light was part of the original cube group. So while pressing the <span style="color: #ff0000">Shift</span> key select the light and drag it across to the new room. Great. Try resizing and making the corridor just big enough to move through. 
</p>
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb2_corridor.jpg" height="240" width="320" alt="Final Product" title="Final Product" />
</center>
<p align="center">
<span style="font-style: italic">Next Part 3: Textures.</span>
</p>
<!--EOF@153--></ul><h1 id="652" name="652" class="book-h2">Texture and Lighting</h1><ul><!--
Submitted by Andy Oct 04 
Updated  Feb 2005 - Validated at W3C XHTML1.0 Transitional
 -->
<h3>Hammer 3.4</h3>
<blockquote>Texture - by Andy</blockquote>
Now that you've created a couple of rooms, it's time to think about textures. Open the rmf from the last tutorial. Firstly, what sort of playing area are you constructing? It's important to have a theme or at least know where you are going with this. Once you have a general idea of the type of environment you're creating, choosing textures becomes much easier. 
</p><!--break-->
<p>
For this tutorial I am using some basic room textures. Open the <span style="color: #ff0000">Texture Application</span> tool (unless you have it as part of your Screen Element Views) and click the <span style="color: #ff0000">Browse</span> button to have a look at what is available. 
</p>
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb3_1.jpg" height="227" width="336" alt="Image 1" title="Image 1" />
</center><br />
<p>
The texture browser has some great features. Type <span style="color: #ff0000">floor</span> in the filter line and the browser will only show textures that have 'floor' as part of their name. Size set to <span style="color: #ff0000">1:1</span> will show you the actual size of the texture and what grid space it normally covers (128x128 in this example). If you select <span style="color: #ff0000">Only Used Textures</span>, it will show you all the textures you have used on your map so far. (<span style="font-style: italic">Useful, since using too many textures looks bad and also wastes the limited texture memory.</span>)
</p>
<p>
Textures have different functions based on the prefix in their name:
</p>
<blockquote>
<span style="color: #ff0000">{ </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Transparent<br />
<span style="color: #ff0000">! </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Water (a special texture that acts like water)<br />
<span style="color: #ff0000">~ </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Light (Textures begining with this will emit light)<br />
<span style="color: #ff0000">+ </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Animated (Triggering shows the next texture)<br />
<span style="color: #ff0000">+A </span>&nbsp;&nbsp; Animated Toggle (cycles through Max 10 frames)<br />
<span style="color: #ff0000">- </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Random Tiling (there will be 3 or 4 in a set) 
</blockquote>
<p>
So <span style="color: #ff0000">!WATERBLUE</span> is a functional water texture and <span style="color: #ff0000">+0~ELEV1_PAN</span> is a the first in a sequence of special animated light emitting textures. You will find a mixture of the prefixes through out the <span style="color: #ff0000">.wad</span> files.
</p>
<p>
<span style="font-weight: bold">The Floor</span>:<br />
I have chosen <span style="color: #ff0000">c1a3floor02</span> for the floor. So in the <span style="color: #ff0000">Texture Browser</span> double click the texture you require and that texture should now be shown in <span style="color: #ff0000">Face Properties</span> box (or on the right hand side of your screen in the <span style="color: #ff0000">Texture Bar</span>.<br />
I have found that the easiest way to apply textures to entire brushes is to have the Texture Bar as part of your screen view. To select a brush click on the <span style="color: #ff0000">Ignore Group</span> button, as this will stop you from accidentally applying the texture to an entire group, and select the brush you want to apply the texture to, in this case the Floor. <br />
Use <span style="color: #ff0000">Ctrl + Left Click</span> to highlight the second floor in the map and with both the floors highlighted, just click on the <span style="color: #ff0000">Apply Current Texture</span> button. Both floors should now resemble concrete tiles. 
</p>
<p>
<span style="font-weight: bold">The Walls</span>
Using the same method as above, find a suitable texture for the walls such as <span style="color: #ff0000">c2a4e_w1c</span> and select all the wall brushes and apply the texture. Just to give you an idea of what can be achieved with textures, click on <span style="color: #ff0000">Browse</span> in either the Texture Bar or the Face Properties box. Check the box for Only Used Textures and type <span style="color: #ff0000">c2a</span> in the Filter line.<br />
You should have the <span style="color: #ff0000">c2a4e_w1c</span> texture as the only one showing in the Textures box. (If there is more than one texture showing, then all the textures showing will be marked).<br />
Now click on <span style="color: #ff0000">Mark</span> and this will select all the brushes in your map that have that texture (84 or so). </p>
<p>
Move the Face Properties box so that it isn't obstructing the <span style="color: #ff0000">Camera View</span> and move that view so that you have a clear perspective of the corridor, wall, floor and ceiling.
</p>
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb3_2.jpg" height="281" width="381" alt="Image 2" title="Image 2" />
</center>
<p>
In the Face Properties box adjust the <span style="color: #ff0000">Y Scale</span> to <span style="color: #ff0000">0.60</span> and the <span style="color: #ff0000">Y Shift</span> to <span style="color: #ff0000">70</span> or <span style="color: #ff0000">71</span>. This should leave the walls with a dark line at the top and bottom accentuating the ceiling and floor.<br />
You can adjust the scale and shift to suit your needs and try the <span style="color: #ff0000">Align: World</span> or <span style="color: #ff0000">Face</span> check boxes. When you have got it looking how you want it, just close the Face Properties box. 
 </p>
<p>
I used the same method to apply <span style="color: #ff0000">fifties_ceil5</span> to the roof and then as with the walls I adjusted the ceiling to fit. Scale <span style="color: #ff0000">X</span>:<span style="color: #ff0000">1.00</span> and <span style="color: #ff0000">Y</span>:<span style="color: #ff0000">1.00</span>, Shift <span style="color: #ff0000">X</span>:<span style="color: #ff0000">16</span> and <span style="color: #ff0000">Y</span>:<span style="color: #ff0000">55</span> and the Align: World box checked. 
</p>
<p>
I have left the corridor as the original texture. You might want to create a border and apply a neutral texture to it. <br />There are heaps of ways to apply texture. Just remember that applying texture to the entire brush can avoid mixed texture errors when compiling.<br /> Try not to use too many textures and spend some time aligning your textures so they look good. For large areas use a large texture (128x128 or larger) and for outdoors or other huge areas make the scale high so that the texture isn't repeated too often. This also improves performance.<br /> Getting it to look right is really important. Experimenting with textures and the tools can produce great results. 
</p>
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb3_3.jpg" height="252" width="336" alt="Image 2" title="Image 2" />
</center>
&nbsp;
<hr />
<p>
<span style="font-weight: bold">Part 4: Lighting</span>:<br />
In this tutorial we will look at the effects of lighting. Good lighting is great for atmosphere. It's also good to have a few dark places but not too many.
</p>
<p>
Before we go any further, when you compiled your Map did the light look as though there was a real light? By that I mean, did the map look as though there was a light where you placed it or did it look like the whole map was floodlit?. If it looked floodlit or really bright, then you might want to compile it again and look at the <span style="color: #ff0000">Error Log</span>. It is normally saved in the same area as your .rmf file. Look for a line that indicates an Error. If there is a LEAK in your map, then the map will be floodlit or "Fullbright". If you do not fix the LEAK, then the rest of this tutorial is pointless, because you will not see the lighting as it is meant to be.  <br />
Another way to check for a LEAK is to bring up the console with the <span style="color: #ff0000">~</span> tiald key and type in pointfile. If there is a LEAK, the pointfile will be generated and it will tell you the number of points read. If it is <span style="color: #ff0000">0</span> then your map doesn't LEAK..... yet.
</p>
<p>
<span style="color: #ff0000">The Properties</span> dialog (found by right-clicking the <span style="color: #ff0000">light</span> entity) allows you to customize the brightness, colour, appearance (flickering, fading, etc), target, and name of the light.
</p>
<center>
<img  src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb4_7.jpg" height="217" width="300" alt="Brightness" title="Brightness" />
</center>
<p>
Also, in the <span style="color: #ff0000">Flags</span> section, you have the option of indicating that the light should be <span style="color: #ff0000">Initially Dark</span>. In this case you'd also have to supply a name for the light so it could be "triggered" to turn on. 
</p>
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb4_1.jpg" height="150" width="200" alt="Image 1" title="Image 1" />&nbsp;<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb4_2.jpg" height="150" width="200" alt="Image 2" title="Image 2" /> <br />
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb4_3.jpg" height="150" width="200" alt="Image 3" title="Image 3" />
</center>
<p>
The effect created by just changing the colour is dramatic. The first figure uses the default settings. For the second room I have selected the light's properties and highlighted <span style="color: #ff0000">Brightness</span>. This will bring up an additional setting, <span style="color: #ff0000">Pick Color</span>. <img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb4_4.jpg" align="left" vspace="8" hspace="8" height="200" width="300" alt="Image 4" title="Image 4" /><br /> 
Clicking on this option takes you to a colour palette where you can choose what suits you. The colour palette has an Add to <span style="color: #ff0000">Custom Colors</span> button - if you find a colour that suits the theme of your room, just click that bar to save the colour. It will appear under Custom Colors: this will remain set even when you close the map or compile it. Great for large levels that need consistency. You can see from the figure that I have saved the three Colours used above. The default Brightness setting is the yellow hue shown. <br />
Placement of the lights has a varied effect. The lights in the figures above are <span style="color: #ff0000">8</span> units below the ceiling. Adding a ceiling light fixture will enhance the effect. 
</p>
<p>
<span style="font-weight: bold">Working with Light Textures</span>:<br />
There are a lot of textures that can be used and the easiest way to find them is to open your texture browser and type <span style="color: #ff0000">+</span> in the filter [or have a look in the file lights.rad in your WorldCraft folder]. Create a brush <span style="color: #ff0000">64 x 80 x 4</span> units to apply your light texture to. In the example map I have used <span style="color: #ff0000">+0~fifts_lght01</span> (because the texture size is the same as the brush) and applied another texture to the border of the light. Place this brush in the centre of the room above the existing light. To add a little realism to the light you might want to change the light entity property Appearance to <span style="color: #ff0000">Flicker A</span>. The Fluorescent Flickersetting actually turns the light off and on, transitioning the room between light and dark. <br />
Most light textures can be used in conjunction with <span style="color: #ff0000">func_</span> entities, by setting the <span style="color: #ff0000">Minimum Light Level</span> in the entity properties to &gt; <span style="color: #ff0000">1</span>. This gives the appearance of the texture being lit, but adds no light to the actual room. If you add a light texture to the borders of your light brush, they will also light up and sometimes this lessens the effect and reduces the shadow, giving the light an unnatural look. 
</p>
<center>
<img  src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb4_5.jpg" height="188" width="250" alt="Image 5" title="Image 5" />&nbsp;<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb4_6.jpg" height="188" width="250" alt="Image 6" title="Image 6" />
</center>
<p>
Create a small brush using the <span style="color: #ff0000">exit1</span> texture on the front face and position it above the corridor (makes sense). Select the brush and change it to a func_wall entity with a Minimum Light Level of <span style="color: #ff0000">1</span> (you can make this value 500, but it doesn't make any difference. The range is 0 to 1, so 0.5 is half-lit). The figures above show the enhancement gained by applying an entity to the brush. If you don't have any light in the room, and there is a really inviting "EXIT" sign at the other end, it doesn't take a genius to work out where your player is going to go. Great place for a trap or monster trigger. 
</p>
<p>
<span style="font-weight: bold; font-style: italic">NOTE</span>:<br /> If you give the light a name to use with a trigger or switch, remember that the game engine can only cope with about 4 named lights or animated lights in the same visual area. More than that might produce weird effects and an error (<i>Warning to many direct lights...</i>) in some compiling programs. I am not sure how many unnamed lights the engine can cope with, but less is better. Try making use of texture lighting. The same applies with <span style="color: #ff0000">light_spot</span> entities. 
</p>
<p>
As I said in the first paragraph, if your map does not compile properly or VIS and RAD do not finish, then your map will be lit &quot;Fullbright&quot; and any changes you have made to the lights properties will not show in the final map. Be sure to check for LEAK's as this is the most common cause.
</p>
<p>
Experiment and try new things. The secret to a good level is in the texturing and the lighting. 
</p>
<p align="center"><span style="font-style: italic"> Next Part 5: Furniture Prefabs</span>
</p>
&nbsp;
<hr />
<!--EOF@116--></ul><h1 id="653" name="653" class="book-h2">Prefabs and Monsters</h1><ul><!--
Submitted by Andy Oct 04 
Updated Nov 04 
Updated Feb 2005 - Validated at W3C XHTML1.0 Transitional
-->
<h3>Hammer 3.4</h3>
<blockquote>Prefabs and Monsters - by Andy</blockquote>
<p>Now you should have a couple of rooms connected by a corridor with walls that look good and a little mood lighting. Remember the first level of Half-Life? Where you got to walk around and interact with the items in the rooms. Each of the areas was pretty much defined by what sort of additions were in the rooms such as desks, lamps or lab tables. Furniture is just as important as good lighting and texture, to give your level realism. <br /><!--break-->
Most of the work in this tutorial will be done using the <span style="color: #ff0000">Object Bar</span> and inserting items that are already available.
</p>
<p>
<span style="font-weight: bold">Prefab Objects</span>:<br />
One of the simplest ways to add details is through the use of prefabs. Prefabs are prefabricated objects that are stored in libraries. Let's add a number of prefabs to this level from the prefab library.
</p>
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb5_1.jpg" align="right" height="337" width="154" vspace="20" hspace="8" alt="Image 1" title="Image 1"  /> 
<ol>
<li>Select <span style="color: #ff0000">Usable Objects</span> from the categories list, and <span style="color: #ff0000">File Cabinet,west</span> from the objects list (the use of entities in prefabs is a bit dated and sometimes pretty useless, as with this usable filing cabinet. If you want the draw to open, then all well and good, but you can't fit anything in it. One way around this is to change its properties to <span style="color: #ff0000">func_breakable</span> and set the properties to spawn something on break.)</li>
<li>On the lower part of the <span style="color: #ff0000">Objects</span> dialog is the <span style="color: #ff0000">Insert original   prefab</span> button. Press this now.</li>
<li>The prefab is now inserted in your room. Move it around the 2D views until you have it in a position you like. I have placed it in the first room, up against the wall. If you look at the example map you will see that the cabinet is about two units away from each wall but sitting on the floor. This will give it a more realistic lighting profile [and is good practice in cases where the object is not an entity - this way it won't split up the wall]. Move the cabinet hard up against the wall and look at the difference in shadow when you compile the map.</li>
<li>I have inserted another filing cabinet, a trash can, a black chair and an old desk, north from the random objects category. Note that the trashcan needs to be transformed by <span style="color: #ff0000">270</span> on the <span style="color: #ff0000">Z</span> axis so that the push sign aligns with the room and I have also scaled it to<span style="color: #ff0000"> 0.7</span> on all axes. </li>
</ol>
<p>
So now we have some things in our office, here are a few tips. The black chair created by the Prefab factory is a <span style="color: #ff0000">func_pushable</span> entity. If you leave it free in the room it can be pushed around. If you don't want it to move, then it's a good idea to select it and click <span style="color: #ff0000">to World</span>. By doing this you won't be able to push it and it won't make a moving sound every time you brush against it.
</p>
<img  src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb5_2.jpg" height="208" width="274" hspace="6" align="left" alt="Image 2" title="Image 2" />
<p>
In the second room I have added <span style="color: #ff0000">Modern shelves, south</span> and <span style="color: #ff0000">Metal shelves</span> (transformed <span style="color: #ff0000">180 Z</span> axis) from the random objects category. (The 'south' modern shelves are bound to a <span style="color: #ff0000">func_door</span> for some reason, so click <span style="color: #ff0000">to World</span> unless you actually want the shelves to act as a door.) The metal shelves have four boxes on them.<br />
You can adjust the <span style="color: #ff0000">Spawn on Break</span> properties with the Map -&gt; <span style="color: #ff0000">Entity Report</span> by selecting the properties of each box. If you choose to spawn any item other than a weapon, ammo for instance, then you will find that if you break the box the ammo will fall through the shelf (<span style="font-style: italic">this is because there is no world entity below the box - it doesn't happen when you build the prefab yourself</span>).
</p>
<p>
Have fun inserting prefabs. Just remember to check their properties as most of them are designed to function in one way or another. Practice transforming and scaling prefabs, so that they look right. What you're trying to achieve is playability balanced with good looks. There are numerous resource sites that have downloadable prefabs, but use caution and check them before putting them into your maps.
</p>
&nbsp;
<hr />
<!--Submitted by Andy Oct 04-->
<p>
<span style="font-weight: bold">Part 6: Monsters</span>:<br />
If you take a look at the entity list you will see that there are lots of 'monster' entities. Now that you have created a simple map you probably want to know how to get it to interact with the player (or in other words, put in something to blow away). While it can be fun running around looking at great scenery and impressive detail, it becomes boring after a while. So this tutorial is a really basic guide to placing monster entities.
</p>
<p>
First up, we are going to look at how a <span style="color: #ff0000">monster_barney</span> can make a map interesting. Use your entity tool to place a monster_barney in the second room. Leave all of his properties as default. Run the map, pick up the crowbar and go to Barney. First up try getting him to follow you into the other room with the <span style="color: #ff0000">Use</span> key. If that isn't successful give him whack on the forehead with the crowbar. Now run back into the other room. 
</p>
<p>
A couple of things you have probably noticed already:<br />
Getting him to follow you was like pulling teeth and then once you had banged him on the head, he pulled out his gun but didn't chase you. Main reason for this is that poor old Barney didn't know where to go.
</p>
<p>
<span style="font-weight: bold">Info_node Placement</span><br />
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb6_infonodes.jpg" height="202" width="242" hspace="6" align="right" alt="Info Nodes" title="Info Nodes" /> Barney is one of the monster entities that will follow <span style="color: #ff0000">info_nodes</span> as well as <span style="color: #ff0000">path_corners</span>. To get Barney to chase you into the next room, he needs a map. Info_nodes provide Barney with a path to follow. Same as you would place a normal entity, place an info_node at the entrance to the corridor, one in the middle and one at the other end. Info_nodes are shown here as yellow squares.
</p>
<p>
It doesn't matter how high of the ground you put them as the game engine always drops them down to 8 units off the floor; what does matter is where you put them. I have placed these nodes just 3 units from each corridor wall. This really isn't a good thing as it is better to place them a minimum of 24 units from walls or any other brush in your map. Included in the download is a small text file that was part of the original Wordcraft tutorials, which includes good information about placement. 
</p>
<p>
If you compile the map now and talk to Barney with the Use key and move into the other room he should follow you down the corridor. If you hit him with the crowbar, he will draw his gun and come looking for you.<br /> (<span style="font-style: italic">Note: that info_nodes and path_corners are not interchangable: the former are used by all monsters that need to act on AI, and move dynamically, while the latter are used to specify movements - Barney will follow the path_corners until you bash him, and then he will rely on the info_nodes to hunt you down.</span>)
</p>
<span style="color: #ff0000">Info_air_nodes</span> work with flying monsters ie; <span style="color: #ff0000">monster_alien_controller</span>. 
<p>
<span style="font-weight: bold">Path_corners</span>:<br />
You can get Barney to follow path_corner entities as though he was checking security. Just place one at each end of the corridor (In their properties name them <span style="color: #ff0000">p1</span> and <span style="color: #ff0000">p2</span> and set their <span style="color: #ff0000">next stop targets</span>. In this case p1 with a next stop of p2 and p2 with a next stop of p1). In Barney's properties, change his <span style="color: #ff0000">Target</span> to p1. If you compile the map now and don't move, Barney will be walking up and down the corridor. If you approach him, he will stop following the path_corners. All monsters do this to some extent.
</p> 
<p>
<span style="color: #ff0000">Monster_scientists</span> behave in pretty much the same way and you can make them follow path_corners or info_nodes.
</p>
<p>
<span style="color: #ff0000">Monster_human_grunts</span> behave slightly differently. First of all you don't really interact with them, you try to kill them. So the main thing is to decide if you want them to chase after the player. If so, info_node placement is important (<span style="font-style: italic">and reading the file included with the example map for this tutorial will save time</span>). A good coverage of info_nodes (maximum 128 visible at any point) within a room will make it impossible for the player to hide. The grunts will attack until killed, or you get capped, whichever is first. 
</p>
<p>
<b>Monster Properties</b>:<br />
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb6_flags.jpg" height="141" width="235" hspace="8" vspace="8" align="left" alt="Flags" title="Flags" /> In the Flag properties, checking <span style="color: #ff0000"> WaitTillSeen</span> will make the monster stand there until the player sees him, then he will revert to his normal AI (This will not work if the monster is following path_corners). Checking <span style="color: #ff0000">Gag</span> will shut them up. This means that the player will not know they are around the corner.
</p> 
<p>
Checking <span style="color: #ff0000">Prisoner</span> for any monster entity will stop the monster from attacking the player.
</p> 
&nbsp;
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb6_properties.jpg" height="167" width="235" hspace="8" vspace="8" align="left" alt="Properties" title="Properties" />
<p>
You can use monsters to activate or deactivate things by entering the name of the target you want to trigger in <span style="color: #ff0000">Trigger Target</span>. There are <span style="color: #ff0000">Trigger Conditions</span> that can be set and are pretty much self-explanatory (<span style="font-style: italic">Ok, well maybe not, it seems that some of the conditions are redundant. So test each one.</span>)
</p>
<p>
One of the things that can be done is to trigger a <span style="color: #ff0000">monstermaker</span> entity. By using this trigger, the new monsters don't appear until the Trigger Condition is met. Monstermakers are a tutorial in their own right, there is so much you can do with them. If you try them out, just remember to change the <span style="color: #ff0000">Angle</span> of the entity so that the monsters it produces face the player or the info_node path when they appear. If you don't they will appear and end up looking at the walls, not doing much until the player attacks.
</p>
<p>
I have included a test room map to show how info nodes, Trigger Conditions and monstermaker entities work. Kill the first <span style="color: #ff0000">monster_houndeye</span> and watch the fun start. 
</p>
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb6_houndeye.jpg" height="209" width="279" alt="Houndeye" title="Houndeye" />
</center>
<p>
One last note: There are so many things you can do with monsters. Some of them can be used in conjunction with <span style="color: #ff0000">scripted_sequences</span> and <span style="color: #ff0000">aiscripted_sequences</span> which is outside the scope of this tutorial, but set up a test map, and check out what the different flags and properties of monsters do. It pays to be in God Mode when working with monsters. Remember that monsters that wait to get shot at are boring so get them to do something! And also, too many monsters can ruin the pace of play.
</p>
&nbsp;
<hr />
<center>
Downloads :
</center><br />
<center>
<a href="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb5.zip"><span style="text-decoration: none">Getting Started Final Map</span></a>
</center><br />
<center>
<a href="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/itb6.zip"><span style="text-decoration: none">The Monster Map</span></a>
</center>
<br />
<hr />
<!--EOF@107--></ul><h1 id="669" name="669" class="book-h2">Simple Doors</h1><ul><!--
submitted by Andy Oct 04 
Updated Nov 04 
Updated Feb 2005 - Validated at W3C XHTML1.0 Transitional
-->
<h3>Hammer 3.4</h3>
<blockquote>Simple Doors - by Andy</blockquote>
<p>This is a guide to simple doors in Half-Life, and how to get them working using WorldCraft or Hammer 3.4<br /><br />
<a href="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/simpledoors/sdoors.zip">Simple Doors</a>.zip file contains a small <b><span style="font-style: italic">.rmf</span></b> file and a <b><span style="font-style: italic">.map</span></b> file. The layout we are using has 9 doors, each with a different function.
</p><!--break-->
<p>
<b>Building the door</b>:<br />
The first thing we need to look at are the entities involved in creating a door. Have a look in the Entity Guide at&nbsp;&nbsp;<a href="book/view/619#func_door" target="_blank"> Func_door </a>&nbsp;&nbsp;as our first set of doors use the Func_door Entity.
</p>
<center>
<a href="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/simpledoors/d1_large.jpg" target="_blank">
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/simpledoors/d1_small.jpg" alt="Func_door" height="215" width="300" hspace="8" vspace="8" /><br />
<small>Click to enlarge</small></a>
</center>
<p>
To make the door, build a brush 64 x 96 units and about 8 units wide. (<span style="font-style: italic">The reason I use this size is that most of the generic door textures in Half-Life are 64 x 96.</span>)<br />
Choose the door texture you want to use by browsing through the texture window, and then right click on your brush and choose 'Create Object'.<br /> You should now have a textured door. Left click the Texture Application tool and then Left click the front of the door. Click <span style="color: #ff0000">FIT</span> and the texture will align with the brush.<br />(<span style="font-style: italic"> Do not do this with the whole door selected as it will shrink the texture on the edges of the door and could cause errors later on. You should only fit the texture to the front and rear faces of the door.</span>)
</p>
<p>
<b>Getting the door to work</b>:<br />
Select the brush and click <span style="color: #ff0000"> To Entity </span> or <span style="color: #ff0000"> Ctrl+T </span>. Scroll through the available entities in the Object Properties box until you come to Func_door. Click on Func_door to select it and now you can modify the properties of your door.<br />
The first thing we want to do is get the door to open. In the first example I have chosen a sliding door.<br /> Looking at the Object Properties box in the picture above, the thing we need to concentrate on is the direction that we want the door to move in.<br />
Hammer gives us two methods to achieve this, <span style="color: #ff0000">The Angle Compass</span> and the <span style="color: #ff0000">Pitch Yaw Roll (Y Z X)</span> attribute.
</p>
<p>
For this door I have aligned the compass to point in the direction I want the door to go, when looking at the door in the Top(x/y) view. The Angle setting next to the compass will then display 270.<br />
If I wanted to use the Pitch Yaw Roll attribute, I could manually type in 0 270 0. This means the door will move in the 'Z' axis at 270 degrees.
</p>
<p>
<span style="color: #ff0000">Note</span>:<span style="font-style: italic"> Top (x/y) is the 'Z' axis, Front (y/z) is the 'X' axis and Side (x/z) is the 'Y' axis.</span></p>
<p>
The only other attribute I have set for the first door is a <span style="color: #ff0000">Lip</span> value of <span style="color: #ff0000">5</span>. The Lip value tells the door how far to retract along it's width. When triggered the door will move in the chosen direction the same distance as it's width.<br /> Lip value subtracts the number used from the width making the door travel more or less depending on the value set. If I enter a Lip value of '5' then the door will protrude out of the door frame by 5 units. If I wanted it to disappear altogether, then i would use a negative number.<br /> Using a 'Lip' value is important, because 'In Game' the door edge texture will look bad if it ends flush with the door frame.<br />
Ok, so that is door one. The next two door in the sequence are not much different.
</p>
<p>
The <b>Second door</b> will rise vertically because the Angle drop down box next to the Compass has been set to <span style="color: #ff0000">Up</span>. <br />Manually, I could have set this in the Pitch Yaw Roll attribute by entering -90 0 0 where this instructs the door to move -90 degrees in the 'Y' plane. <br /> I have also increased the lip value to '10' so that when the door is open, a larger amount is visible at the top.
</p>
<p>
The <b>Third door</b> is just a reverse of the first to give you a better idea of how it all works, however I have set the <span style="color: #ff0000">Delay before Close</span> to -1 so that the door stays open.
</p>
<p>
<b>Rotating Doors</b>:<br />
For rotating doors have a look in the Entity Guide at: <a href="book/view/619#func_door_rotating" target="_blank"> Func_door_rotating </a>.<br />
Nearly all doors that move other than in a straight plane are made using the func_door_rotating entity.
</p>
<center>
<a href="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/simpledoors/d4_large.jpg" target="_blank"><img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/simpledoors/d4_small.jpg" alt="Func_door_rotating" height="215" width="300" hspace="8" vspace="8" /><br />
<small>Click to enlarge</small></a>
</center>
<p>
In the Second set of doors, 4 to 6, I have made use of the func_door_rotating entity and the Origin texture.<br />
Here is a step by step guide to making a rotating door:
</p>
<ul>
<li>Build you basic 64 x 96 brush and texture it.</li>
<li>Build a small square brush about 8 x 8 x 50</li>
<li>Texture the small brush with the Origin Texture</li>
<li>Align the small brush so that it overlaps the door brush as though you were adding a hinge</li>
<li>Select the Door Brush, and hold Ctrl and select the Origin Brush</li>
<li>With both the brushes highlighted, click To Entity or Ctrl+T.</li>
<li>Select func_door_rotating from the Object properties box</li>
</ul>
<p>
The door is finished!<br />
That is all you need to do to make a swinging door.<br /> The position of the Origin brush is important, but the size is not. It acts like a hinge and let's the game engine know which way the door should go.<br /> The biggest mistake people make is that they don't tie both the origin and the door to the func_door _rotating entity. 
</p>
<p>
<b>Door 5</b> is slightly different in that I have placed the origin at the top of the door. This will make it move up and away from the player.<br /> To get this to work, you need to decide what plane you want the door to move in. In the example map, I wanted the door to move in the 'Y' plane or side view.<br /> To make the door move in the 'Y' plane you need to change the <span style="color: #ff0000">Flag Property</span> of the door. One of the options is 'Y axis", check this and the door will move in the 'Y" axis.
</p>
<p>
<b>Door 6</b> operates in the 'X' axis. I have added a small Origin brush in the top corner of the door and selected the Flag "X axis". The door will hinge on the Origin and move up and away. Understanding how Origin's work is vital when using func_door_rotating.
</p>
<p>
<b> Doors and triggers</b>:<br />
<b>Door 7</b> is a simple sliding door very similar to door 1. The difference here is that we are going to use a button to open the door.<br />
To achieve this we need a <a href="book/view/619#func_button" target="_blank"> Func_button</a>.
</p>
<ul>
<li> Build a small brush next to the door and assign that to the func_button entity. (Ctrl+T)</li>
<li> In the Properties of your func_button, add a 'Target' of <span style="color: #ff0000">door_7</span>.</li>
<li> In the 'Flag properties' check <span style="color: #ff0000">Dont Move</span>.</li>
<li> Select your door and add a 'Name" of door_7.</li>
<li>Under 'Locked sound' choose 'Latch locked'.</li>
</ul>
<p>
I have added a 'Move Sound' and a 'Stop Sound' to this door just to give it a bit of ambience and given the door a negative 'Lip' value.<br /> The reason for the negative Lip value is that with the Latched Locked sound added, the door will produce a locked sound when the player touches it regardless of wether it is open or not. To fix this, just add the negative lip so the player can't touch it.
</p>
<p>
<b>Door 8</b> is a simple locked door. To achieve this all you need to do is 'Name' the door and assign a 'Locked Sound' to it.
</p>
<p>
<b>Door 9</b> is slightly more complicated. It is locked from the outside and when touched by the player makes the 'Latch Locked' sound, but it swings open when approached from the other side. Setting this up is simple when you start with the basic swinging door:
</p>
<ul>
<li>In the Object Properties of the Door assign a 'Name' of <span style="color: #ff0000"> door_9</span>.</li>
<li>Assign a 'Master' of <span style="color: #ff0000"> door_9_master</span>.</li>
<li>Assign a 'Locked Sound' of <span style="color: #ff0000"> Latch Locked </span>.</li>
</ul>
<p>
(<span style="font-style: italic">Flag choice will depend on where your door is, but for this door I needed to check 'Reverse Direction' and 'One Way'. This will ensure that the door does not swing toward the player</span>.)
</p>
<p>
Add a <a href="book/view/623#multisource" target="_blank"> Multisource</a> and a <a href="book/view/625#trigger_multiple" target="_blank"> Trigger_multiple</a> near the door and set the 'Multisource up like this:
</p>
<ul>
<li>'Name' <span style="color: #ff0000"> door_9_master</span>.</li>
<li>'Target' <span style="color: #ff0000"> door_9</span>.</li></ul>
<p>Set Up the Trigger_multiple like this:</p>
<ul>
<li>'Target' <span style="color: #ff0000"> door_9_master</span>.</li>
</ul>
<p>
Approaching the door from the locked side will play the 'Locked Latched' Sound. The door will not open even if the player presses the 'Use' key. It wont open because the 'Multisource' is waiting for the trigger to be activated before allowing the door to open. 
</p>
<p>
The download example map makes use of textured lighting. Make sure you include a 'lights.rad' in your root folder for compiling. Check the Half-Life tutorials for more info on <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/5" target="_blank"> 'Lights.rad'</a>.
</p>
<p align="center">Download the <a href="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/simpledoors/sdoors.zip">Simple Doors</a> .zip</p>
<!--EOF@125--></ul><h1 id="834" name="834" class="book-h2">Creating a dark environment.</h1><ul><!--
Submitted by Andy
Updated  Feb 2005 - Validated at W3C, XHTML1.0 Transitional
-->
<h3>Hammer 3.4</h3>
<blockquote>Creating a dark environment - by Andy</blockquote>
<p>
Not all of the maps in the original HL were daylight bright, but most of the outdoor maps were. Counter-Strike has enabled the player to use &quot;Nightvision goggles&quot; for the first time, and there is no point in running around with them on, in full daylight.<br />
Here we will try to cover the easiest method of adding darkness to your level.
</p>  <!--break-->
<p>
With your outdoor area open in Hammer go to the tool bar and select <span style="font-weight: bold">Map</span> and then <span style="font-weight: bold">Map properties...</span> you should be presented with the <span style="font-weight: bold">Worldspawn Object Properties</span> box below:
</p>
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/darksky/darksky_1.jpg" width="400" height="317" alt="Dark Sky 1" title="Dark Sky 1" />
</center>
<center>
Hammer 3.5b shown
</center>
<p>
Change the <span style="color: #ff0000">environment map (cl_skyname)</span> to a suitable night type sky. <br />
The darker defaults in HL are:
</p>
<ul>
<li>night</li>
<li>space</li>
<li>black</li>
<li>dusk</li>
</ul>
<p>
You could use a day time sky texture, but it will look really odd, because the texture is not actually lit by the <span style="color: #ff0000">light_environment</span>. It will be bright and visible regardless of the settings you change. Changing the <span style="font-weight: bold">Default Light Level</span> in the Worldspawn Properties does not seem to do anything regardless of the figure entered.
</p>
<p>
<span style="font-weight: bold">Light_environment</span>:<br />
Add a light_environment (or a light_spot with FLAG: &quot;Is Sky&quot; checked) to your map. If you compile your map now, you will get something that looks like this:
</p>
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/darksky/darksky_3.jpg" width="400" height="300" alt="Dark Sky 3" title="Dark Sky 3" />
</center>
<p>
This is because the light environment has a default brightness of 200.<br />
Open the properties for the light_environment and adjust the <span style="color: #ff0000">4th</span> number in the sequence to a lower figure. The example map is set to 2.
</p>
<p>
<span style="color: #ff0000; font-style: italic">NOTE:</span> &nbsp; If you change it to 0 it won't go black, it will actually appear like a medium lit map. The other three numbers in the sequence are Red, Green, Blue identifiers. Using the <span style="color: #ff0000"> Pick Color</span> option will change these figures, but will not change the 4th number.
</p>
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/darksky/darksky_2.jpg" width="400" height="312" alt="Dark Sky 2" title="Dark Sky 2" />
</center>
<p>
You can change the Pick Color option to add atmosphere but you will notice that the actual brightness of the map is not effected by the Luminosity of the colour chosen. Changing the colour to a deep blue or red will give the map some more feel, if it is a bit lighter than the example map. 
</p>  
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/darksky/darksky_4.jpg" width="400" height="300" alt="Dark Sky 4" title="Dark Sky 4" />
</center>
<p>
Great, Now we have a dark outdoor map just waiting for some action. I added a small texture light just to give the map some perspective, and some thing to look at..  </p>
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/darksky/darksky_5.jpg" width="400" height="300" alt="Dark Sky 5" title="Dark Sky 5" />
</center>
<p>
If you have the SKY texture in other areas of your map, they will appear the same as this area. You only need <span style="font-weight: bold">one</span> light_environment in a single map regardless of where the sky textures are, however if you are using Zoners Half Life Tools 253 custom Build 1.7 then you can make use of the -noskyfix line for your RAD compile to make use of multiple light_environments.
</p>
<p>
There is a lot more you can do with the light_environment and skies, but this is just a really basic starter tutorial, If you are using ZHLT 253 1.7 then you have the option of adding <span style="color: #ff0000">-ambient</span> to your hlrad compile. Figures like:<br />
-ambient 0.0040 0.0040 0.0040<br />
Will add a small amount of ambient light to your shadows. The figures are very sensitive but the ones above seem to work best for general level design.
</p>
<!--EOF@67--></ul><h1 id="871" name="871" class="book-h2">Glass and Moving Doors</h1><ul><!--
Submitted by Andy  Dec 04
Updated  Feb 2005 - Validated at W3C XHTML1.0 Transitional
-->
<h3>Hammer 3.4</h3>
<blockquote>Glass and Moving Doors - by Andy</blockquote>
<p>
Most of the door textures available in Half-Life have areas that are just dying to be filled with glass and the problem for most new mappers seems to be getting the glass to move with the door.<br /> 
To get the most out of this tutorial, you should have an understanding of Glass Rendering and the basics of Doors.<br />
I have added a list of RUST tutorials below to help you on your way.
</p><!--break-->
<p>
To get started, let's look at the humble triggered sliding door on the left of the picture below.
</p>
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/glassdoors/glassdoors_fig4.jpg" height="276" width="400" alt="Finished Product" title="Finished Product" />
</center>
<p>
<span style="font-weight: bold">A sliding door with moving glass</span>:
</p>
<p>
I started off with a brush textured C1A0B_DR4b as the basis for a simple sliding steel door. It isn't as well defined as some HL textures as to where the glass fits, but it does provide a good base for testing.<br />
Create a brush approximately the size you want your 'see through' glass panel to be. Size it against the door and position it so that it passes through the door.<br /> 
Things to consider are that the look ahead height is about 50 units, so you want your glass to be positioned in the door with the center around that height.<br /> 
I have positioned it just above the texture's buttons, and fitted it so that it looks as though it should be there. When you have your brush positioned correctly, create it <span style="color: #ff0000">(Enter)</span> and select the Carve <span style="color: #ff0000">(Shift+X)</span> tool to create a hole for the glass. When you Carve, remember never to Carve entities. <br />
Remove your newly created brush from the hole, as we are going to use that as the door glass later. Select all the parts of your door (NOT the glass piece) and assign them to the func_door entity. Open the door properties and adjust them to suit the direction and speed of the door and make sure that the FLAG &quot;Use Only&quot; is NOT checked. (<span style="font-style: italic">If you want your door to be &quot;Use Only&quot; then the properties of the glass and the door must be exactly the same.</span>)
</p>
<p>
<span style="font-weight: bold">The Glass</span>:
</p>
<p>
The piece you used to carve the hole in the door only needs a few modifications. First, assign it to a func_door entity and give it exactly the same attributes as your sliding door. Don't forget the angle, so that it moves in the same direction as the door. To make the glass see-through set the Render Mode to &quot;Texture&quot; and the Render FX to about 90 (<span style="font-style: italic">a setting of 0 is totally transparent and 255 is solid</span>).
</p>
<p>
An important part of setting up the glass is the &quot;lip&quot; value.  For sliding doors, the lip value of the glass should be equal to the size of the opening edge frame of the door. When you place the glass in the door, make sure that you stretch it to match up with the outer edge of the door that will move into the wall.<br />
Another way to acheive the same effect is to make the glass the same size as the hole and set the lip value to equal the right-hand frame thickness added to to the left-hand frame thickness.
</p>
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/glassdoors/glassdoors_fig1.jpg" width="220" height="281" alt="Glass Lip" title="Glass Lip" />
</center>
<p>
<span style="font-weight: bold">Making it Work</span>:
</p>
<p>
To get everything going, add a simple button and set it to trigger the door. That's about all there is too it. You can set the FLAG properties of the door and button to &quot;toggle&quot;  if that's the effect you want to achieve. Just don't forget that whatever you use as door properties must be set for the glass as well.
</p>
<p>
On a final note, adjusting the texture inside the hole you cut for the glass is a good idea, as the area is now visible.
</p>
<p>
<span style="font-weight: bold">Wooden swinging (rotating) door with glass</span>
</p>
<p>
Based on the idea above, we need to add two glass panels with two &quot;origin&quot; brushes.<br />
Create a new wooden door (I used the FIFTIES_DR6A2 texture) with an Origin brush and assign it to the func_door_rotating entity. Create two new glass panels to fit so that they are thinner than the door but extend to the hinged side of the door. Add an Origin brush to each of the glass panels and assign the each panel to the func_door_rotating entity.<br /> 
The glass panels should have the same settings as the door, with the exception of the Render Mode and RenderFx for the glass.<br /> 
In the Top View make sure all the Origin brushes are all in line and reasonably centered on the edge of the panels. To trigger the door open I have used a simple trigger_multiple that runs through the door. Just set its Target to the name of the door and glass.
</p>
<p>
That is about it, but just a few things to consider, if you are going to assign locked or moving sounds to this door it is a good idea to make sure the doorframe and the large glass panel have the same properties selected.<br /> 
As for setting the Flag properties of the door and the glass panels, well it depends on what you want your door to look like and how you want it to behave. Just remember to set the flags for all three items and to make sure they all have the same Name(targetname).
</p>
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/glassdoors/glassdoors_fig3.jpg" width="268" height="271" alt="Origin Placement" title="Origin Placement" />
</center>
<p>
The front shot of the door shows the two glass panels (white) grouped with their Origin brushes. It also shows the position of the original door and Origin brush (red).
</p>

I have included a small zip file containing an .rmf and .map file called<br /><center><a href="http://www.gamedesign.nethttp://www.gamedesign.net/content/half-life/tutorials/wchbasic/glassdoors/glassdoors.zip">Glassdoors.zip</a>
</center>
<hr />
<p>
<span style="font-weight: bold">Other Door and Glass related tutorials</span>:
</p>
<p>
<a href="http://www.gamedesign.net/book/view/6">Creating Proximity Doors</a><br />
<a href="http://www.gamedesign.net/book/view/669">Simple Doors</a><br />
<a href="http://www.gamedesign.net/book/view/196">How to make respawable glass</a>
</p>
<hr/>
<!--EOF@82--></ul><h1 id="875" name="875" class="book-h2">Rope, Water and Waterfalls</h1><ul><!--
Submitted by Andy 2004
Updated  Feb 2005 - Validated at W3C XHTML1.0 Transitional
-->
<h3>Hammer 3.4</h3>
<blockquote>Rope, Water and Waterfalls - by Andy<br />
Dripping water info, special thanks to 'yesukai'</blockquote>
<p>
<span style="font-weight: bold">ROPE</span><br />
There are a few ways to make ROPE, but I have found the easiest way is to create a brush <span style="color: #ff0000">1</span> unit by <span style="color: #ff0000">1</span> unit in the 2D top (x/y) view. No need to do anything special to it just yet, but stretch it out to the desired length.
</p><!--break-->
<p>
If you want to be able to walk up to the rope and begin to climb it, then it will have to be about <span style="color: #ff0000">66</span> units from floor level. Not much fun there, let's make it difficult and set it at about <span style="color: #ff0000">75</span> units from the floor, two things happen here. Firstly, your player will be able to walk under it, and secondly, they will have to jump to get on it.<br />
Back to the rope. You should have a perfectly formed square block. Let's texture it.
</p>
<p>
There are some textures that lend themselves to being ROPE, the main one I use is actually called that! <span style="color: #ff0000">ROPE</span> but the fun doesn't end there. If you apply the ROPE texture to your newly formed brush, then you will get what looks like a strange catapillar.<br />
To make the ROPE more realistic, reduce the <span style="font-weight: bold">Y</span> Scale to about <span style="color: #ff0000">0.30</span> and it should start looking more ropey, if there is such a thing.
</p>
<p>
Adjust the <span style="font-weight: bold">Rotation:</span> to around <span style="color: #ff0000">30</span> and that will make the ROPE spiral slightly. Just a few other things while we are at this, Click on the <span style="font-weight: bold">Justify:</span> buttons Left or Right, Bottom or Top, but whatever you do, don't click <span style="font-weight: bold">Fit:</span>, that makes the texture fit the brush, and might be Ok for doors, but is disasterous for ROPE.</p>
<p>
To make your ROPE climbable, you need to create another brush and assign it to the entity <span style="color: #ff0000">func_ladder</span> (If you turn the rope brush into a func_ladder, it wont show up when you compile, because there are no Render Modes with the ladder entity). The easiest way to do this is to copy the rope brush and extend it so that it is about a unit either side of the original textured rope brush. Select your new brush and move it away from the original rope brush and select <span style="font-weight: bold">To Entity</span>, choose func_ladder. Move your ladder brush back over the top of the rope brush. You now have a really good looking ROPE, with a ladder brush covering it. </p>
<p>
You might be wondering what the smallest unit is in Half-Life. Well it is half of one unit, because you can take your ROPE from the above example and use Vertex Manipulation to merge the corner verticies to create a little triangle that is half a unit in size. This shouldn't effect your texture, but you might like to tweak the rotation angle, or Scale again.<br />
Side by side, there really isn't much difference.<br />
</p>
<p>
<span style="font-weight: bold">What about swinging rope?</span><br />
We know that you can't have two entities assigned to the same brush, so how are we going to get a rope to swing, and be climbable at the same time? Your guess is as good as mine.... They did it in OpFor so it should be easy? Well after hours of testing the <span style="color: #ff0000">func_pendulum</span> and reading everything to do with rope in HL, I couldn't do it. <span style="font-weight: bold">KingNic</span> came good and provided the answer:<br />
<span style="font-style: italic">The ropes in Opposing force were a specially coded entity which used models to make the rope and had simple physics applied. You can't recreate the same effect in normal HL without coding.</span>
</p>
<p>
<span style="font-weight: bold">WATER</span><br />
Water type textures in HL begin with the <span style="color: #ff0000">!</span> symbol. To have a look at all the available water textures just open the texture browser and type <span style="color: #ff0000">!</span> in the <span style="font-weight: bold">Filter</span> box. You should be presented with about 40 different textures. While we are on the subject, here are the basic meanings behind the preface symbols for textures:
</p>
<blockquote>
<span style="color: #ff0000">{ </span>&nbsp;&nbsp;&nbsp;&nbsp; Transparent<br />
<span style="color: #ff0000">! </span>&nbsp;&nbsp;&nbsp;&nbsp; Water<br />
<span style="color: #ff0000">~ </span>&nbsp;&nbsp;&nbsp;&nbsp; Light<br />
<span style="color: #ff0000">+ </span>&nbsp;&nbsp;&nbsp;&nbsp; Animated<br />
<span style="color: #ff0000">+A </span>&nbsp; Animated Toggle (Max 10 frames)<br />
<span style="color: #ff0000">- </span>&nbsp;&nbsp;&nbsp;&nbsp; Random Tiling
</blockquote>
<p>
To make water, just add water! sorry couldn't help myself. Build a brush the size and shape you want, and assign a water texture to the whole brush. That is the most basic way of acheiving water. But it wont do things that the water in Half-Life normally does. For instance, it wont react correctly to light, it won't have any animated wave height and it wont be very realistic. To fix this we need to tie the water brush to an entity.
</p>
<p>
Get your brush the size and shape you want, and then assign it to the func_water entity. Select <span style="font-weight: bold">To Entity</span> and choose func_water.<br />
Remember that when you add a water texture to a brush, after compiling, only the top face of the brush will actually show the texture, so make sure that the visable part of your brush is the top face, any sides that show will be opaque and look a little weird. Great, now we have a water brush. You will also find that if you have a large block of water, and a large wave height that you will have to stretch the <span style="color: #ff0000">X : Y</span> Scale of the texture otherwise it will look as though it is breaking up. <br />Let's have a look at the entity properties of func_water.
</p>
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/rope/rope_water.jpg" width="350" height="276" vspace="10" alt="Water 1" title="Water 1" />
</center>
<p>
The most useful attribute of func_water is the <span style="font-weight: bold">Wave Height</span> propety. This is set by default to <span style="color: #ff0000">3.2</span> This is the same default as assigned by the <span style="font-weight: bold">Worldspawn, Map Properties</span> function. But the good thing about using the func_water properties, is that you can assign different wave heights to seperate brushes. There is no need to change any of the other properties, as the defaults will give you acceptable water.
</p>
<p>
<span style="font-weight: bold">A Waterfall</span><br />
Moving water is a different story. If you assign a water texture to a vertical func_water brush, it wont flow. Even if you assign a Scrolling texture to the brush it still wont flow. The only way I have found to make the water flow is to assign the brush to a <span style="color: #ff0000">func_conveyor</span> entity. The default speed on a func_conveyor is 100, and that might be a bit quick, I find that 50 to 70 seems Ok. The added bonus in using the func_conveyour is that you can set it's Flag Property to Not Solid and that will allow you to walk through your waterfall.
</p>
<p>
To make it more realistic change the Render Mode to <span style="color: #ff0000">Texture</span> and the FX Amount to <span style="color: #ff0000">255</span>. It will still look a bit block like, so you can then select all the func_conveyor brushes and give them the { Blue texture. This will make them transpearent with the Render Mode settings mentioned above. Now for the water texture, select only the front faces of the water and assign the scrolling texture to them. In the example map I used the Xen Scrolling water texture <span style="color: #ff0000">SCROLLXEN1</span>.
</p>
<p>
I have also done a bit of the good 'ol Vertex Manipulation to to top brush so that it looks a bit more realistic. I added an Ambient_Generic and assigned the <span style="color: #ff0000">ambience/waterfall3.wav</span> sound to it. OK, so it doesn't look like real water, but it is as close as you are going to get in HL.<br /> 
If your water isn't flowing the way you want it to, adjust your textures rotation. Best advice I can give on this is to highlight the face of the texture with the Texure tool open. Notice that on the face of the texture (3D view) in the center there are three arms of an indicator Yellow, Blue and Red. If you change the Rotation of the texture until the Yellow arm is facing the direction you want the texture to scroll then it will scroll that way after compiling.
</p>
<p>
<span style="font-weight: bold">Dripping Water</span><br />
Dripping water is really easy to create, the main idea I follow comes from <span style="font-style: italic">Jeff 'Yesukai' Pritchard</span> who suggests using an <span style="color: #ff0000">evn_blood</span> to create the effect. Place an env_blood in your map and change it's attributes: <span style="font-weight: bold">Name</span>, I creatively called mine Drip.<br /> 
Pitch Roll Yaw (Y Z X) to <span style="color: #ff0000">90 0 0</span> or Down, and the <span style="font-weight: bold">Amount of blood (damage to simulate)</span> to <span style="color: #ff0000">1</span>. In the Flag Properties, Check Blood Stream
</p>
<p> 
Next we need a multi_manager. Assign the multi_manager a <span style="font-weight: bold">Name</span> and enter new Key value for Drip and the Name of your multi_manager (so that it reactivates itself), set the values of these to something like <span style="color: #ff0000">0.8</span>. Don't forget to check the Multithreaded Flag. Now a trigger, I just used a trigger_auto to target the multi_manager as I figured that the drips might as well start with the map.
</p>
<center>
<img src="content/half-life/tutorials/wchbasic/rope/rope_water2.jpg" width="450" height="337" alt="Rope 1" title="Rope 1" />
</center>
<hr />
<center>I have added a small RMF to help you out:<br />
<a href="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/rope/rope.zip">Rope.zip</a>
</center>
<!--EOF@82--></ul><h1 id="876" name="876" class="book-h2">Texture Application</h1><ul><!--
Submitted by Andy Dec 04
Updated  Feb 2005 - Validated at W3C XHTML1.0 Transitional
-->
<h3>Hammer 3.4</h3>
<blockquote>Texture Application - by Andy</blockquote>
<p>
There is more than one way to apply texture so this isn't going to show you all of them, just the basics. What I am going to discuss is the best way to avoid the error <span style="color: #ff0000">Bad Surface Extents</span> and weird texture placement.
</p><!--break-->
<h4>
The Map
</h4>
<ul>
<li>Open Hammer 3.4</li>
<li>Open a new map.</li>
<li>On the top <span style="font-weight: bold">Tool Bar</span> click <span style="font-weight: bold">View</span>.</li> 
<li>Highlight <span style="font-weight: bold">Screen Elements</span> and make sure that <span style="font-weight: bold">Texture Bar</span> is ticked.</li>
</ul>
<p>
Your Screen should look something like this:
</p>
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/textureapp/text_align1.jpg" width="400" height="235" alt="The Screen" title="The Screen" />
</center>
<p>
Using the <span style="color: #ff0000">Block Tool</span> draw a square <span style="color: #ff0000">256</span> x <span style="color: #ff0000">256</span> x <span style="color: #ff0000">128</span>, but do not create it yet.<br />
Now Click on the <span style="font-weight: bold">Browse</span> button in the Texture Group: shown above you should now be able to see all the textures you have listed in the Tools>Options>Texture Tab that you added when you set Hammer up.<br />
Every time you open a new map, you need to make sure that the textures listed in the setup are the one's you want to use. Hammer does not save previous texture listings, so you can't switch between them. (<span style="font-style: italic"> Lot's of people have asked for this to be included! Maybe in Hammer 4?</span>).<br />
If you want to Browse a single .wad file that is in your texture list, just click the down arrow where it say's <span style="font-weight: bold">All Textures</span> and choose the .wad file you want to browse.
</p>
<p>
To select one of the textures from the Browse screen (<span style="font-style: italic">I used OUT_HCW2A because it is a <span style="color: #ff0000">128</span> x <span style="color: #ff0000">128</span> texture</span>), just double click on it and you will be returned to the main map screen. Notice how the texture you double clicked on is now shown in the Texture group: It also tells you how big it is.<br />
Right Click on your white dotted box in the 2D views and select <span style="font-weight: bold">Create Object</span>. You are now the proud owner of a textured cube. Select the cube and hollow it to a wall thickness of 2.<br />
First thing to do is click on <span style="font-weight: bold">Ignore Group</span> and select each of the walls. Now bring up the <span style="font-weight: bold">Toggle Texture Application</span> by clicking the tool or using Shift+A.
</p>
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/textureapp/text_align2.jpg" width="400" height="327" alt="The Walls" title="The Walls" />
</center>
<p>
This is where all the fun starts.<br />
Click on <span style="font-weight: bold">B</span> (Bottom), <span style="font-weight: bold">C</span> (Center) or <span style="font-weight: bold">T</span> (Top)  to align the texture. Sometimes it is useful to use the <span style="color: #ff0000">Hide Mask</span> button, to get rid of the red and see what your doing, the brushes will be identifyable by there own little orientation arrows. This texture works well with <span style="font-weight: bold">Top</span> or <span style="font-weight: bold">Bottom</span> keys because it is a 128 unit texture.<br />
With the <span style="color: #ff0000">Face Properties</span> box open, you can just click the floor and add your floor texture. But this will only change the face of the floor, not the whole brush. To texture the whole brush, close the Face Properties box and select the brush, then open it again and do the same as above.
</p>
<h4>
Doors
</h4>
<p>
The easy way to texture doors is to find a door texture you like, and build a brush the size of the texture. For this example I have chosen the <span style="color: #ff0000">LAB1_DOOR7</span> texture. Make a brush <span style="color: #ff0000">64</span> x <span style="color: #ff0000">96</span>, browse to the texture, and create the textured brush the same as you did before.<br />
Great, the texture is all over the place... Bring up the <span style="font-weight: bold">Texture Application Tool</span>. Notice how the texture is already shown in the tool, that is because you used the texture group Browse to find it. Now click on the face of the door so that only that face is higlighted. Click on the <span style="font-weight: bold">Fit</span> button, and the texture will fit the face. This is important way to get textures to look right if your door brush is not the same size as the texture.<br />
So why didn't I just FIT the whole door as one? becasue the texture tool will then fit the whole door texture onto <span style="font-weight: bold">each face</span>, so there will be a really weird door texture on the sides and top and bottom.
</p>
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/textureapp/text_align3.jpg" width="226" height="237" vspace="8" alt="The alignment" title="The Alignment" />
</center>
<p>
To fix those, highlight the side and click <span style="font-weight: bold">L</span> (Left) or <span style="font-weight: bold">R</span> (Right). That normally makes it look ok, but you might want to fine tune the alignment with the <span style="color: #ff0000">Shift X : Y</span> settings. To fix the top and bottom, use the <span style="font-weight: bold">T</span> (Top) or <span style="font-weight: bold">B</span> (Bottom) buttons.
</p>
<h4>
Things to remember
</h4>
<p>
Try to apply texture at Scale 1:1 initially, and resize visible faces to reduce r_speeds, where possible.<br />
Don't use the <span style="font-weight: bold">Fit</span> button to texture to a whole brush, just do the face you need.<br />
Spend some time using the settings on the texture tool to find out what they do. Try selecting multiple faces and using the <span style="color: #ff0000">Treat as One </span> setting to do lot's of brushes at once. Great for getting Hallways to look good.<br />
If all else fails, read the Hammer Help file (Texture Application Mode). <span style="font-style: italic">Which is what you should have done in the first place!</span>
</p>
<hr />
<center>I have added a small RMF to help you out:<br />
<a href="http://www.gamedesign.net/content/half-life/tutorials/textureapp/text_align.zip" style="text-decoration: none">Text_Align.zip</a>
</center>
<!--EOF@70--></ul><h1 id="883" name="883" class="book-h2">Grunts and Gun's</h1><ul><!--
Submitted by Andy Dec 04
Updated  Feb 2005 - Validated at W3C XHTML1.0 Transitional
-->
<h3>Hammer 3.4</h3>
<blockquote>Grunts and Guns - by Andy<br/>
Special thanks to Raymond Talavera and Handy Vandal</blockquote>
<p>
Remember that rocket launcher in the Half-Life map <span style="font-weight: bold; font-style: italic">On a Rail</span>?&nbsp; The one that was at the end of the tunnel. You had to kill the grunt to get it to stop firing. 
</p><!--break-->
<center>
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/gruntgun/gruntgun_1.jpg" width="400" height="300" vspace="6" alt="turret" title="turret" />
</center>
<p>
This tutorial assumes that you can already build a turret. In this example I have used the func_tank entity because you can set the Bullets to &quot;None&quot; and this saves you having to go into God Mode to test it.<br />
The turret I have used was built from scratch as I had a particular field gun theme in mind, but you don't have to limit yourself to the func_tank. This tutorial will work with the func_tanklaser, tankmortar or rocket.
</p>
<p>
Place your func_tank in the map and give it a name. I have used <span style="color: #ff0000">Gun1</span>. <br />
The only other thing you have to do is set Active on in its flag properties. Don't set the Controllable flag just yet, we will discuss that later.
</p>
<p>
Place a monster_grunt behind it and set the grunt properties to:<br />
Trigger Target: <span style="color: #ff0000">Gun1</span> (the name of the func_tank)<br />
Trigger Condition: <span style="color: #ff0000">Death</span> (<span style="font-style: italic">the reason I haven't set it to 50% is that I had trouble with the tank stopping if the grunt was killed outright on the first shot - sometimes the gun would continue to function</span>)
</p>
<p>
And in the monster_human_grunt Flag properties check &quot;Prisoner&quot; as this will stop the grunt from leaving the gun and attacking.<br />
You can also check Gag if you want the grunt to stay silent.<br />
Ok, run the map and you should have a functioning gun with a grunt behind it.<br />
Shoot the grunt, the gun stops! 
</p>
<p>
<span style="font-style: italic; color: #ff0000">Note</span>:<br />
If the gun doesn't stop when you kill the grunt, then go over the settings again. If it still doesn't work you can add a trigger_relay and get the grunt to Trigger Target the relay's name, and the relay to target the func_tank, with the Trigger State set to <span style="color: #ff0000">Off</span>.  Either way you now have a gun that will target the player.
</p>
<p>
<span style="font-weight: bold">What if you want to kill the grunt and then let the player use the gun?</span>
</p>
<p>
Taking what you have achieved above, copy your tank.
</p>
<ul>
<li>Give it a name of <span style="color: #ff0000">Gun2</span>.</li>
<li>Change the Render Mode attribute to <span style="color: #ff0000">Texture</span>.</li>
<li>Leave the FX Amount set at <span style="color: #ff0000">0</span>.</li>
<li>Set the Controllable flag on, and make sure Active is <span style="font-style: italic">not</span> checked.</li>
<li>Place gun 2 in the exact same place as gun 1, so that they look like one in all views.</li>
<li>Create a brush and tie it to a func_tankcontrols entity, Set the Tank Entity Name to <span style="color: #ff0000">Gun2</span> and place the brush so Gun2 will be controllable.</li>
</ul>
<p> 
Check out the <a href="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/gruntgun/gruntgun.zip"><span style="font-weight: bold; text-decoration: none">Downloadable Example</span></a>:<br /> 
The func_tankcontrols is placed at the player end of the gun, but to make it useable a clip brush is added so the player won't get caught on the gun. Also in the initial trial the corpse of the grunt got in the way; Check Fade Corpse in the grunt's properties to fix this.
</p>
<p>
Add two env_render entities to your map. For ease of use I put them above and to the right of the gun.<br />
The first env_render:
</p>
<blockquote>
Name it <span style="color: #ff0000">unrend1</span>.<br />
Target is <span style="color: #ff0000">Gun1</span>.<br />
Set the Render Mode to <span style="color: #ff0000">Texture</span>.
</blockquote>
<p>
The second env_render:
</p>
<blockquote>Name it <span style="color: #ff0000">rend2</span>.<br />
Target is <span style="color: #ff0000">Gun2</span>.<br />
Leave the rest of the settings at their defaults.
</blockquote>
<p>
Add a multi_manager to your map. Name it <span style="color: #ff0000">rendermm</span>. With Smart Edit off, add the following keys and values:<br />
</p>
<blockquote>
unrend1 <span style="color: #ff0000">0.2</span><br />
rend2 <span style="color: #ff0000">0.2</span><br />
gun1 <span style="color: #ff0000">0</span>
</blockquote>
<p>
Click on your grunt, and change his Trigger Target property to <span style="color: #ff0000">rendermm</span>.
</p>
<span style="font-weight: bold">So what's happening?</span><br />
<p>
The gun will commence firing when it has the player in range.<br />
Shooting the grunt triggers <span style="color: #ff0000">rendermm</span> which instantly switches off <span style="color: #ff0000">Gun1</span>, then triggers <span style="color: #ff0000">unrend1</span> and <span style="color: #ff0000">rend2</span>.<br />
Unrend1 makes Gun1 disappear. Rend2 makes Gun2 appear and Gun2 is flagged as Controllable.<br />
The player can now use the gun!
</p>
<img src="http://www.gamedesign.net/content/half-life/tutorials/wchbasic/gruntgun/gruntgun_2.jpg" width="514" height="427" alt="Entity Setup" title="Entity Setup" />
<p>
Just a few things added to this map to make it more realistic, I have added another multimanager, an env_shake and an ambient_generic because the func_tank is set to <span style="color: #ff0000">No Bullets</span>. There is no need to add the ambient_generic if you set the gun to fire something as it is already included as part of the entity. 
</p>
<p>
multi_manager:<br />
Name set to <span style="color: #ff0000">mm2</span>.<br />
Smart edit off and keys and values added for bang, <span style="color: #ff0000">0</span> and shake, <span style="color: #ff0000">0</span>.
</p>
<p>
env_shake:<br />
Name set to <span style="color: #ff0000">shake</span>.
</p>
<p>
ambient_generic:<br />
Name set to <span style="color: #ff0000">bang</span>.<br />
WAV File Name set to <code>weapons/explode3.wav</code>.
</p>
<p>
To get this part of it to work, you need to set Gun1 and Gun2 to Target <span style="color: #ff0000">mm2</span>. 
That way mm2 will turn the sound and shake on for Gun1 when it fires, and turn it on again when Gun2 is fired by the player.
</p>
&nbsp;
<!--EOF@109--></ul><h1 id="1044" name="1044" class="book-h2">Security Cards</h1><ul><!--submitted by Andy 01 Apr 05-->
<h3>Hammer 3.4</h3>
<blockquote>
Security Cards - by Andy<br />
</blockquote>
<p>Here's a really quick tutorial about getting a key to open a door (there might be an easier way to do this but I found that this method works pretty well).  You can also use the key in other levels by just cloning the door, trigger and multisource.
</p>
<p>The idea here is to make sure that the door will not open until you have the key. First up place an <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/958#item_security">item_security</a> entity, an <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/954#env_global">env_global</a> entity and a <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/959#multisource">multisource</a> in your map. Oh yeah, don't forget the door and the card scanner.
</p>
<p>In the properties of the item_security entity, set the 'Target' to the name of the env_global.<br />
I have used the name card to make things easy. [ Something of interest here is that you could also use a world_items entity because it does the same thing.]
</p>
<p> In the properties of the env_global entity, set the Name to card, Global State to Set to cardtaken, Trigger Mode to On and Initial State to Off.
</p>
<p>In the properties of the multisource set the Name to Cardms and Global State Master to cardtaken. 
</p>
<p>You need to set the properties of the door and the door's <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/955#func_button">func_button</a> (card scanner) so that it actually works. The card scanner does not need a name; the only properties that really need 
setting are the Target, in this case door2 (the name of the door) and 
Master, cardms (the name of the multisource). If you want the door to close behind the player, make sure that Toggle is not checked in the flag properties and that the door has the same flag.
</p>
<b>So What's Going On?</b>
<p>Picking up the security card calls the global (card) which sets the state to cardtaken. 
The multisource will not let the func_button operate until the cardtaken 
state has been called and now that it has, it allows the func_button to operate.
</p>
<p>There are <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/content/half-life/tutorials/wchbasic/secards/securitycard.zip"><b>two maps provided</b></a> because I wanted to prove the Global.</p>
<center><img src="content/half-life/tutorials/wchbasic/secards/securitycard.jpg" width="250" height="188" alt="Final map" title="Final Map" /></center>
<p>
So this is what it looks like. Someone has bashed poor old Barney on the head, and the key is by his side . Try using the card scanner on the table before you get the card. The set of entities used lend themselves to endless possibilities, so have fun and if you find more uses then let us know through the forum.</p>
<hr>
<blockquote>This tutorial first appeared at <a href=http://www.twhl.co.za/index.php?">TWHL</a> in 2002, as an attempt to duplicate a tutorial I once read. I believe the original article was written by Venomus @ The SpawningTank and all credit for the initial guide should go to him.</blockquote></ul></body></html>