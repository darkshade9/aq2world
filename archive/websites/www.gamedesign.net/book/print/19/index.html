<html><head><title>Common Editing Errors FAQ</title><base href="http://www.gamedesign.net/" /><style type="text/css">
@import url(misc/print.css);
</style></head><body><h1 id="19" name="19" class="book-h1">Common Editing Errors FAQ</h1><h2>Common Editing Errors - FAQ</h2>
<blockquote>
		By Richard Neff, David Hyde & Mad Dog
</blockquote>

<!-- Link to Mapspy -->

<br>
<br>


 <p>This is an attempt to answer some of the more common errors that occur in Quake 2. 
	This is not meant to be a comprehensive list! There may be plenty of errors that 
	are not covered - this is merely an attempt to document the causes/solutions of 
	the more frequent ones.  Additionally, you may want to visit the 
	<a href="">Q2 Errors Tutorial</a> 
	here at Rust.</p>

 <p>Press Ctrl+F to search for a specific word or phrase (Assuming your browser 
	supports the find command.)<p>
	<a href="http://mapspy.gamedesign.net/"><img  src="http://www.gamedesign.net/content/quake2/faq/mapspy.jpg"></a> 
	- Denotes that <a href="http://mapspy.gamedesign.net/">MapSpy</a> can be used to 
	help troubleshoot or fix this error message.</p>

	<!-- consider: index here with anchor refs -->

<hr color=black noshade width=75%>
<ul type="square">
	<li><b>Bounds out of range</b> <!-- inc start img --> <a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
	 <p>This error may be caused by one of two conditions. The obvious one is a brush 
		that has one or more vertices outside the +/- 4096 limits. The not-so-obvious 
		one is a brush that is missing a plane (which might happen if you manually 
		edit your .map file, and also is a possible result of brush subtraction operations).
		An oft-misunderstood fact is how brushes are constructed for the Q2 engine... 
		the x,y,z triplets in your .map file are NOT necessarily brush vertices - they 
		are simply points that define the plane. Brushes are constructed by starting 
		with an infinite solid and then removing everything on one side of the planes 
		that define the brush. This, coincidentally, is why you cannot have a concave 
		brush (think about it). In the case of a cube with the top face missing, the 
		brush will be infinitely tall (infinity in Q2 being 8192, of course)... which 
		leads to the bounds out of range error.</p>

	<li><b>Duplicate Plane</b> <a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
	 <p>This error was likely caused by an edge manipulation where you pulled one edge 
		toward the center of a brush such that two faces now lie on the same plane - for 
		example turning a cube into a wedge.  It could also be the result of a brush 
		subtraction operation. </p>

	<li><b>FloatPlane: bad normal</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
	 <p>Collinear points are usually to blame for this error. In many cases, 2 points are 
		identical. This error is sometimes caused by faulty edge manipulation: pulling one 
		edge of a face until it lines up with another edge of the same face, for example.</p>

	<li><b>Microbrush</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
	 <p>Microbrushes have a volume less than a 1x1x1 unit cube. Microbrushes are 
		frequently generated by complex brush subtraction operations, but might also be 
		generated by editors with floating-point conversion problems. In the first case, you 
		will generally be better off building complex objects manually rather than using 
		brush subtraction. In the second case, you can prevent this error by insuring that 
		brush vertices lie on grid units. Microbrushes are frequently drawn incorrectly in 
		the game, so you will likely want to find and delete this brush.</p>

	<li><b>Mirrored Plane</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
	 <p>This error indicates that a brush has no thickness in one or more directions, i.e. 
		opposing faces of the brush lie on the same plane. This error may be generated by 
		building a brush less than 1 unit thick - one face's coordinate gets rounded up, 
		and the opposite face's coordinate gets rounded down. This situation can be 
		avoided by insuring that a brush's vertices lie on grid units.</p>

	<li><b>Mixed Face Contents</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
	 <p>Content properties must be identical for all faces of a brush. You <b>can</b>, 
		however, have different surface properties.</p>

	<li><b>No visible sides on brush</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
	 <p>This error indicates that the bounding box coordinates for the brush are 
		completely outside the +/-4096 limits in one or more directions. Note that 
		this error may be generated by a faulty bounding box being calculated by 
		qbsp3. In this case, one or more faces of the brush are fouled up to the 
		extent that you will probably be better off deleting the brush and 
		re-creating it.</p>

	<li><b>Origin brushes not allowed in world</b> <!-- inc end img --><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
	 <p>This error is frequently caused by attempting (but failing) to add an 
		origin brush to a func_door_rotating or func_rotating. Methods for grouping 
		origin brushes with entities differ with the various editors. Consult your 
		editor's documentation.</p>

	<li><b>Plane with no normal</b> 
	 <P>This error generally indicates that the points defining a plane are 
		collinear or that 2 points are identical. Find and delete this 
		brush.</P>

	 <P>Still can't find the QBSP error you're looking for? Visit the <A 
		href="/content/quake2/tutorials/errors/qbsp3">Q2 
		QBSP Errors</A> tutorial here at Rust.</P>
</ul>

<hr color=black noshade width=75%>
<h3>QVIS Errors</h3>

<ul type="square">
	<li><b>Leafportals saw into leaf</b>
	 <P>It's not so simple as finding the single offending "leafportal" brush. As 
		your map increases in size or simply changes brushes that generate no errors 
		can become causes of leafportal errors. Worse is that subsequent compiles of 
		the unchanged map may produce more or fewer leafportal errors, and this lack 
		of consistency makes finding the error even more maddening.<br>
		<br>
		Often the worst offenders are brushes with many faces sharing the same vertex (like a 
		spike or a skewed brush with a mitered corner).<br>
		<br>
		Advice often given is to "simplify". While this is useful advice up to a point I suppose, tracking 
		down specific troublesome brushes as they relate to their environment (your 
		map) is the real key (good luck). If you do find them, I've recently 
		discovered that making them and the brushes they adjoin detail brushes may 
		correct the problem, as will making them brush entities like func_walls. 
		(Since this is a vis error, this makes sense when you think about 
		it).</p>

	 <p>Still can't find the QVIS error you're looking for? Visit the <a 
		href="/content/quake2/tutorials/errors/qvis3">Q2 
		QVIS Errors</a> tutorial here at Rust.</p>
</ul>

<hr color=black noshade width=75%>
<h3>QRAD Errors</h3>

<ul type="square">
	<li><b>face with too many light styles (x y z)</b>
	 <p>There are too many different dynamic light styles, such as flashing 
		lights, that hit a single face of a brush. The limit is 4 light styles 
		that can hit a face. The best solution is to reduce the number of 
		lights in the area or spread them out further. The coordinates tell you 
		which brush face has caused the problem, which tells you indirectly where 
		the problem lights are. Note that this error <b>may</b> be 
		associated with a target_lightramp.</p>

	 <p>Still can't find the QRAD error you're looking for? Visit the <a 
		href="/content/quake2/tutorials/errors/qrad3">Q2 
		QRAD Errors</a> tutorial here at Rust.</p>
</ul>

<hr color=black noshade width=75%>
<h3>Startup and Runtime Errors</h3>

<ul type="square">
	<li><b>Missing texture</b> <!-- inc start end img --><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
	 <p>A custom texture was used and it isn't in the gamedir/textures dir. 
		Remember in q2 textures are not included in .bsp files, if you use custom 
		textures, include the .wals in your zip with install instructions, or better 
		yet, distribute as a .pak with a maps/mymap.bsp and a 
		textures/mytexture.wal. </p>
		
	<li><b>CDAudio: Invalid track 1 specified</b>
	 <p>The CD track ("sounds" key in worldspawn entity) must be 2 through 11 to 
		match the audio tracks on the Q2 CD-ROM. (Track 1 is the Quake 2 
		installation files.) </p>

	<li><b>No music plays in the map</b>
	 <P>Add the "sounds" key in the worldspawn entity and specify a CD track 
		number, 2 through 11.</P>

	<li><b>No spawn function for xxxx</b>
	 <p>Typically caused by not specifying the proper +set game setting. 
		The entity can't appear properly since the proper entity information isn't 
		available with the default Quake 2 game. Run the game with the proper 
		+set game XXXX parameter.</p>

    <li><b>areaportals&gt;=numareaportals (when opening a door; bombs to console)</b>
	 <p>Since areaportals affect vis, you must do a full bsp and some sort of vis 
		after changing them, NOT just a bsp -onlyents. Additionally, can be caused 
		by a bad areaportal - if you get an areaportal message during compilation, 
		you may see this error in the game.</p>

    <li><b>Bad surface extents</b>
     <p>This error might occur on maps compiled with the -chop option for qbsp3, 
		with chop values greater than the default 240. This error is more likely to 
		occur while using software rendering than GL. This error is seen at the 
		console when attempting to load the map. The map crashes when it occurs. If 
		you have <b>not</b> used the -chop option with a chop value 
		greater than 240, try using -chop with values smaller than 240. When you 
		find a value that works, increase the value until the error occurs again, 
		then back off of that value slightly.</p>
		
	<li><b>Com_sprintf: overflow of X in 32 </b></b> <!-- inc start img --><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <p>The message field in the worldspawn entity (used as the title of your 
		map) contains too many characters. The maximum length of this field to 
		prevent this error is 22 characters. This error is generally harmless, but 
		note that worldspawn messages longer than 28 characters will not fit across 
		the width of the F1 Help computer.</p>

    <li><b>connected teleport path_corners</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <p>You have two or more sequential path_corners which both have the teleport 
		spawnflag set.</p>

    <li><b>couldn't find destination &lt;target&gt;</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <p>This error results from a missing, inhibited, or wrongly-named 
		misc_teleporter_dest.</p>

    <li><b>couldn't find spawn point</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
	 <p>The map does not have an info_player_start (for Single Player mode), 
		info_player_deathmatch entity (for Deathmatch mode), or info_player_team1 
		and info_player_team2 (for CTF mode.)</p>

	<li><b>droptofloor: [item] startsolid at (x y z)</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
	 <p>All Quake 2 models have an associated bounding box that cannot be 
		embedded in a world brush. For example, all weapon, ammo, item, and key 
		entities have a 32x32x32 bounding box centered at the origin of that entity, 
		so these items must be placed with their origin at least 16 units away from 
		the surface of any world brush.</p>
		
	<li><b>ED_Alloc: no free edicts</b> <!-- exemt img -->
     <p>There are too many entities or active objects (flying bullets, 
		explosions, debris, lasers, etc.) in your map.</p>
		
	<li><b>elevator used with no pathtarget by func_button at ( x y z )</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <p>Entities which target trigger_elevators (normally func_buttons) must also 
		use the pathtarget field to specify which path_corner the elevator is to 
		travel to when the elevator is triggered.</p>

    <li><b>&lt;entity&gt; without a target</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
	 <P>Many entities (e.g. func_train) require a target to function 
		properly.</p>

    <li><b>Entity used itself</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>You have an entity which has the same value for its target and 
		targetname. If it is caused to trigger its target, it tries to trigger 
		itself. This error is seen on the screen during gameplay.</P>

    <li><b>ERROR: Index Overflow</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>There are too many unique models or too many unique sounds in your 
		map. You cannot have more than 256 unique models or 256 unique sounds 
		in a map. Every brush model (e.g. func_door, trigger_once) counts as a 
		unique model. For more information see <A 
		href="http://mapspy.gamedesign.net/eio.html">Error: Index Overflow (and 
		Other Horrible Nasty Problems) SOLVED</A>.</P>

    <li><b>[classname] at (x y z) has invalid spawnflags set</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>Self-explanatory. This error will not cause any runtime problems, 
		but may indicate that you meant to set a particular spawnflag but typed in a 
		wrong value instead.</P>

    <li><b>func_timer at ( x y z ) has random &gt;= wait</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
	 <P>Self-explanatory. In this case the game will override the random value 
		and use "wait" - FRAMETIME (0.01 seconds).</P>

    <li><b>func_train without a target</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>Func_trains must target a path_corner</P>

    <li><b>func_wall START_ON without TOGGLE</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>This is a nag error - the game will force the TOGGLE spawnflag in this 
		case, and the func_wall will function properly.</P>

    <li><b>&lt;entity&gt; at ( x y z ) has invalid spawnflags set</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>Self-explanatory. If you consistently get this error, it is possible that 
		your editor's entity definition file(s) are fouled up.</P>

    <li><b>item &lt;item&gt; not found for trigger_key at ( x y z )</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>The trigger_key has an invalid item field. Though the item is normally a 
		key entity, you can also use ammo, weapons, and any item entity other than 
		health. You might, for example, take weapons away from a player by setting 
		the item field to a weapon entity.</P>

    <li><b>&lt;key&gt; is not a field </b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>Your map contains an invalid key-value pair. Either your editor has 
		incorrectly inserted an invalid key (that may be valid in another game) or 
		you have manually typed in an invalid key.</P>

    <li><b>PF_SetModel: NULL </b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>An entity that requires one or more brushes to function correctly does 
		not have an associated brush. The usual suspects in this case are trigger 
		brushes (trigger_once, trigger_multiple, etc.). Download <A 
		href="http://www.magnolia.net/~rascal/mapspy.zip">MapSpy</A> to help track 
		down the offending entity.</P>

    <li><b>G_PickTarget: target [name] not found</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>A point_combat entity may only be used once. You cannot have multiple 
		monsters combattarget the same point_combat.</P>

    <li><b>Map does not have an empty leaf</b> <!-- exemt img -->
     <P>This error is caused by a bug in Quake2, and usually occurs when all 
		leafs of a map contain clip brushes. This error is generally only produced 
		in small test maps with few leafs. You can avoid this error by moving clip 
		brushes around, or download a different version of <A 
		href="http://www.magnolia.net/~rascal/qbsp3.zip">qbsp3</A>, which 
		automatically generates an empty leaf if one is not found. This error is 
		seen on the console when loading the map, and the map crashes when it 
		occurs.</P>

    <li><b>&lt;monster&gt; at ( x y z ) has bad item &lt;item&gt;</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>Monsters (including turret_drivers) can drop ammo, weapons, keys, and any 
		item entity other than health.</P>

    <li><b>&lt;monster&gt; ( x y z ) has a bad combattarget &lt;combattarget&gt;: 
	&lt;classname&gt; at ( x y z ) </b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>Combattargets must be point_combat.</P>

    <li><b>&lt;monster&gt; at ( x y z ) has target with mixed types.</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>This error occurs if either 1) monster has a target that is NOT a 
		point_combat and also has a combattarget, or 2) monster has a target that IS 
		a point_combat AND a target that is NOT a point_combat.</P>

    <li><b>&lt;monster&gt; can't find target &lt;target&gt; at ( x y z )</b> <!-- inc end img --><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>The monster targets an entity that does not exist.</P>

    <li><b>Ran out of faces for bmodel</b>
     <P>A large func_water entity is filling an area with a very complex solid 
		surface. A solution is to break the func_water up into smaller entities, 
		start the func_water with the more complex brushes already breaking the 
		surface, or remove some of the more complex brushes in its 
		path.</P>

    <li><b>SZ_GetSpace: Overflow</b>
     <P>The game engine can see too many entities. If you have not already run 
		vis, try a -fast vis. This will usually fix the problem. If it does not, you 
		<B>may</B> be able to solve the problem with a full vis, but this may only 
		obscure a problem that might occur during play (rather than when the level 
		first loads). For example, a full vis may allow you to start the map, but 
		then you might get this error when firing rockets or grenades at a squad of 
		gunners. If a full vis does not solve the problem, you have several 
		choices:<BR>
		<BR>
		- Eliminate entities<BR>
		- Use func_areaportals in your doors<BR>
		- Add vis-blocking architecture, i.e. 90 degree bends in hallways, 
		  doughnut hallways, etc.<BR>
		<BR>
		<b>Special case:</b> You may 
		sometimes get this error message when tracking down leaks using LeakHunter, 
		even though your level contains very few entities. In this case, the 
		pointfile that contains leak information is too large - LeakHunter generates 
		a laser for each segment of the pointfile, and since all segments will be 
		visible to the engine, too many lasers cause this crash. You can eliminate 
		this problem by editing your pointfile with a text editor and deleting 
		points. The pointfile starts in the void and works its way into your map, 
		ending at an entity. You should be able to delete all points after, for 
		example, the 20th point and still have sufficient information in the 
		pointfile to find the leak. Note that LeakHunter will always spawn the 
		player at the last point in the pointfile, so you will not have a problem 
		finding the starting laser segment. Note that having very few entities in 
		your map (so the path from an entity to a leak is longer) usually generates 
		large pointfiles. As an alternative to deleting points in the pointfile, you 
		can temporarily add several light entities to your map and re-compile. This 
		should result in a much smaller pointfile that will not cause the 
		SZ_GetSpace Overflow error with LeakHunter.</P>

    <li><b>target_help with no message at ( x y z )</b> <!-- inc start img --><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>Self-explanatory. Target_help must have a message field (otherwise what's 
		the point?)</P>

    <li><b>target_lightramp has bad ramp (&lt;ramp&gt;)</b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>The message field of target_lightramp must be 2 and only 2 characters, 
		and both characters must be lowercase letters. The first letter specifies 
		the starting lightlevel; 2nd letter specifies the ending lightlevel. a is 
		darkest; z is brightest. For example "az" would ramp from dark to bright and 
		"za" from bright to dark.</P>

    <li><b>target_lightramp target &lt;target&gt; (&lt;classname&gt; at ( x 
    y z )) is not a light. </b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>Target_lightramps may only target light entities. This prohibition 
		includes light_mine1 and light_mine2.</P>

    <li><b>teleporter without a target at ( x y z ) </b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>Misc_teleporter should target a misc_teleporter_dest. With no target, the 
		misc_teleporter will not appear in the game.</P>

    <li><b>train_find: target &lt;target&gt; not found </b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>There is no entity (should be a path_corner) whose targetname matches the 
		target field of the func_train.</P>

    <li><b>trigger_elevator at ( x y z ) target &lt;target&gt; is not a train. </b><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>As implied, trigger_elevators must target a func_train.</P>

    <li><b>trigger_elevator at ( x y z ) unable to find target &lt;target&gt; </b> <!-- inc end img --><a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a> 
     <P>The target of the trigger_elevator (which should be a func_train) does 
		not exist.</P>

    <li><b>Quake 2 simply crashes without an error</b>
     <P>Major causes for this include:<br>
		- Worldcraft putting animated textures in UPPERCASE. Fix using 
		<A href="http://mapspy.gamedesign.net/">MapSpy</A>.
		<a href="http://mapspy.gamedesign.net/"><img border=0 src="/"></a><BR>
		- Lack of a Worldspawn entity.<BR>
		- A VERY low amount of space for a swapfile while loading a large map.<BR>
		- Spawning many entities simultaneously.</P>
</ul>
<!-- jic -->

<!-- eof @ 400 --></body></html>