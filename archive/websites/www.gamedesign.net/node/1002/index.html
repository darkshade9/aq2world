
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
	<head>
		<title>Creating a 'prop_physics entity' - RUST | Gamedesign.net</title>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<!-- NEED TO ADD META TAGS -->
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<base href="http://www.gamedesign.net/" />
<style type="text/css" media="all">@import "http://assets.aq2world.com/archive/websites/www.gamedesign.net/drupal.css";</style>				<link type="text/css" rel="stylesheet" href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/themes/rusted/rusted.css" />
	</head>
	<body >
		<!-- tf bar -->
		
		<!-- masthead -->
		<table cellspacing="0" cellpadding="0" width="100%">
		<tr><td height="88" id="masthead" colspan="5"><img src="http://assets.aq2world.com/archive/websites/www.gamedesign.net/themes/rusted/images/mh_top.jpg" width="760" height="88" /></td></tr><tr><td colspan="5"><div id="navigation">
				<div id="horz_ad">
				<iframe border="0" 
width="728" 
height="90" 
marginwidth="0" 
marginheight="0" 
frameborder="0" 
bordercolor="#000000" 
scrolling="no" 
src="http://banner.telefragged.com/telefragged/default.html"> 
</iframe> 
				<!--<img src="http://assets.aq2world.com/archive/websites/www.gamedesign.net/themes/rusted/images/horz_ad.jpg" width="728" height="92" />--></div>
					<div id="searchbox">
						 <form action="search" method="post">
						 	 <table border="0" cellpadding="0" cellspacing="0"><tr><td valign="bottom"><input id="bawx" type="text" size="15" value="" name="keys" /> <input class="form-submit" type="image" src="http://assets.aq2world.com/archive/websites/www.gamedesign.net/themes/rusted/images/search_btn.jpg" alt="Search Rust" value="Search" /></td></tr></table>
						 </form>
					</div>
				<div id="navlinks" align="center">
					<a href="" title="Return to the main page.">Home</a> | <a href="book" title="Read and contribute to the collaborative books.">Books</a> | <a href="poll" title="View the list of polls on this site.">Polls</a> | <a href="search" title="Search for older content.">Search</a>				| <a href="http://forums.gamedesign.net/">RUST Forums</a></div>
			</div>
			</td>
		</tr>
		<!-- site content -->
		<tr>
			<td valign="top" width="7"><img src="http://assets.aq2world.com/archive/websites/www.gamedesign.net/themes/rusted/images/spacer.gif" width="7" height="1" /></td>
			<td valign="top" id="left-bar" valign="top" width="192">
				<div class="block block-book" id="block-book-0">
<h2>3D Modeling</h2>
<div class="block-content"><ul><li class="collapsed"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/1049">G-max</a></li><li class="collapsed"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/533">Milkshape</a></li><li class="expanded"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/1001">Softimage: XSI</a><ul><li class="leaf"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/975">Symmetrical Editing With Softimage XSI</a></li><li class="leaf"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/1002" class="active">Creating a 'prop_physics entity'</a></li></ul></li></ul></div>
</div><div class="block block-user" id="block-user-0">
<h2>User login</h2>
<div class="block-content"><form action="user/login" method="post">
<div class="user-login-block">
<input type="hidden" name="edit[destination]" value="node/1002" />
<div class="form-item">
 <label for="edit-name">Username:</label><br />
 <input type="text" maxlength="64" class="form-text" name="edit[name]" id="edit-name" size="15" value="" />
</div>
<div class="form-item">
 <label for="edit-pass">Password:</label><br />
 <input type="password" class="form-password" maxlength="64" name="edit[pass]" id="edit-pass" size="15" value="" />
</div>
<input type="submit" class="form-submit" name="op" value="Log in"  />
</div>

</form>
<div class="item-list"><ul><li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/user/register" title="Create a new user account.">Create new account</a></li><li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/user/password" title="Request new password via e-mail.">Request new password</a></li></ul></div></div>
</div><div class="block block-user" id="block-user-1">
<h2>Navigation</h2>
<div class="block-content"><div class="menu">
<ul>
<li class="collapsed"><a href="node" title="">Content</a></li>
<li class="leaf"><a href="tracker" title="">Recent Posts</a></li>

</ul>
</div></div>
</div><div class="block block-poll" id="block-poll-0">
<h2>Poll</h2>
<div class="block-content"><div class="poll"><div class="title">I downloaded the ETQW demo and....</div><div class="text">...I'm too busy playing for polls.</div><div class="bar"><div style="width: 13%;" class="foreground"></div></div><div class="percent">13%</div><div class="text">...it's awesome.</div><div class="bar"><div style="width: 50%;" class="foreground"></div></div><div class="percent">50%</div><div class="text">...it's okay, I expected better.</div><div class="bar"><div style="width: 13%;" class="foreground"></div></div><div class="percent">13%</div><div class="text">...I'm lost in the valley, anyone have a map?</div><div class="bar"><div style="width: 0%;" class="foreground"></div></div><div class="percent">0%</div><div class="text">...my machine won't run it. :-(</div><div class="bar"><div style="width: 25%;" class="foreground"></div></div><div class="percent">25%</div><div class="total">Total votes: 8</div></div><div class="links"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/user/login">login</a> or <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/user/register">register</a> to post comments | <a href="poll" title="View the list of polls on this site.">older polls</a></div></div>
</div><div class="block block-blog" id="block-blog-0">
<h2>Recent blog posts</h2>
<div class="block-content"><div class="item-list"><ul><li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/2385">mekiboz.cn</a></li><li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/2384">vcgaxwbyrc</a></li><li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/2383">xvsdhqrunq</a></li><li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/2382">ewxbjpeaap</a></li><li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/2381">xwhycbtrdp</a></li><li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/2380">zdbvhtebfu</a></li><li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/2379">dfgufxbqwj</a></li><li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/2378">qhyuadsjwb</a></li><li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/2377">fwrydspuvn</a></li><li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/2376">cxwugcwhgl</a></li></ul></div><div class="more-link"><a href="blog" title="Read the latest blog entries.">more</a></div></div>
</div><div class="block block-user" id="block-user-2">
<h2>Who's new</h2>
<div class="block-content"><div class="item-list"><ul><li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/user/8406" title="View user profile.">Shempanze</a></li><li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/user/8405" title="View user profile.">yqfaw</a></li><li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/user/8404" title="View user profile.">VogeGrers</a></li><li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/user/8403" title="View user profile.">Bablosol</a></li><li><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/user/8402" title="View user profile.">fblsz</a></li></ul></div></div>
</div><div class="block block-user" id="block-user-3">
<h2>Who's online</h2>
<div class="block-content">There are currently 0 users and 28 guests online.</div>
</div>				<img src="http://assets.aq2world.com/archive/websites/www.gamedesign.net/themes/rusted/images/spacer.gif" width="192" height="1" />
			</td>
			<td valign="top" width="7"><img src="http://assets.aq2world.com/archive/websites/www.gamedesign.net/themes/rusted/images/spacer.gif" width="7" height="1" /></td>
			<td valign="top" id="content">
				<h1>Welcome to RUST | Gamedesign.net</h1>
				<!-- inner content -->
				<table cellpadding="0" cellspacing="0" border="0">
					<tr>
						<td valign="top"><img src="http://assets.aq2world.com/archive/websites/www.gamedesign.net/themes/rusted/images/spacer.gif" width="7" height="1" /></td>
						<td valign="top">
							<div class="body">
								<h1>Creating a 'prop_physics entity'</h1>
								<div id="breadcrumb"><div class="breadcrumb"><a href="">Home</a> &raquo; <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/532" title="">3D Modeling</a> &raquo; <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/1001">Softimage: XSI</a></div></div>																								<!-- begin content --><div class="node">

<div class="node-content">
<div class="info">Submitted by <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/user/408" title="View user profile.">yesukai</a> on Sat, 2005-03-26 22:41.</div>
<!--Uploaded on Behalf of yesukai by Andy - Mar 05-->
<h3>Creating a 'prop_physics entity'</h3>
<p style="text-align: justify;">A big part about mapping for Half-Life 2 (and Source games in general) is the use of props to spice up a level while allowing the engine to remove the detail to preserve performance. I will guide you through the creation of a prop_physics entity, which may also be used as a prop_static entity. Anything you see in grey boxes is an explanation on why something is the way it is; you can safely ignore them if you don't care why. We are going to pick a nice simple object to start with: a can of Spam.</p>
<h4>Modeling</h4>
<p style="text-align: justify;">Start up XSI. First we are going to change the backface settings of XSI to make it more Source friendly. Go to <span style="color: rgb(0, 0, 128);">View</span> -&gt; <span style="color: rgb(0, 0, 128);">Display Options (All Cameras)</span> . Then click the  <span style="color: rgb(0, 0, 128);">Performance</span> tab, and select <span style="color: rgb(0, 0, 128);">backface culling</span>.</p>
            <table bgcolor="#c0c0c0" border="0" cellpadding="5" cellspacing="0" width="100%">
               <tbody>
                  <tr>
                     <td>
                        <p>Why? Because the Source engine, like most 3D games, does not display backfaces. With backface culling turned off in XSI (the default), you can't easily see which side of a polygon is the backface and which isn't. You could accidentally make your entire model inside out. It's safer just to have XSI display models the same way the Source engine will.</p>
                     </td>
                  </tr>
               </tbody>
            </table>
<br />
<p style="text-align: justify;"><img src="content/modeling/xsi_2/subdivision.gif" style="padding: 5px; float: right;" width="300" height="300" alt="Subdivision" title="Subdivision" /> With that set, we are ready to start building our model. <br />
Go to <span style="color: rgb(0, 0, 128);"> Get </span> -&gt; <span style="color: rgb(0, 0, 128);"> Primitive </span> -&gt; <span style="color: rgb(0, 0, 128);"> Polygon Mesh </span> -&gt; <span style="color: rgb(0, 0, 128);"> Cube </span>.</p>
<p>This will create a cube on the grid. Now, a can of Spam is not quite a square, it's more of a rounded rectangle. To make the cube rounded, we need to add some more edges to the sides. Press <span style="color: rgb(0, 0, 128);">I</span> to use the <span style="color: rgb(0, 0, 128);"> Edge Select Tool </span> , then click the top and bottom edges of one side while holding <span style="color: rgb(0, 0, 128);"> CTRL</span>. They will both show red once they have been selected. Now, hit <span style="color: rgb(0, 0, 128);"> Shift-D </span> to bring up the <span style="color: rgb(0, 0, 128);"> Subdivide Edge Op </span> dialog. By default, the subdivision amount is set to <span style="color: rgb(0, 0, 128);"> 2</span>, this means what was once one piece (a square) is now two pieces (two rectangles). This really will not make the edges of the can look that round, so let's increase it. A value of <span style="color: rgb(0, 0, 128);"> 5 </span> works well here, as it gives us one polygon in the middle to use as the side of the can, then two edges to use for each corner. After splitting the edges, select the top and bottom edges of the opposite side of the can, and repeat the subdivision process. </p>
<p>&nbsp;</p>
<p style="text-align: justify;"><img src="content/modeling/xsi_2/roundededges.gif" style="padding: 5px; float: left;" width="300" height="321" alt="Rounded Edges" title="Rounded Edges" /> With the sides divided up, we are able to move the points out to make for a better looking can. <br />
Press <span style="color: rgb(0, 0, 128);"> T </span> for point selection mode, then drag the selection box over all of the model's points. As the can is symmetrical, it would be in our best interest to move both side's points out the same amount and at the same time. To do this, we use the scale tool. Press <span style="color: rgb(0, 0, 128);"> X </span> to use the scale tool. From the any viewport, click and hold the axis bar that points away from the center in the direction of the sides of the can. Drag the mouse to the side, and the can gets wider on that axis, all points moving away from each other on that axis; you now have a rectangular can. To make the can rounded, select only the four inner points on the sides, and scale them on that axis again, just a bit farther outward. Select the two inner-most points on each side and push those out even farther. You will probably have to use the &quot;Translate Tool&quot; (<span style="color: rgb(0, 0, 128);"> V </span>) to move the points around to make for a better shape, as shown in the image.</p>
<p>&nbsp;</p>
<p style="text-align: justify;"><img src="content/modeling/xsi_2/rotoscopy.gif" style="padding: 5px; float: right;" width="300" height="290" alt="rotoscopy" title="rotoscopy" />Now that we have the basic shape of the can, we need to make sure it's proportional to a real can of Spam. This is where rotoscopy comes in handy. Rotoscopy is pretty much the process of putting a picture behind your object to help you model it. A good picture to use for this was found off of Google Image Search, and can be found <a href="this_is_not_spam.png"> here </a>. In the front view, go to the part that says <span style="color: rgb(0, 0, 128);"> wireframe </span>, then go down the menu to <span style="color: rgb(0, 0, 128);"> rotoscope </span>. In the dialog box that pops open, Click <span style="color: rgb(0, 0, 128);"> New </span>and navigate to your reference shot of a can of Spam. Scale the model until it is approximately the same size as the can of Spam.<br />
This next step is extremely important:  go to <span style="color: rgb(0, 0, 128);">transform</span> -&gt; <span style="color: rgb(0, 0, 128);">Set Neutral Pose</span> then go to <span style="color: rgb(0, 0, 128);">transform</span> -&gt; <span style="color: rgb(0, 0, 128);">Freeze All Transforms</span>. </p>
<p>&nbsp;</p>
            <table bgcolor="#c0c0c0" border="0" cellpadding="5" cellspacing="0" width="100%">
               <tbody>
                  <tr>
                     <td>
                        <p>Why? XSI stores the points as being where they were created. All transformations used on them are just numbers that are applied to these points. When you export your SMD later, it will export where XSI says the points are, but not the translations. This means that your exported model would be the square you started with. By freezing the transformations, you are telling XSI that the points current position (with transformations applied) should be its starting position. Thus, it will export properly.</p>
                     </td>
                  </tr>
               </tbody>
            </table>
<br />
<p>The basic model should now be done.</p>
<p>&nbsp;</p>
<h4>Texturing</h4>
<p style="text-align: justify;"> <img src="content/modeling/xsi_2/texturing.gif" style="padding: 5px; float: right;" width="300" height="450" alt="texturing" title="texturing" /> Texturing is the process of assigning texture coordinates to a model. The goal is to get all the polygons arranged on top of a texture while minimizing the amount of distortion. To do this, first we go to <span style="color: rgb(0, 0, 128);"> Get </span> -&gt; <span style="color: rgb(0, 0, 128);"> Property </span> -&gt; <span style="color: rgb(0, 0, 128);"> Texture Projection </span> -&gt; <span style="color: rgb(0, 0, 128);"> Cubic </span> . This will lay the polygons flat onto the texture projection. What decides which polygons go together is the direction they face. In this case, the front, back, left side, right side, bottom, and top will all be separate pieces or &quot;islands&quot; on the projection. To see what the texture projection looks like or to edit it, you need to click the view (such as <span style="color: rgb(0, 0, 128);">top</span>) on one of you viewports, and select <span style="color: rgb(0, 0, 128);"> Texture Editor </span> from the menu. This changes that viewport to the texture editor. You should see the Spam picture we used earlier covered with yellow lines and red shading. First thing to do is to change that picture of Spam to a more suitable background for texturing. <a href="http://www.valve-erc.com/srcsdk/models/images/checkerboard.bmp">This</a> is the texture provided by valve, it is a checkerboard pattern, which is helpful in determining the amount of distortion. Download that image, then click <span style="color: rgb(0, 0, 128);"> Clips </span> -&gt; <span style="color: rgb(0, 0, 128);"> Import Clips </span> in the texture editor. Select the checkerboard image you just downloaded and hit OK. This changes the background image in the texture editor to the checkerboard. All of the flattened pieces of our image are stacked on top of each other: we must remedy this. Press <span style="color: rgb(0, 0, 128);"> I </span> to turn on <span style="color: rgb(0, 0, 128);"> island select </span> . In your camera (3D) view, press <span style="color: rgb(0, 0, 128);"> U </span> to enter <span style="color: rgb(0, 0, 128);"> Polygon Select Mode </span> . Holding <span style="color: rgb(0, 0, 128);"> CTRL </span> , select the three polygons that make up the front of our can. They will be selected in the texture editor as well. Press <span style="color: rgb(0, 0, 128);"> V </span> with the mouse in the texture editor to enter translate mode, and then click-drag to move the island for the front of the Spam to the side. Do the same with the back, sides, top, and bottom of the can. It may be necessary to pan/zoom the view. This is done by pressing <span style="color: rgb(0, 0, 128);"> Z </span> in the texture editor.</p>
<p>&nbsp;</p>
<p style="text-align: justify;"><img src="content/modeling/xsi_2/clip.gif" style="padding: 5px; float: left;" width="300" height="304" alt="clip" title="clip" /> Once you have all the islands pulled out, you need to resize each to get rid of distortion. First, change your 3D/Camera view to <span style="color: rgb(0, 0, 128);"> textured </span> so you can see your changes. Using the Scale tool, <span style="color: rgb(0, 0, 128);"> X </span> in the texture editor, resize each piece along whatever axis is necessary to get the checkerboard's boxes to be square instead of rectangular. After you do this for each island, move them into a close as a square as you can, then select them all and scale them so that they all fit inside your square checkerboard clip.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
            <table bgcolor="#c0c0c0" border="0" cellpadding="5" cellspacing="0" width="100%">
               <tbody>
                  <tr>
                     <td>
                      <p>Why? Texture coordinates are stored as a UV value, from 0,0 to 1,1 on the U and V axis. The clip represents this area, with the top left being 0,0 and the bottom right being 1,1.</p>
                     </td>
                  </tr>
               </tbody>
            </table>
<br />
<p>You have now assigned every surface on your model a &quot;piece&quot; of the texture. Click the maximize icon on the top right of the texture editor. Use the pan/zoom tool (Z) to position the clip in the center to make it as big as possible while still being able to see the entire clip. Press <span style="color: rgb(0, 0, 128);">Print Screen</span> on your keyboard, then load up your favorite editing program (from here on in: Photoshop) and create a new image/paste the screenshot of your desktop into the program. Using the <span style="color: rgb(0, 0, 128);">Crop</span> tool, make yourself an image of only the clip area with the islands you arranged in it. Check to make sure the image is square with <span style="color: rgb(0, 0, 128);">Image</span> -&gt; <span style="color: rgb(0, 0, 128);">Image Size</span> . Now we have the texture to work on. </p>
<p style="text-align: justify;"><img src="content/modeling/xsi_2/skin.gif" style="padding: 5px; float: right;" width="256" height="256" alt="skin" title="skin" /> Creating the texture is pretty much just a process of coloring in the islands with whatever you want that particular set of polygons to look like. I used <a href="http://www.deskpicture.com/DPs/Miscellaneous/spam.jpg">this</a> image of Spam as a base, by copy/pasting it into my texture and resizing it to fit inside the lines that define the &quot;front&quot; polygon. I then used the Eyedropper tool to select the blue color from the image, and painted in the rest of the sides with blue. A cool thing here is that your preschool teacher lied to you. It's perfectly OK to color outside the lines; anything outside the lines isn't assigned to a polygon and hence will not be viewed. I added some text that is too small to read on the &quot;back&quot; island, and colored the top and bottom with a gold color. Of course, how you design you skin and how much detail you put into is entirely up to you. Once you have the skin done, resize it. For something as trivial as a can of Spam, I resized the texture to 256x256, though for more detailed models you may need more pixels. Remember though, texture size affects the render speed in game, so don't use the largest texture size available just because you can. Save the texture and go back to XSI.</p>
<p style="text-align: justify;">All textures in Half-Life 2/Source need to be in VTF format, so we will run the texture through <a href="http://www.valve-erc.com/srcsdk/Materials/materials_vtex_cli.html">VTEX</a> and place the resulting file in <span style="color: rgb(0, 0, 128);">half-life 2\<span></span> hl2\ <span></span> materials\<span></span> models\ <span></span> spam </span>. We also need to create a VMT file so that the engine knows what to do with this texture. Using notepad, create a file called  <span style="color: rgb(0, 0, 128);">spam.VMT</span> that contains this:</p>
<p>&nbsp;</p>
<p style="font-weight: bold; font-family: Courier New;">&quot;VertexLitGeneric&quot;<br />
{<br />
     &quot;$baseTexture&quot; &quot;models/spam/spam&quot;<br />
     &quot;$model&quot; 1<br />
}
</p>
<p>&nbsp;</p>
<p>This lets the engine know where the texture is relative to the materials directory and that it will be used for a model.</p>
<p style="text-align: justify;">After that little field trip, we are back in XSI. Remember the <span style="color: rgb(0, 0, 128);">Clip</span> button in the texture browser? Click it again, and select <span style="color: rgb(0, 0, 128);">Import Clip</span> again. Browse to your texture, and hit OK. You should now see your islands lined up with your skins in the texture editor, and a textured model in the 3D/Camera view. But wait, before you go jumping for joy, you need to (semi)permanently affix the texture to your model. Press <span style="color: rgb(0, 0, 128);">3</span> to change XSI to <span style="color: rgb(0, 0, 128);">render</span> mode. Go to <span style="color: rgb(0, 0, 128);">Get</span> -&gt; <span style="color: rgb(0, 0, 128);">material</span> -&gt; <span style="color: rgb(0, 0, 128);">phong</span>. In the dialog box that pops up, click the little wrench icon across from <span style="color: rgb(0, 0, 128);">color</span>, then go down the menu to <span style="color: rgb(0, 0, 128);">clips</span> and select you texture. Your object is now textured.</p>
<p>&nbsp;</p>
<h4>Bones and Exporting</h4>
<p style="text-align: justify;"><img src="content/modeling/xsi_2/bone.gif" style="padding: 5px; float: right;" width="256" height="197" alt="bone" title="bone" /> The prop needs at least one bone, as far as I'm aware, so, we're going to give it one. Press <span style="color: rgb(0, 0, 128);">2</span> to enter animation mode in XSI, then go to <span style="color: rgb(0, 0, 128);">create</span> -&gt; <span style="color: rgb(0, 0, 128);">skeleton</span> -&gt; <span style="color: rgb(0, 0, 128);">Draw 2D Chain</span>. In one of your 2D views, click twice inside the can of Spam do draw a bone. Right click to stop drawing the bone (you only need one), then select your can. Go to <span style="color: rgb(0, 0, 128);">Deform</span> -&gt; <span style="color: rgb(0, 0, 128);">Envelope</span> -&gt; <span style="color: rgb(0, 0, 128);">Set Envelope</span>. It will have you pick a bone, select the bone that you just created. Voila. The can of Spam now has a bone. <b>It has come to my attention that you may simply skip this step, as studiomdl will add its own bone by default if the model has none.</b>Time to move on to exporting.</p>
<p style="text-align: justify;">Thanks to the Valve extension for XSI, we have a fairly simple export method. With your can of Spam selected, go to <span style="color: rgb(0, 0, 128);">ValveSource</span> -&gt; <span style="color: rgb(0, 0, 128);">Export SMD</span>. In the dialog box, navigate to the hl2\modelsrc directory under the sdk_content folder in your steam directory. I used the name prop_spam for the model. Make sure the dialog says <span style="color: rgb(0, 0, 128);">Model (.smd)</span> for the file type, uncheck <span style="color: rgb(0, 0, 128);">remove all unused bones</span> (because it says so, I have no idea why.), then hit OK. Having exported the Reference SMD, you may believe that we need to export a Physics SMD and at least one Animation SMD. Good job for reading the SDK, but you're wrong. A physics SMD is a volume that defines the shape of the model while being convex. Well, our can of Spam is already convex, so we can just use the reference SMD as the physics SMD. Same goes for the animation, as it's a prop_physics and has no animations, we can use the reference SMD as the animation SMD as well. Isn't that great? Anyhow, now to move on to the wacky world of QC files.</p>
<p>&nbsp;</p>
<h4>Compiling</h4>
<p style="text-align: justify;">The good news is, we are done with XSI. The bad news is, we are starting on QC files. QC files have the reputation of being a pain, and they deserve it. I personally messed with this QC file for about 3 hours before I understood it. You see, it's easy to just copy and paste stuff out of a QC, but if you don't understand what it's doing, you are liable to make mistakes, so sit down and listen up.</p>
<p>These are the parts of our QC file, each line explained:</p>
<p style="font-weight: bold; font-family: Courier New;">$modelname &quot;prop_spam.mdl&quot;</p>
<br />
<p>This tells the compiler what to name the final model.</p>
<p>&nbsp;</p>
<p style="font-weight: bold; font-family: Courier New;">$scale 1.0</p>
<br />
<p>This tells the compiler how big to make the model. If you accidentally made the model 10x bigger/smaller than it should be, this is a way to fix it. For now, leave it at 1.</p>
<p>&nbsp;</p>
<p style="font-weight: bold; font-family: Courier New;">$body &quot;Body&quot; prop_spam.smd</p>
<br />
<p>This tells the compiler what the reference model is. In this case, prop_spam.smd.</p>
<p>&nbsp;</p>
<p style="font-weight: bold; font-family: Courier New;">$sequence idle &quot;prop_spam&quot; fps 15 ACT_IDLE 1</p>
<br />
<p>This is the animation. Everything, even a prop_physics, needs at least one animation (even if it's static). The name of animation is <span style="color: rgb(0, 0, 128);">idle</span>, the name of the SMD that has that animation is <span style="color: rgb(0, 0, 128);">prop_spam</span>. The rest of that has to do with function calls/code, so best leave it alone.</p>
<p>&nbsp;</p>
<p style="font-weight: bold; font-family: Courier New;">$surfaceprop &quot;metal&quot;</p>
<br />
<p>This tells the metal can of Spam to act like metal. Pretty simple.</p>
<p>&nbsp;</p>
<p style="font-weight: bold; font-family: Courier New;">$keyvalues { &quot;prop_data&quot; { &quot;base&quot; &quot;glass.small&quot; } }</p>
<br />
<p>This sets the prop_data for the model. I believe that most of this determines how the object acts in the physics system. This value was the default of the QC file I messed with to create this one, and as it appears to work just fine, &quot;if it ain't broke, don't fix it&quot;. If you really want to, prop_data.txt has a lot more types to use.</p>
<p>&nbsp;</p>
<p style="font-weight: bold; font-family: Courier New;">$cdmaterials &quot;models\<span></span>spam&quot;</p>
<br />
<p>This is the path, relative to the materials directory, that we have our material in. In this case, it's going to be in the <span style="color: rgb(0, 0, 128);">models\<span></span> spam </span> subdirectory of the materials directory.</p>
<p>&nbsp;</p>
<p style="font-weight: bold; font-family: Courier New;">$collisionmodel &quot;prop_spam.smd&quot; { $mass 2.0 }</p>
<br />
<p>This line tells the compiler what to use for the physics volume, which is our model, because it's already convex. It also tells the physics system the prop's mass.</p>
<p>&nbsp;</p>
<p>That's it for the QC file. All these lines should be in a file called <span style="color: rgb(0, 0, 128);">prop_spam.qc</span> in the same directory as your SMD files. Make sure that the SDK is currently set to be modding Half-Life 2 which is done through the Steam menu. Double-click the QC file, and if you have not already, tell it to open with studiomdl.exe in the <span style="color: rgb(0, 0, 128);">sourcedk\<span></span> bin </span> directory. You should see a command prompt appear for a brief time, then dissapear. If all went well, you now have a couple new files in <span style="color: rgb(0, 0, 128);">half-life 2\<span></span> hl2\ <span></span> models </span>, including a MDL file. We now have a compiled model. The model will now show up in Hammer when you go to select a world model on a prop_physics. You can also load the model in HLMV to see it without putting it in-game.</p>
<p>&nbsp;</p>
<h4>Common Problems</h4>
<p style="font-weight: bold"> - Modeling</p>
<ul><li>I keep selecting points behind the point I want to select</li></ul>
<p>Try pressing <span style="color: rgb(0, 0, 128);">U</span> to turn on Ray-Cast polygon select, then click the <span style="color: rgb(0, 0, 128);">Point</span> button on the far right of the screen. This should make it so only one point gets selected at a time. Or you could just select your points in the 3D/Camera view from an angle so you know there is nothing behind it.</p>
 <p style="font-weight: bold"> - Texturing</p>
<ul><li>When I try to move an island over, it just moves one point/part of the island instead of all three flattened polygons that make up the island. </li></ul>
<p>Did you press <span style="color: rgb(0, 0, 128);">I</span> to make sure island select was on?</p>
<p style="font-weight: bold"> - Compiling</p>
<ul><li>The model exists, but it has 0 polys and I can't see it</li></ul>
<p> You did not select the can of Spam before exporting it.</p>
<ul><li>The model is textured with a pink and black checkerboard</li></ul>
<p>Either your texture is in the wrong directory, your QC file points to the wrong directory, or you didn't change your texture into a VTF/VMT. </p>
<ul><li>The model is deformed, almost square</li></ul>
<p>You didn't freeze your model in XSI like I said to after the words &quot;very important step&quot;.</p>
<p>&nbsp;</p>
<h4>Spam's Away</h4>
<p style="text-align: justify;">We are done now, and the model is safely in-game. It's a fairly simple process once you know how to do it. Just think, you gained the knowledge in one article that it took me a week to figure out. As usual, if you are confused about the article or have any questions for me, send me an email at jeffca51 <span style="color: rgb(128, 128, 128);"> at </span> yahoo <span style="color: rgb(128, 128, 128);"> dot </span> com, or post a comment here.<br />
If you have any questions about modeling not related to this article, post them in the <a href="http://forums.gamedesign.net/viewforum.php?f=47">Softimage</a> forum.
</p>
<!--EOF@397 or there abouts--><div class="book"><div class="nav"> <div class="links"><div class="prev"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/975" title="View the previous page.">previous</a></div><div class="next">&nbsp;</div><div class="up"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/1001" title="View this page's parent section.">up</a></div></div> <div class="titles"><div class="prev">Symmetrical Editing With Softimage XSI</div></div></div></div></div>

<div class="links"><a href="book/print/1002" title="Show a printer-friendly version of this book page and its sub-pages.">printer-friendly version</a> | <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/user/login">login</a> or <a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/user/register">register</a> to post comments</div>
</div><!-- end content -->							</div>
							<div id="body-spring">RUST | Gamedesign.net is your source for all the latest game-editing news and tutorials. If you are seeing this message, this means that you are using a browser that does not support CSS. Please upgrade your browser and enjoy your stay at RUST and if you have any questions, comments, or suggestions, please contact a site administrator.</div>
							</td>
						<td valign="top"><img src="http://assets.aq2world.com/archive/websites/www.gamedesign.net/themes/rusted/images/spacer.gif" width="7" height="1" /></td>
						<td valign="top" width="160"><div id="right-bar"><div class="block block-menu" id="block-menu-153">
<h2>Editing Handbooks</h2>
<div class="block-content"><div class="menu">
<ul>
<li class="leaf"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/532" title="">3D Modeling</a></li>
<li class="leaf"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/167" title="">Doom 3</a></li>
<li class="leaf"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/111" title="">Game/Map Design</a></li>
<li class="leaf"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/921" title="">Half-Life</a></li>
<li class="leaf"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/663" title="">Half-Life 2</a></li>
<li class="leaf"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/128" title="">Kingpin</a></li>
<li class="leaf"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/1147" title="">Quake 4</a></li>
<li class="leaf"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/11" title="">Quake II</a></li>
<li class="leaf"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/12" title="">Quake III Arena</a></li>
<li class="leaf"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/813" title="">Warcraft III</a></li>
<li class="leaf"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/708" title="">Interviews</a></li>

</ul>
</div></div>
</div><div class="block block-menu" id="block-menu-337">
<h2>About Us</h2>
<div class="block-content"><div class="menu">
<ul>
<li class="leaf"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/1034" title="">Staff Resume's</a></li>
<li class="leaf"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/726" title="">Design Resume's</a></li>
<li class="leaf"><a href="http://assets.aq2world.com/archive/websites/www.gamedesign.net/node/759" title="">Resume Template</a></li>

</ul>
</div></div>
</div><div class="block block-block" id="block-block-1">
<h2>Advertisement</h2>
<div class="block-content"><div align="center"><!-- <img src="http://assets.aq2world.com/archive/websites/www.gamedesign.net/themes/rusted/images/vert_ad.jpg" border="1" width="120" height="600" /> -->
<iframe border="0" 
width="120" 
height="600" 
marginwidth="0" 
marginheight="0" 
frameborder="0" 
bordercolor="#000000" 
scrolling="no" 
src="http://banner.telefragged.com/telefragged/default600.html"> 
</iframe> 
</div></div>
</div></div><br /><img src="http://assets.aq2world.com/archive/websites/www.gamedesign.net/themes/rusted/images/spacer.gif" width="160" height="1" /></td>
						<td valign="top"><img src="http://assets.aq2world.com/archive/websites/www.gamedesign.net/themes/rusted/images/spacer.gif" width="7" height="1" /></td>
					</tr>
				</table>
 			</td>
			<td valign="top" width="7"><img src="http://assets.aq2world.com/archive/websites/www.gamedesign.net/themes/rusted/images/spacer.gif" width="7" height="1" /></td>
		</tr>
		<tr><td valign="top" height="7" colspan="5"></td></tr>
		<!-- footer -->
		<tr>
			<td valign="top" id="footer" colspan="5">&copy; 2005 <strong><a href="/">RUST | Gamedesign.net</a></strong>. Site design by <a href="http://www.bleasedesign.com/">Jherax</a> with modifications by <a href="http://crockatt.computed.net/portfolio/mainFrame.htm">Skinmaster</a>.</td>
		</tr>
		</table>
		 	</body>
</html>
